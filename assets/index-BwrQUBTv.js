import{t as ct,c as dt,r as g,j as e,S as mt,a as re,R as d,L as Me,A as ne,b as ut,u as H,V as He,d as Ke,e as Je,C as Qe,f as Xe,T as Ze,D as es,P as ht,g as ss,m as ae,X as ts,h as as,i as rs,k as ns,l as pt,n as is,o as os,I as ls,p as xt,q as gt,s as cs,v as ds,F as ms,w as us,x as ft,y as hs,z as jt,B as ps,E as xs,G as gs,H as fs,J as vt,K as js,M as bt,N as vs,O as bs,Q as yt,U as Nt,W as ys,Y as wt,Z as Ns,_ as St,$ as ws,a0 as Ss,a1 as Ct,a2 as Cs,a3 as kt,a4 as Pt,a5 as de,a6 as Ge,a7 as Be,a8 as It,a9 as _t,aa as Rt,ab as Mt,ac as ks,ad as me,ae as Ps,af as Is,ag as _s,ah as At,ai as we,aj as Rs,ak as Se,al as Ce,am as ke,an as Pe,ao as Ms,ap as Et,aq as qe,ar as Dt,as as Ae,at as Ee,au as ie,av as Tt,aw as Ot,ax as Lt,ay as Ft,az as Ut,aA as Gt,aB as Bt,aC as $e,aD as As,aE as qt,aF as $t,aG as zt,aH as Wt,aI as Es,aJ as Ds,aK as Vt,aL as Ts,aM as Yt,aN as Ht,aO as Kt,aP as Jt,aQ as Qt,aR as Xt,aS as Zt,aT as ea,aU as sa,aV as ta,aW as ze,aX as aa,aY as ra,aZ as O,a_ as na,a$ as ia,b0 as oa,b1 as la}from"./vendor-CA6vKP4Q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function w(...s){return ct(dt(s))}const M=g.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:w("rounded-xl border bg-card text-card-foreground shadow",s),...t}));M.displayName="Card";const L=g.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:w("flex flex-col space-y-1.5 p-6",s),...t}));L.displayName="CardHeader";const ca=g.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:w("font-semibold leading-none tracking-tight",s),...t}));ca.displayName="CardTitle";const da=g.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:w("text-sm text-muted-foreground",s),...t}));da.displayName="CardDescription";const A=g.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:w("p-6 pt-0",s),...t}));A.displayName="CardContent";const Os=g.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:w("flex items-center p-6 pt-0",s),...t}));Os.displayName="CardFooter";const P=g.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:w("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a}));P.displayName="Input";const ma=re("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=g.forwardRef(({className:s,variant:t,size:a,asChild:r=!1,...n},i)=>{const c=r?mt:"button";return e.jsx(c,{className:w(ma({variant:t,size:a,className:s})),ref:i,...n})});S.displayName="Button";function ua({onSuccess:s}){const[t,a]=d.useState(""),[r,n]=d.useState(!1),i=c=>{c.preventDefault(),t==="pestOnaPENTERpy123!"?(localStorage.setItem("password-protected","true"),s()):n(!0)};return e.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-background p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(173,216,230,0.1)_25%,rgba(173,216,230,0.1)_50%,transparent_50%,transparent_75%,rgba(173,216,230,0.1)_75%)] bg-[length:20px_20px]"}),e.jsxs("div",{className:"relative z-10 max-w-lg w-full text-center mb-8",children:[e.jsx("img",{src:"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png",alt:"MyVGE",className:"h-16 mx-auto mb-4 invert-[0.4] sepia-[.75] saturate-[.6] hue-rotate-[130deg] brightness-[0.8] contrast-[.8]"}),e.jsx("p",{className:"text-xl text-muted-foreground font-light mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-muted-foreground",children:"An exclusive platform for property investment analysis and portfolio management"})]}),e.jsxs(M,{className:"w-full max-w-md relative z-10 bg-background/80 backdrop-blur-sm border-primary/20",children:[e.jsxs(L,{className:"text-center space-y-2 pb-4",children:[e.jsx(Me,{className:"w-10 h-10 mx-auto text-primary"}),e.jsx("h2",{className:"text-2xl font-semibold",children:"Developer Preview"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Access restricted to invited developers and investors"})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{type:"password",placeholder:"Enter access code",value:t,onChange:c=>{a(c.target.value),n(!1)},className:`bg-background/50 border-primary/20 ${r?"border-destructive":""}`}),r&&e.jsx("p",{className:"text-sm text-destructive",children:"Invalid access code"})]}),e.jsxs(S,{type:"submit",className:"w-full group",children:["Access Platform",e.jsx(ne,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]}),e.jsxs("div",{className:"relative z-10 mt-8 text-center text-sm text-muted-foreground",children:[e.jsx("p",{children:"Â© 2024 MyVGE. All rights reserved."}),e.jsx("p",{className:"mt-1",children:"Currently in private alpha testing"})]})]})}function ha({className:s}){return e.jsx("div",{className:w("flex items-center justify-center",s),children:e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})}function pa(){return null}const xa="https://zcuapuvvygahkzljuhyg.supabase.co",Ls="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjdWFwdXZ2eWdhaGt6bGp1aHlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc5MTQwMzcsImV4cCI6MjA1MzQ5MDAzN30.GIhphzkznmDXgrUApGW479uHHluqDWqy_9cfG5sU5Xc";console.log("Supabase Anon Key:",Ls);const _=ut(xa,Ls,{auth:{persistSession:!0,storageKey:"my-vge-auth",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!1}}),Fs=g.createContext(void 0);function Us({children:s}){const[t,a]=g.useState(null),[r,n]=g.useState(null),[i,c]=g.useState(!0),b=H();async function y(o){try{const{data:v,error:l}=await _.from("profiles").select("*").eq("id",o).single();if(l){console.error("Error fetching profile:",l),n(null);return}console.log("Fetched profile:",v),n(v)}catch(v){console.error("Error fetching profile:",v),n(null)}}g.useEffect(()=>{(async()=>{try{const{data:{session:l}}=await _.auth.getSession();l!=null&&l.user&&(a(l.user),await y(l.user.id))}catch(l){console.error("Error initializing auth:",l)}finally{c(!1)}})();const{data:{subscription:v}}=_.auth.onAuthStateChange(async(l,j)=>{console.log("Auth state change:",l,j),l==="SIGNED_IN"||l==="TOKEN_REFRESHED"?j!=null&&j.user&&(a(j.user),await y(j.user.id)):l==="SIGNED_OUT"&&(a(null),n(null),localStorage.removeItem("password-protected"),b("/")),c(!1)});return()=>v.unsubscribe()},[b]);async function f(o,v,l,j){try{const{data:N,error:R}=await _.auth.signUp({email:o,password:v,options:{data:{first_name:l,last_name:j},emailRedirectTo:"https://myvge.com/auth/callback"}});if(R)throw R;if(N.user){const{error:x}=await _.from("profiles").insert({id:N.user.id,email:o,full_name:`${l} ${j}`,role:"user",subscription_tier:"free",subscription_status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(x)throw console.error("Profile creation error:",x),x}}catch(N){throw console.error("Sign up error:",N),N}}async function h(o,v){try{const{data:l,error:j}=await _.auth.signInWithPassword({email:o,password:v});if(j)throw console.error("Sign in error details:",j),j.message.includes("Email not confirmed")?new Error("Please confirm your email address before signing in."):j;return l.user&&await y(l.user.id),l.user}catch(l){throw console.error("Sign in error:",l),l}}async function u(){try{const{error:o}=await _.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://myvge.com/auth/callback"}});if(o)throw o}catch(o){throw console.error("Google sign-in error:",o),o}}async function m(){try{const{error:o}=await _.auth.signOut();if(o)throw o;a(null),n(null),localStorage.removeItem("password-protected"),b("/")}catch(o){throw console.error("Sign out error:",o),o}}const p={user:t,profile:r,isLoading:i,signIn:h,signUp:f,signInWithGoogle:u,signOut:m,fetchProfile:y};return e.jsx(Fs.Provider,{value:p,children:s})}function T(){const s=g.useContext(Fs);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const ga=ht,Gs=g.forwardRef(({className:s,...t},a)=>e.jsx(He,{ref:a,className:w("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Gs.displayName=He.displayName;const fa=re("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bs=g.forwardRef(({className:s,variant:t,...a},r)=>e.jsx(Ke,{ref:r,className:w(fa({variant:t}),s),...a}));Bs.displayName=Ke.displayName;const ja=g.forwardRef(({className:s,...t},a)=>e.jsx(Je,{ref:a,className:w("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));ja.displayName=Je.displayName;const qs=g.forwardRef(({className:s,...t},a)=>e.jsx(Qe,{ref:a,className:w("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(Xe,{className:"h-4 w-4"})}));qs.displayName=Qe.displayName;const $s=g.forwardRef(({className:s,...t},a)=>e.jsx(Ze,{ref:a,className:w("text-sm font-semibold [&+div]:text-xs",s),...t}));$s.displayName=Ze.displayName;const zs=g.forwardRef(({className:s,...t},a)=>e.jsx(es,{ref:a,className:w("text-sm opacity-90",s),...t}));zs.displayName=es.displayName;const va=1,ba=1e6;let ye=0;function ya(){return ye=(ye+1)%Number.MAX_SAFE_INTEGER,ye.toString()}const Ne=new Map,We=s=>{if(Ne.has(s))return;const t=setTimeout(()=>{Ne.delete(s),te({type:"REMOVE_TOAST",toastId:s})},ba);Ne.set(s,t)},Na=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,va)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?We(a):s.toasts.forEach(r=>{We(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},oe=[];let le={toasts:[]};function te(s){le=Na(le,s),oe.forEach(t=>{t(le)})}function wa({...s}){const t=ya(),a=n=>te({type:"UPDATE_TOAST",toast:{...n,id:t}}),r=()=>te({type:"DISMISS_TOAST",toastId:t});return te({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:n=>{n||r()}}}),{id:t,dismiss:r,update:a}}function B(){const[s,t]=g.useState(le);return g.useEffect(()=>(oe.push(t),()=>{const a=oe.indexOf(t);a>-1&&oe.splice(a,1)}),[s]),{...s,toast:wa,dismiss:a=>te({type:"DISMISS_TOAST",toastId:a})}}function Sa(){const{toasts:s}=B();return e.jsxs(ga,{children:[s.map(function({id:t,title:a,description:r,action:n,...i}){return e.jsxs(Bs,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx($s,{children:a}),r&&e.jsx(zs,{children:r})]}),n,e.jsx(qs,{})]},t)}),e.jsx(Gs,{})]})}function Ca({isOpen:s,onClose:t,children:a}){return e.jsx(ss,{children:s&&e.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-background lg:hidden",children:e.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,delay:.1},className:w("fixed inset-0 bg-gradient-to-b from-background/90 via-background/50 to-background/90 backdrop-blur-xl","flex flex-col overflow-y-auto pb-12"),children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-6 pt-4",children:[e.jsx("a",{href:"/",className:"hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png",alt:"MyVGE",className:"h-8"})}),e.jsx(S,{variant:"ghost",className:"h-auto p-2 hover:bg-transparent",onClick:t,children:e.jsx(ts,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"flex-1 px-6 pt-10",children:a})]})})})}const Ws=g.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(as,{ref:r,className:w("relative z-10 flex max-w-max flex-1 items-center justify-center",s),...a,children:[t,e.jsx(Ys,{})]}));Ws.displayName=as.displayName;const Vs=g.forwardRef(({className:s,...t},a)=>e.jsx(rs,{ref:a,className:w("group flex flex-1 list-none items-center justify-center space-x-1",s),...t}));Vs.displayName=rs.displayName;const Q=gt,ka=re("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Ie=g.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(ns,{ref:r,className:w(ka(),"group",s),...a,children:[t," ",e.jsx(pt,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));Ie.displayName=ns.displayName;const _e=g.forwardRef(({className:s,...t},a)=>e.jsx(is,{ref:a,className:w("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",s),...t}));_e.displayName=is.displayName;const ee=xt,Ys=g.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:w("absolute left-0 top-full flex justify-center"),children:e.jsx(os,{className:w("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",s),ref:a,...t})}));Ys.displayName=os.displayName;const Pa=g.forwardRef(({className:s,...t},a)=>e.jsx(ls,{ref:a,className:w("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",s),...t,children:e.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));Pa.displayName=ls.displayName;const ue=g.forwardRef(({className:s,...t},a)=>e.jsx(cs,{ref:a,className:w("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));ue.displayName=cs.displayName;const he=g.forwardRef(({className:s,...t},a)=>e.jsx(ds,{ref:a,className:w("aspect-square h-full w-full",s),...t}));he.displayName=ds.displayName;const pe=g.forwardRef(({className:s,...t},a)=>e.jsx(ms,{ref:a,className:w("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));pe.displayName=ms.displayName;const Ia=yt,_a=Nt,Ra=g.forwardRef(({className:s,inset:t,children:a,...r},n)=>e.jsxs(us,{ref:n,className:w("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",s),...r,children:[a,e.jsx(ft,{className:"ml-auto h-4 w-4"})]}));Ra.displayName=us.displayName;const Ma=g.forwardRef(({className:s,...t},a)=>e.jsx(hs,{ref:a,className:w("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));Ma.displayName=hs.displayName;const Hs=g.forwardRef(({className:s,sideOffset:t=4,...a},r)=>e.jsx(jt,{children:e.jsx(ps,{ref:r,sideOffset:t,className:w("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}));Hs.displayName=ps.displayName;const se=g.forwardRef(({className:s,inset:t,...a},r)=>e.jsx(xs,{ref:r,className:w("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",s),...a}));se.displayName=xs.displayName;const Aa=g.forwardRef(({className:s,children:t,checked:a,...r},n)=>e.jsxs(gs,{ref:n,className:w("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fs,{children:e.jsx(vt,{className:"h-4 w-4"})})}),t]}));Aa.displayName=gs.displayName;const Ea=g.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(js,{ref:r,className:w("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fs,{children:e.jsx(bt,{className:"h-4 w-4 fill-current"})})}),t]}));Ea.displayName=js.displayName;const Da=g.forwardRef(({className:s,inset:t,...a},r)=>e.jsx(vs,{ref:r,className:w("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...a}));Da.displayName=vs.displayName;const Re=g.forwardRef(({className:s,...t},a)=>e.jsx(bs,{ref:a,className:w("-mx-1 my-1 h-px bg-muted",s),...t}));Re.displayName=bs.displayName;const J=Ct,Ta=wt,Ks=g.forwardRef(({className:s,...t},a)=>e.jsx(ys,{ref:a,className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Ks.displayName=ys.displayName;const W=g.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Ta,{children:[e.jsx(Ks,{}),e.jsxs(Ns,{ref:r,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(St,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));W.displayName=Ns.displayName;const V=({className:s,...t})=>e.jsx("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});V.displayName="DialogHeader";const Y=g.forwardRef(({className:s,...t},a)=>e.jsx(ws,{ref:a,className:w("text-lg font-semibold leading-none tracking-tight",s),...t}));Y.displayName=ws.displayName;const X=g.forwardRef(({className:s,...t},a)=>e.jsx(Ss,{ref:a,className:w("text-sm text-muted-foreground",s),...t}));X.displayName=Ss.displayName;const Oa=re("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),I=g.forwardRef(({className:s,...t},a)=>e.jsx(Cs,{ref:a,className:w(Oa(),s),...t}));I.displayName=Cs.displayName;const La={BASIC:{name:"Basic",price:"Â£9.99",priceId:"price_1QnikACOhalwhG2QDocCWbQj",features:["Basic property search","Save up to 5 properties","Basic market trends","Email support"]},PRO:{name:"Pro",price:"Â£19.99",priceId:"price_1QnikPCOhalwhG2QVYfxwG5D",features:["Advanced property search","Save unlimited properties","Detailed market analysis","Premium property insights","Priority support"]},PREMIUM:{name:"Premium",price:"Â£49.99",priceId:"price_1QnikjCOhalwhG2QUgRtMAco",features:["All Pro features","AI-powered market predictions","Portfolio analytics","Investment ROI calculator","Dedicated account manager","24/7 phone support"]}};async function De(s,t){try{const a=await fetch("https://clever-chaplygin6-vbfae.dev.tempolabs.ai/.netlify/functions/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:s,userId:t})}),{sessionId:r}=await a.json(),n=await kt(void 0);n&&await n.redirectToCheckout({sessionId:r})}catch(a){throw console.error("Error creating checkout session:",a),a}}function xe({isOpen:s,onClose:t,defaultMode:a="signin"}){const[r,n]=d.useState(a);d.useEffect(()=>{n(a)},[a]);const[i,c]=d.useState(!1),[b,y]=d.useState(!1),{signIn:f,signUp:h,signInWithGoogle:u}=T(),{toast:m}=B(),[p,o]=d.useState({email:"",password:"",firstName:"",lastName:""}),v=async l=>{l.preventDefault(),c(!0);try{if(r==="signin")await f(p.email,p.password)&&(m({title:"Welcome back!",description:"You have successfully signed in."}),setTimeout(()=>t(),500));else{const{user:j}=await h(p.email,p.password,p.firstName,p.lastName),N=localStorage.getItem("pending_subscription_price_id");N&&j?(localStorage.removeItem("pending_subscription_price_id"),await De(N,j.id)):(y(!0),m({title:"Welcome to MyVGE Alpha!",description:"Thank you for joining us during our alpha testing phase."}))}}catch(j){m({title:"Error",description:j.message||"An error occurred",variant:"destructive"})}finally{c(!1)}};return b?e.jsx(J,{open:s,onOpenChange:t,children:e.jsxs(W,{className:"sm:max-w-[425px]",children:[e.jsxs(V,{children:[e.jsx(Y,{children:"Welcome to MyVGE Alpha!"}),e.jsxs(X,{className:"space-y-2",children:[e.jsx("p",{className:"text-lg font-medium text-primary",children:"Thank you for joining MyVGE during our alpha testing phase!"}),e.jsx("p",{children:"We've sent a confirmation email to your inbox. Please click the verification link to activate your account and start exploring MyVGE."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Note: You must confirm your email before signing in. Please check your spam folder if you don't see the email."}),e.jsx("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:e.jsx("p",{className:"text-sm font-medium",children:"As an alpha tester, your feedback is invaluable to us. We're excited to have you on board and look forward to your insights as we continue to improve the platform."})})]})]}),e.jsx("div",{className:"flex flex-col space-y-4 pt-4",children:e.jsx(S,{onClick:()=>{y(!1),t()},children:"Close"})})]})}):e.jsx(J,{open:s,onOpenChange:t,children:e.jsxs(W,{className:"sm:max-w-[425px]",children:[e.jsxs(V,{children:[e.jsx(Y,{children:r==="signin"?"Sign In":"Create Account"}),e.jsx(X,{children:r==="signin"?"Welcome back! Please sign in to continue.":"Join MyVGE and start exploring properties."})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4 pt-4",children:[r==="signup"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"firstName",children:"First Name"}),e.jsx(P,{id:"firstName",value:p.firstName,onChange:l=>o(j=>({...j,firstName:l.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"lastName",children:"Last Name"}),e.jsx(P,{id:"lastName",value:p.lastName,onChange:l=>o(j=>({...j,lastName:l.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"email",children:"Email"}),e.jsx(P,{id:"email",type:"email",value:p.email,onChange:l=>o(j=>({...j,email:l.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"password",children:"Password"}),e.jsx(P,{id:"password",type:"password",value:p.password,onChange:l=>o(j=>({...j,password:l.target.value})),required:!0})]}),e.jsxs("div",{className:"flex flex-col space-y-4 pt-4",children:[e.jsx(S,{type:"submit",disabled:i,children:i?"Loading...":r==="signin"?"Sign In":"Create Account"}),e.jsx(S,{type:"button",variant:"link",onClick:()=>u(),disabled:i,children:"Sign In with Google"}),e.jsx(S,{type:"button",variant:"link",onClick:()=>n(r==="signin"?"signup":"signin"),children:r==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"})]})]})]})})}const Z=({isAuthenticated:s=!1,onSignIn:t,onSignUp:a,userProfile:r={}})=>{var l;const[n,i]=d.useState(!1),c=H(),{user:b,profile:y,signOut:f}=T(),[h,u]=d.useState(!1),[m,p]=d.useState("signin"),o=async()=>{console.log("Sign out button clicked");try{await f(),c("/")}catch(j){console.error("Error signing out:",j)}},v=d.forwardRef(({className:j,title:N,children:R,...x},C)=>e.jsx("li",{children:e.jsx(ee,{asChild:!0,children:e.jsxs("a",{ref:C,className:w("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",j),...x,children:[e.jsx("div",{className:"text-sm font-medium leading-none",children:N}),e.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:R})]})})}));return v.displayName="ListItem",e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"fixed top-4 left-0 right-0 z-50 px-4 py-2 bg-background/80 backdrop-blur-md shadow-lg rounded-full mx-auto max-w-[1400px]",children:e.jsxs("div",{className:"container mx-auto h-14 px-6 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("a",{href:"/",className:"hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png",alt:"MyVGE",className:"h-8"})})}),e.jsx(Ws,{className:"hidden lg:flex",children:e.jsxs(Vs,{children:[e.jsxs(Q,{children:[e.jsx(Ie,{className:"text-sm font-medium transition-colors hover:text-primary bg-transparent hover:bg-transparent",children:"Market"}),e.jsx(_e,{children:e.jsxs("ul",{className:"grid w-[400px] gap-3 p-4 rounded-xl",children:[e.jsx(v,{href:"/trends",title:"Market Trends",children:"Stay updated with the latest real estate market trends."}),e.jsx(v,{href:"/insights",title:"Market Insights",children:"Deep dive into property market analytics and forecasts."}),e.jsx(v,{href:"/research",title:"Research & Reports",children:"Access expert analysis and reports."})]})})]}),e.jsx(Q,{children:e.jsx(ee,{className:"text-sm font-medium transition-colors hover:text-primary px-4 py-2",href:"/deals",children:"Deals"})}),e.jsxs(Q,{children:[e.jsx(Ie,{className:"text-sm font-medium transition-colors hover:text-primary bg-transparent hover:bg-transparent",children:"Services"}),e.jsx(_e,{children:e.jsxs("ul",{className:"grid w-[400px] gap-3 p-4 rounded-xl",children:[e.jsx(v,{href:"/property-management",title:"Property Management",children:"Let us take care of your property."}),e.jsx(v,{href:"/investment-opportunities",title:"Investment Opportunities",children:"Discover tailored investment strategies."}),e.jsx(v,{href:"/calculators",title:"Calculators",children:"Calculate different aspects of your property investment."})]})})]}),e.jsx(Q,{children:e.jsx(ee,{className:"text-sm font-medium transition-colors hover:text-primary px-4 py-2",href:"/pricing",children:"Pricing"})}),e.jsx(Q,{children:e.jsx(ee,{className:"text-sm font-medium transition-colors hover:text-primary px-4 py-2",href:"/help",children:"Help & Support"})}),e.jsx(Q,{children:e.jsx(ee,{className:"text-sm font-medium transition-colors hover:text-primary px-4 py-2",href:"/about-us",children:"About Us"})})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{variant:"ghost",className:"lg:hidden p-2",onClick:()=>i(!0),children:e.jsx(Pt,{className:"h-6 w-6"})}),e.jsxs(S,{variant:"ghost",className:"hidden md:flex bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300",onClick:()=>window.location.href="/pricing",children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Upgrade"]}),s?e.jsxs(Ia,{children:[e.jsx(_a,{asChild:!0,children:e.jsx(S,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(ue,{className:"h-10 w-10",children:[e.jsx(he,{src:`https://ui-avatars.com/api/?name=${encodeURIComponent((r==null?void 0:r.full_name)||"")}&background=random`,alt:(r==null?void 0:r.full_name)||"User avatar"}),e.jsx(pe,{className:"bg-primary/10",children:((l=r==null?void 0:r.full_name)==null?void 0:l.split(" ").filter(Boolean).map(j=>j[0]).slice(0,2).join("").toUpperCase())||"U"})]})})}),e.jsxs(Hs,{className:"w-56",align:"end",forceMount:!0,children:[e.jsxs(se,{className:"flex-col items-start",children:[e.jsx("div",{className:"font-medium",children:r==null?void 0:r.full_name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r==null?void 0:r.email})]}),e.jsx(Re,{}),e.jsxs(se,{onClick:()=>window.location.pathname!=="/dashboard"&&c("/dashboard"),children:[e.jsx(It,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(se,{onClick:()=>c("/account"),children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Account Settings"})]}),e.jsx(Re,{}),e.jsxs(se,{onClick:o,children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log Out"})]})]})]}):e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsxs(S,{variant:"ghost",onClick:()=>{p("signin"),u(!0)},children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Sign In"]}),e.jsxs(S,{onClick:()=>{p("signup"),u(!0)},variant:"default",children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})]})}),e.jsx(Ca,{isOpen:n,onClose:()=>i(!1),children:e.jsxs("nav",{className:"space-y-6",children:[e.jsx("a",{href:"/deals",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Investment Deals"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Resources"}),e.jsxs("div",{className:"space-y-3 pl-1",children:[e.jsx("a",{href:"/trends",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Market Trends"}),e.jsx("a",{href:"/insights",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Market Insights"}),e.jsx("a",{href:"/research",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Research & Reports"}),e.jsx("a",{href:"/blog",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Blog"})]})]}),e.jsx("a",{href:"/calculators",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Calculators"}),e.jsx("a",{href:"/pricing",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Pricing"}),e.jsx("a",{href:"/property-management",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Property Management"}),e.jsx("a",{href:"/investment-opportunities",className:"block text-lg font-medium hover:text-primary transition-colors",children:"Investment Opportunities"}),e.jsx("a",{href:"/about-us",className:"block text-lg font-medium hover:text-primary transition-colors",children:"About Us"}),s?null:e.jsxs("div",{className:"space-y-4 pt-6",children:[e.jsxs(S,{variant:"ghost",className:"w-full justify-start",onClick:()=>{p("signin"),u(!0)},children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Sign In"]}),e.jsxs(S,{className:"w-full justify-start",onClick:()=>{p("signup"),u(!0)},children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),"Sign Up"]})]})]})}),e.jsx(xe,{isOpen:h,onClose:()=>u(!1),defaultMode:m})]})},G=({onSearch:s=()=>{},backgroundImage:t="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",title:a="Find Your Perfect Property",subtitle:r="Search through millions of properties to find your next home",showSearch:n=!0,showStats:i=!0,height:c="h-[500px]"})=>{const[b,y]=d.useState(""),f=h=>{h.preventDefault(),s(b)};return e.jsxs("div",{className:`relative w-full ${c} bg-gray-900 overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-105 animate-ken-burns",style:{backgroundImage:`url(${t})`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/30 to-black/60 backdrop-blur-sm"})}),e.jsxs("div",{className:"relative h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center text-center py-16 pt-24 animate-fade-in-up",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6",children:a}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-200 mb-6 sm:mb-8 max-w-3xl mx-auto",children:r}),n&&e.jsx("form",{onSubmit:f,className:"w-full max-w-2xl animate-fade-in-up",children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{type:"text",placeholder:"Enter an address, neighbourhood, city, or postcode",value:b,onChange:h=>y(h.target.value),className:"w-full h-12 sm:h-14 pl-5 pr-14 text-base sm:text-lg bg-white text-black border-2 border-transparent focus:border-primary"}),e.jsx(S,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent",children:e.jsx(Mt,{className:"w-6 h-6 text-gray-500 hover:text-primary transition-colors"})})]})})]})]})};function Fa(){const[s,t]=g.useState(null),[a,r]=g.useState(!0);return g.useEffect(()=>{const i=async()=>{try{const f=(await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyD0MjDEtw7El7GSzOm9F8iIKE2uGDkVBWo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"What is the current Bitcoin price in GBP? Return ONLY the number, no text or currency symbols."}]}]})})).json()).candidates[0].content.parts[0].text,h=parseFloat(f.replace(/[^0-9.]/g,""));isNaN(h)||(t(h),r(!1))}catch(b){console.error("Error fetching Bitcoin price:",b)}};i();const c=setInterval(i,6e4);return()=>clearInterval(c)},[]),{btcPrice:s,loading:a,convertGBPtoBTC:i=>s?i/s:null}}function Te({amount:s}){const{loading:t,convertGBPtoBTC:a}=Fa(),r=a(s);return t?e.jsx("span",{className:"text-muted-foreground",children:"Loading..."}):r?e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ks,{className:"h-4 w-4 text-[#F7931A]"}),r.toFixed(2)]}):null}const Ua=["https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],Ga=["https://images.unsplash.com/photo-1464938050520-ef2270bb8ce8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1497366811353-6870744d04b2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600","https://images.unsplash.com/photo-1497366858526-0766cadbe8fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],ce=({id:s="1",address:t="123 Example Street, City, State 12345",price:a=5e5,squareFootage:r=0,bedrooms:n=0,bathrooms:i=0,isPremium:c=!0,isSubscriber:b=!1,assignedUser:y,author:f,type:h="property",status:u,potential_profit:m,roi_percentage:p,images:o=[],onMessageAuthor:v,onClick:l})=>{const[j,N]=d.useState(!0),R=d.useMemo(()=>{const x=h==="deal"?Ga:Ua;return x[Math.floor(Math.random()*x.length)]},[h]);return e.jsxs(M,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:l,children:[e.jsxs("div",{className:"relative h-48 bg-muted",children:[j&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-muted"}),e.jsx("img",{src:o&&Array.isArray(o)&&o.length>0&&o[0]||R,alt:"Property",className:`w-full h-full object-cover transition-opacity duration-200 ${j?"opacity-0":"opacity-100"}`,onLoad:()=>N(!1)}),c&&!b&&e.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-[2px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(Me,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to view premium properties"})]})})]}),e.jsxs(A,{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-1 line-clamp-1",children:t}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold",children:["Â£",a.toLocaleString()]}),e.jsx(Te,{amount:a})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-muted-foreground",children:"Beds"}),e.jsx("span",{className:"font-medium",children:n})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-muted-foreground",children:"Baths"}),e.jsx("span",{className:"font-medium",children:i})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-muted-foreground",children:"Sq Ft"}),e.jsx("span",{className:"font-medium",children:r})]})]}),h==="deal"&&e.jsxs("div",{className:"space-y-2 mb-4",children:[m&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Potential Profit:"}),e.jsxs("span",{className:"font-medium text-emerald-500",children:["Â£",m.toLocaleString()]})]}),p&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ROI:"}),e.jsxs("span",{className:"font-medium text-emerald-500",children:[p,"%"]})]})]}),f&&v&&e.jsxs(S,{variant:"outline",size:"sm",className:"w-full",onClick:()=>v(f.id),children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Contact Agent"]})]})]})},Oe=At,ge=g.forwardRef(({className:s,...t},a)=>e.jsx(Ps,{ref:a,className:w("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...t}));ge.displayName=Ps.displayName;const F=g.forwardRef(({className:s,...t},a)=>e.jsx(Is,{ref:a,className:w("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...t}));F.displayName=Is.displayName;const U=g.forwardRef(({className:s,...t},a)=>e.jsx(_s,{ref:a,className:w("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));U.displayName=_s.displayName;const Js=({trends:s=[{title:"Average Home Price",value:"Â£450,000",change:"+5.2%",isPositive:!0},{title:"Days on Market",value:"28",change:"-12%",isPositive:!0},{title:"Available Listings",value:"1,234",change:"-3.1%",isPositive:!1}],articles:t=[{title:"Understanding the Current Real Estate Market",excerpt:"Get insights into the latest trends and what they mean for buyers and sellers.",date:"2024-03-15"},{title:"Top 5 Investment Opportunities in Real Estate",excerpt:"Discover the most promising areas for property investment in the current market.",date:"2024-03-10"},{title:"Real Estate Market Forecast 2024",excerpt:"Expert predictions and analysis for the upcoming year in real estate.",date:"2024-03-05"}]})=>{const a=[{month:"Jan",price:45e4},{month:"Feb",price:455e3},{month:"Mar",price:458e3},{month:"Apr",price:462e3},{month:"May",price:47e4},{month:"Jun",price:475e3}],r=[{region:"London",price:5e5,growth:5.2},{region:"Manchester",price:25e4,growth:7.8},{region:"Birmingham",price:22e4,growth:6.5},{region:"Leeds",price:2e5,growth:8.1},{region:"Liverpool",price:18e4,growth:9.2}];return e.jsxs("section",{className:"w-full py-8 sm:py-16 bg-background relative overflow-hidden",children:[e.jsx("div",{className:"container mx-auto px-4 mb-16",children:e.jsxs(M,{className:"bg-card border-border",children:[e.jsx(L,{children:e.jsx("h2",{className:"text-2xl font-semibold",children:"Real Estate Trends Visualization"})}),e.jsx(A,{children:e.jsxs(Oe,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ge,{className:"grid w-full grid-cols-3 mb-8 overflow-x-auto snap-start snap-mandatory",children:[e.jsx(F,{value:"overview",children:"Price Evolution"}),e.jsx(F,{value:"regional",children:"Regional Comparison"}),e.jsx(F,{value:"heatmap",children:"Growth Heatmap"})]}),e.jsx(U,{value:"overview",className:"h-[400px]",children:e.jsx(we,{width:"100%",height:"100%",children:e.jsxs(Rs,{data:a,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorPrice",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.2}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),e.jsx(Se,{strokeDasharray:"3 3"}),e.jsx(Ce,{dataKey:"month"}),e.jsx(ke,{}),e.jsx(Pe,{}),e.jsx(Ms,{type:"monotone",dataKey:"price",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorPrice)"})]})})}),e.jsx(U,{value:"regional",className:"h-[400px]",children:e.jsx(we,{width:"100%",height:"100%",children:e.jsxs(Et,{data:r,children:[e.jsx(Se,{strokeDasharray:"3 3"}),e.jsx(Ce,{dataKey:"region"}),e.jsx(ke,{}),e.jsx(Pe,{}),e.jsx(qe,{type:"monotone",dataKey:"price",stroke:"hsl(var(--primary))"}),e.jsx(qe,{type:"monotone",dataKey:"growth",stroke:"hsl(var(--chart-1))"})]})})}),e.jsx(U,{value:"heatmap",className:"h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Dt,{className:"w-12 h-12 text-muted-foreground mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Interactive heat map coming soon"})]})})]})})]})}),e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Market Trends & Insights"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Stay informed with the latest real estate market trends and expert insights to make better property decisions."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:s.map((n,i)=>e.jsx(M,{className:`bg-card border-border hover:scale-[1.02] transition-all duration-300 ${i===0?"bg-gradient-to-r from-emerald-400/10 to-cyan-400/10":""}`,children:e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground/80",children:n.title}),i===0?e.jsx(Ae,{className:"w-5 h-5 text-emerald-500"}):i===1?e.jsx(Ee,{className:"w-5 h-5 text-emerald-500"}):e.jsx(ie,{className:"w-5 h-5 text-emerald-500"})]}),e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-foreground",children:n.value}),e.jsx("span",{className:`flex items-center ${n.isPositive?"text-emerald-500":"text-red-500"}`,children:n.change})]})]})},i))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((n,i)=>e.jsx(M,{className:`bg-card border-border hover:scale-[1.02] transition-all duration-300 ${i===0?"bg-gradient-to-r from-emerald-400/10 to-cyan-400/10":""}`,children:e.jsxs(A,{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(n.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:n.title}),e.jsx("p",{className:"text-muted-foreground mb-4",children:n.excerpt}),e.jsxs(S,{variant:"ghost",className:"group hover:text-emerald-500",onClick:()=>{window.location.href=`/article/${encodeURIComponent(n.title)}`},children:["Read More",e.jsx(ne,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},i))})]})]})},Ba=re("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Le=g.forwardRef(({className:s,variant:t,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:w(Ba({variant:t}),s),...a}));Le.displayName="Alert";const Qs=g.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:w("mb-1 font-medium leading-none tracking-tight",s),...t}));Qs.displayName="AlertTitle";const Fe=g.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:w("text-sm [&_p]:leading-relaxed",s),...t}));Fe.displayName="AlertDescription";const qa=({title:s="Unlock Premium Features",description:t="Get access to detailed property analysis, portfolio tracking, and advanced metrics.",onSubscribe:a=()=>console.log("Subscribe clicked")})=>e.jsx("div",{className:"w-full bg-background p-4 sm:p-6 border-t",children:e.jsxs(Le,{className:"max-w-7xl mx-auto flex items-center justify-between bg-gradient-to-r from-emerald-400/10 to-cyan-400/10 border-emerald-500/20",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(de,{className:"h-5 w-5 text-emerald-500 mt-1"}),e.jsxs("div",{children:[e.jsx(Qs,{className:"text-lg font-semibold text-foreground",children:s}),e.jsx(Fe,{className:"text-muted-foreground",children:t})]})]}),e.jsxs(S,{onClick:a,className:"bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 hidden sm:flex items-center gap-2",children:["Subscribe Now",e.jsx(ne,{className:"h-4 w-4"})]}),e.jsx(S,{onClick:a,className:"bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 sm:hidden",size:"sm",children:"Subscribe"})]})});function Xs({onSubscribe:s}){const{profile:t}=T(),a=(t==null?void 0:t.subscription_tier)||"free";return e.jsx("div",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select the perfect plan for your property investment journey"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:Object.entries(La).map(([r,n])=>e.jsxs(M,{className:`relative ${r==="PRO"?"border-primary shadow-lg scale-105 bg-gradient-to-r from-emerald-400/10 to-cyan-400/10":""}`,children:[r==="PRO"&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-emerald-400 to-cyan-400 text-white px-4 py-1 rounded-full text-sm font-medium border border-emerald-500/20 shadow-lg",children:"Most Popular"}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold",children:n.name}),r==="PREMIUM"&&e.jsx(de,{className:"h-6 w-6 text-yellow-500"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl font-bold",children:n.price}),e.jsx("span",{className:"text-gray-600 ml-2",children:"/month"})]})]}),e.jsx(A,{children:e.jsx("ul",{className:"space-y-3",children:n.features.map((i,c)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Tt,{className:"h-5 w-5 text-green-500 mt-0.5"}),e.jsx("span",{children:i})]},c))})}),e.jsx(Os,{children:e.jsx(S,{className:"w-full",variant:r==="PRO"?"default":"outline",onClick:()=>s(n.priceId),disabled:a===r.toLowerCase(),children:a===r.toLowerCase()?"Current Plan":"Subscribe"})})]},r))})]})})}function Zs({isOpen:s,onClose:t}){const{user:a}=T(),{toast:r}=B(),n=async i=>{if(!a){localStorage.setItem("pending_subscription_price_id",i);const c=new CustomEvent("open-auth-modal",{detail:{mode:"signup"}});window.dispatchEvent(c),t();return}try{await De(i,a.id)}catch{r({title:"Error",description:"Failed to start subscription process. Please try again.",variant:"destructive"})}};return e.jsx(J,{open:s,onOpenChange:t,children:e.jsxs(W,{className:"sm:max-w-[900px]",children:[e.jsxs(V,{children:[e.jsx(Y,{children:"Upgrade Your Plan"}),e.jsx(X,{children:"Choose the plan that best suits your needs and unlock premium features."})]}),e.jsx(Xs,{onSubscribe:n})]})})}const Ue=g.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:w("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));Ue.displayName="Textarea";const $a=["badword1","badword2"];function za(s){let t=s.toLowerCase();return $a.forEach(a=>{const r=new RegExp(a,"gi");t=t.replace(r,"*".repeat(a.length))}),t}async function Wa(s,t,a,r=!1){const n=za(a),{data:i,error:c}=await _.from("messages").insert([{sender_id:s,receiver_id:t,content:n,is_support:r}]).select(`
      *,
      sender:profiles!messages_sender_id_fkey(full_name, email),
      receiver:profiles!messages_receiver_id_fkey(full_name, email)
    `).single();if(c)throw c;return i}async function Va(s,t){const{data:a,error:r}=await _.from("messages").select(`
      *,
      sender:profiles!messages_sender_id_fkey(full_name, email),
      receiver:profiles!messages_receiver_id_fkey(full_name, email)
    `).or(`and(sender_id.eq.${s},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${s})`).order("created_at",{ascending:!0});if(r)throw r;return a}function Ya({receiverId:s}){const{user:t}=T(),{toast:a}=B(),[r,n]=d.useState([]),[i,c]=d.useState(""),[b,y]=d.useState(!1),f=d.useRef(null);d.useEffect(()=>{if(t){u();const p=_.channel(`messages:${t.id}:${s}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`or(and(sender_id.eq.${t.id},receiver_id.eq.${s}),and(sender_id.eq.${s},receiver_id.eq.${t.id}))`},()=>{u()}).subscribe();return()=>{p.unsubscribe()}}},[t,s]);const h=()=>{var p;(p=f.current)==null||p.scrollIntoView({behavior:"smooth"})};d.useEffect(()=>{h()},[r]);const u=async()=>{if(t)try{const p=await Va(t.id,s);n(p)}catch(p){console.error("Error loading messages:",p)}},m=async p=>{if(p.preventDefault(),!(!t||!i.trim())){y(!0);try{await Wa(t.id,s,i),c(""),u()}catch{a({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{y(!1)}}};return e.jsxs("div",{className:"flex flex-col h-[500px]",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(p=>{var v;const o=p.sender_id===(t==null?void 0:t.id);return e.jsxs("div",{className:`flex gap-2 ${o?"flex-row-reverse":""}`,children:[e.jsxs(ue,{className:"h-8 w-8",children:[e.jsx(he,{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(o?p.sender.full_name:p.receiver.full_name)}&background=random`,alt:o?p.sender.full_name:p.receiver.full_name}),e.jsx(pe,{className:"bg-primary/10",children:(v=o?p.sender.full_name:p.receiver.full_name)==null?void 0:v.split(" ").map(l=>l[0]).join("")})]}),e.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${o?"bg-primary text-primary-foreground":"bg-muted"}`,children:[e.jsx("p",{children:p.content}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(p.created_at).toLocaleTimeString()})]})]},p.id)}),e.jsx("div",{ref:f})]}),e.jsx("form",{onSubmit:m,className:"p-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{placeholder:"Type a message...",value:i,onChange:p=>c(p.target.value),className:"min-h-[80px]"}),e.jsx(S,{type:"submit",disabled:b||!i.trim(),children:"Send"})]})})]})}function Ha({isOpen:s,onClose:t,receiverId:a}){return a?e.jsx(J,{open:s,onOpenChange:t,children:e.jsxs(W,{className:"sm:max-w-[500px]",children:[e.jsx(V,{children:e.jsx(Y,{children:"Messages"})}),e.jsx(Ya,{receiverId:a})]})}):null}function Ka(){const[s,t]=d.useState("");return d.useEffect(()=>{fetch("https://uselessfacts.jsph.pl/api/v2/facts/random?language=en").then(a=>a.json()).then(a=>t(a.text)).catch(a=>console.error("Error fetching random fact:",a))},[]),s?e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("p",{children:s})]}):null}function fe(){return e.jsx("footer",{className:"bg-gray-900 text-white py-8 sm:py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About Us"}),e.jsx("p",{className:"text-gray-400",children:"Your trusted source for property search and market analysis. MyVGE is part of Very Good Marketing Co."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"/terms",className:"hover:text-white",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx("a",{href:"/privacy",className:"hover:text-white",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"/disclaimer",className:"hover:text-white",children:"Legal Disclaimer"})}),e.jsx("li",{children:e.jsx("a",{href:"/gdpr",className:"hover:text-white",children:"GDPR Compliance"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:"@myvge.com"}),e.jsx("li",{children:"Lytchett House, 13 Freeland Park, Poole, Dorset, England, BH16 6FA"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Compliance"}),e.jsx("ul",{className:"space-y-2 text-gray-400",children:e.jsx("li",{children:"Company No: 15271126"})})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-800 space-y-4",children:[e.jsx(Ka,{}),e.jsxs("div",{className:"text-center text-gray-400 space-y-2",children:[e.jsx("p",{className:"text-xs",children:"MyVGE is a trading name of Very Good Marketing Co, registered in England and Wales. Registered office: Lytchett House, 13 Freeland Park, Poole, Dorset, England, BH16 6FA. Company No: 15271126"}),e.jsx("p",{className:"text-xs",children:"The information on this website is for general information purposes only and does not constitute financial advice."}),e.jsxs("p",{children:["Â© ",new Date().getFullYear()," MyVGE. All rights reserved."]})]})]})]})})}function et(){return e.jsxs(Le,{className:"bg-muted/50 border-muted-foreground/20",children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx(Fe,{className:"text-xs text-muted-foreground",children:"The information provided on this website is for general informational purposes only and should not be considered as financial or investment advice. Property investments carry risks and values can go down as well as up. Always seek professional advice before making investment decisions."})]})}const st=g.createContext(null);function je(){const s=g.useContext(st);if(!s)throw new Error("useCarousel must be used within a <Carousel />");return s}const tt=g.forwardRef(({orientation:s="horizontal",opts:t,setApi:a,plugins:r,className:n,children:i,...c},b)=>{const[y,f]=Ft({...t,axis:s==="horizontal"?"x":"y"},r),[h,u]=g.useState(!1),[m,p]=g.useState(!1),o=g.useCallback(N=>{N&&(u(N.canScrollPrev()),p(N.canScrollNext()))},[]),v=g.useCallback(()=>{f==null||f.scrollPrev()},[f]),l=g.useCallback(()=>{f==null||f.scrollNext()},[f]),j=g.useCallback(N=>{N.key==="ArrowLeft"?(N.preventDefault(),v()):N.key==="ArrowRight"&&(N.preventDefault(),l())},[v,l]);return g.useEffect(()=>{!f||!a||a(f)},[f,a]),g.useEffect(()=>{if(f)return o(f),f.on("reInit",o),f.on("select",o),()=>{f==null||f.off("select",o)}},[f,o]),e.jsx(st.Provider,{value:{carouselRef:y,api:f,opts:t,orientation:s||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:l,canScrollPrev:h,canScrollNext:m},children:e.jsx("div",{ref:b,onKeyDownCapture:j,className:w("relative",n),role:"region","aria-roledescription":"carousel",...c,children:i})})});tt.displayName="Carousel";const at=g.forwardRef(({className:s,...t},a)=>{const{carouselRef:r,orientation:n}=je();return e.jsx("div",{ref:r,className:"overflow-hidden",children:e.jsx("div",{ref:a,className:w("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",s),...t})})});at.displayName="CarouselContent";const rt=g.forwardRef(({className:s,...t},a)=>{const{orientation:r}=je();return e.jsx("div",{ref:a,role:"group","aria-roledescription":"slide",className:w("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",s),...t})});rt.displayName="CarouselItem";const nt=g.forwardRef(({className:s,variant:t="outline",size:a="icon",...r},n)=>{const{orientation:i,scrollPrev:c,canScrollPrev:b}=je();return e.jsxs(S,{ref:n,variant:t,size:a,className:w("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!b,onClick:c,...r,children:[e.jsx(Ut,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});nt.displayName="CarouselPrevious";const it=g.forwardRef(({className:s,variant:t="outline",size:a="icon",...r},n)=>{const{orientation:i,scrollNext:c,canScrollNext:b}=je();return e.jsxs(S,{ref:n,variant:t,size:a,className:w("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!b,onClick:c,...r,children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});it.displayName="CarouselNext";const Ja=[{name:"Grosvenor Group",logo:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3"},{name:"Berkeley Group",logo:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3"},{name:"Ballymore Properties",logo:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3"},{name:"Almacantar",logo:"https://images.unsplash.com/photo-1434626881859-194d67b2b86f?ixlib=rb-4.0.3"},{name:"Capital & Counties",logo:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3"},{name:"Great Portland Estates",logo:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3"}];function Qa(){return e.jsx("div",{className:"w-full bg-muted/30 py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-center text-2xl font-semibold mb-8",children:"Trusted by Industry Leaders"}),e.jsxs(tt,{opts:{align:"start",loop:!0},className:"w-full max-w-5xl mx-auto",children:[e.jsx(at,{className:"-ml-2 md:-ml-4",children:Ja.map((s,t)=>e.jsx(rt,{className:"pl-2 md:pl-4 basis-1/2 md:basis-1/3 lg:basis-1/4",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"aspect-square relative rounded-xl overflow-hidden bg-background/50 backdrop-blur-sm border border-border/50 hover:border-primary/50 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/80 to-background/50"}),e.jsx("div",{className:"relative h-full flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("img",{src:s.logo,alt:s.name,className:"w-8 h-8 object-contain opacity-50"})}),e.jsx("p",{className:"text-sm font-medium text-foreground/80",children:s.name})]})})]})})},t))}),e.jsx(nt,{className:"-left-12 hover:bg-background/80"}),e.jsx(it,{className:"-right-12 hover:bg-background/80"})]})]})})}async function Xa(s){const{data:t,error:a}=await _.from("properties").select("*").or(`address.ilike.%${s}%,city.ilike.%${s}%,postcode.ilike.%${s}%`).limit(20);if(a)throw a;return t}async function Za(s){const{data:t,error:a}=await _.from("saved_properties").select(`
      *,
      property:properties(*)
    `).eq("user_id",s);if(a)throw a;return t}const er=()=>{const{user:s,profile:t,signOut:a}=T(),[r,n]=d.useState([]),[i,c]=d.useState(!1),[b,y]=d.useState(!1),[f,h]=d.useState(!1),[u,m]=d.useState("signin"),[p,o]=d.useState(!1),[v,l]=d.useState(),j=async()=>{c(!0);try{n([{id:"1",address:"123 Mayfair Gardens, London, W1K 1AA",price:125e4,squareFootage:1850,bedrooms:3,bathrooms:2,isPremium:!0,images:["https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],author:{id:"1",full_name:"Sarah Johnson",email:"sarah@myvge.co.uk"}},{id:"2",address:"45 Kensington Park Road, London, W11 3BQ",price:245e4,squareFootage:2400,bedrooms:4,bathrooms:3,isPremium:!0,images:["https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],author:{id:"2",full_name:"James Wilson",email:"james@myvge.co.uk"}},{id:"3",address:"88 Notting Hill Gate, London, W11 3HT",price:185e4,squareFootage:1950,bedrooms:3,bathrooms:2,isPremium:!1,images:["https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],author:{id:"3",full_name:"Emma Davis",email:"emma@myvge.co.uk"}},{id:"4",address:"15 Chelsea Manor Street, London, SW3 5RP",price:325e4,squareFootage:2800,bedrooms:5,bathrooms:4,isPremium:!0,images:["https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],author:{id:"4",full_name:"Michael Smith",email:"michael@myvge.co.uk"}},{id:"5",address:"92 Eaton Square, London, SW1W 9AN",price:475e4,squareFootage:3200,bedrooms:6,bathrooms:5,isPremium:!0,images:["https://images.unsplash.com/photo-1600585154526-990dced4db0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],author:{id:"5",full_name:"Lisa Brown",email:"lisa@myvge.co.uk"}},{id:"6",address:"33 Belgrave Square, London, SW1X 8PB",price:55e5,squareFootage:3500,bedrooms:7,bathrooms:6,isPremium:!0,images:["https://images.unsplash.com/photo-1600573472592-401b489a3cdc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"],author:{id:"6",full_name:"David Thompson",email:"david@myvge.co.uk"}}])}catch(R){console.error("Error loading featured properties:",R)}finally{c(!1)}};d.useEffect(()=>{j();const R=C=>{m(C.detail.mode),y(!0)},x=C=>{l(C.detail.receiverId),o(!0)};return window.addEventListener("open-auth-modal",R),window.addEventListener("open-messages",x),()=>{window.removeEventListener("open-auth-modal",R),window.removeEventListener("open-messages",x)}},[]);const N=async R=>{c(!0);try{const x=await Xa(R);n(x.map(C=>({id:C.id,address:`${C.address}, ${C.city}, ${C.postcode}`,price:C.price,squareFootage:C.square_footage,isPremium:C.is_premium})))}catch(x){console.error("Error searching properties:",x)}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z,{isAuthenticated:!!s,userProfile:t||void 0,onSignIn:()=>{m("signin"),y(!0)},onSignUp:()=>{m("signup"),y(!0)},onSignOut:async()=>{try{await a(),window.location.href="/"}catch(R){console.error("Error signing out:",R)}}}),e.jsxs("main",{children:[e.jsx(G,{onSearch:N}),e.jsx("div",{className:"w-full bg-background py-8",children:e.jsxs("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Featured Properties"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:i?Array(3).fill(0).map((R,x)=>e.jsx("div",{className:"w-full h-[420px] bg-muted rounded-lg animate-pulse"},x)):r.map(R=>e.jsx(ce,{address:R.address,price:R.price,squareFootage:R.squareFootage,isPremium:R.isPremium,isSubscriber:(t==null?void 0:t.subscription_tier)!=="free"},R.id))})]})}),e.jsx(Js,{}),e.jsx(Qa,{}),e.jsx("div",{className:"w-full bg-background py-8",children:e.jsx("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-8",children:e.jsx("div",{className:"mb-8",children:e.jsx(et,{})})})}),(!t||t.subscription_tier==="free")&&e.jsx(qa,{onSubscribe:()=>h(!0),title:"Unlock Premium Property Insights",description:"Get access to detailed property analysis, market comparisons, and investment metrics to make informed decisions."})]}),e.jsx(fe,{}),e.jsx(xe,{isOpen:b,onClose:()=>y(!1),defaultMode:u}),e.jsx(Zs,{isOpen:f,onClose:()=>h(!1)}),e.jsx(Ha,{isOpen:p,onClose:()=>o(!1),receiverId:v})]})};function sr({isOpen:s,onClose:t,onSuccess:a}){const[r,n]=d.useState(!1),{toast:i}=B(),{user:c}=T(),[b,y]=d.useState(""),[f,h]=d.useState([]);d.useEffect(()=>{(async()=>{const{data:v,error:l}=await _.from("profiles").select("id, email, full_name");!l&&v&&h(v)})()},[]);const[u,m]=d.useState({address:"",city:"",postcode:"",price:"",bedrooms:"",bathrooms:"",squareFootage:"",description:"",imageUrl:""}),p=async o=>{o.preventDefault(),n(!0);try{const{error:v}=await _.from("properties").insert([{address:u.address,city:u.city,postcode:u.postcode,price:parseFloat(u.price),bedrooms:parseInt(u.bedrooms),bathrooms:parseInt(u.bathrooms),square_footage:parseInt(u.squareFootage),description:u.description,images:[u.imageUrl],property_type:"house",created_by:c==null?void 0:c.id,assigned_user_id:b||null}]);if(v)throw v;i({title:"Success",description:"Property has been added successfully."}),a(),t()}catch{i({title:"Error",description:"Failed to add property. Please try again.",variant:"destructive"})}finally{n(!1)}};return e.jsx(J,{open:s,onOpenChange:t,children:e.jsxs(W,{className:"sm:max-w-[600px]",children:[e.jsxs(V,{children:[e.jsx(Y,{children:"Add New Property"}),e.jsx(X,{children:"Add a new property to the featured properties list."})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"address",children:"Address"}),e.jsx(P,{id:"address",value:u.address,onChange:o=>m(v=>({...v,address:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"city",children:"City"}),e.jsx(P,{id:"city",value:u.city,onChange:o=>m(v=>({...v,city:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"postcode",children:"Postcode"}),e.jsx(P,{id:"postcode",value:u.postcode,onChange:o=>m(v=>({...v,postcode:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"price",children:"Price (Â£)"}),e.jsx(P,{id:"price",type:"number",value:u.price,onChange:o=>m(v=>({...v,price:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"bedrooms",children:"Bedrooms"}),e.jsx(P,{id:"bedrooms",type:"number",value:u.bedrooms,onChange:o=>m(v=>({...v,bedrooms:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"bathrooms",children:"Bathrooms"}),e.jsx(P,{id:"bathrooms",type:"number",value:u.bathrooms,onChange:o=>m(v=>({...v,bathrooms:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"squareFootage",children:"Square Footage"}),e.jsx(P,{id:"squareFootage",type:"number",value:u.squareFootage,onChange:o=>m(v=>({...v,squareFootage:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"imageUrl",children:"Image URL"}),e.jsx(P,{id:"imageUrl",type:"url",value:u.imageUrl,onChange:o=>m(v=>({...v,imageUrl:o.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"assignedUser",children:"Assign to User"}),e.jsxs("select",{id:"assignedUser",value:b,onChange:o=>y(o.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Select a user"}),f.map(o=>e.jsxs("option",{value:o.id,children:[o.full_name," (",o.email,")"]},o.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"description",children:"Description"}),e.jsx(Ue,{id:"description",value:u.description,onChange:o=>m(v=>({...v,description:o.target.value})),required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:r,children:r?"Adding...":"Add Property"})]})]})]})})}function q({children:s}){const{user:t,profile:a,signOut:r}=T(),[n,i]=d.useState(!1),[c,b]=d.useState("signin");return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z,{isAuthenticated:!!t,userProfile:a||void 0,onSignIn:()=>{b("signin"),i(!0)},onSignUp:()=>{b("signup"),i(!0)}}),s,e.jsx(fe,{}),e.jsx(xe,{isOpen:n,onClose:()=>i(!1),defaultMode:c})]})}function tr(){const{user:s,profile:t}=T(),a=H(),[r,n]=d.useState([]),[i,c]=d.useState([]),[b,y]=d.useState([]),[f,h]=d.useState(!1),[u,m]=d.useState({totalProperties:0,totalValue:0,averagePrice:0,totalProfit:0,monthlyIncome:0}),p=d.useCallback(async()=>{if(!(!s||(t==null?void 0:t.role)!=="admin"))try{const{data:l,error:j}=await _.from("profiles").select("*").order("created_at",{ascending:!1});if(j)throw j;y(l||[])}catch(l){console.error("Error loading users:",l)}},[s,t]),o=async(l,j)=>{try{const{error:N}=await _.from("profiles").update({subscription_tier:j,subscription_status:"active",updated_at:new Date().toISOString()}).eq("id",l);if(N)throw N;p()}catch(N){console.error("Error updating subscription:",N)}},v=d.useCallback(async()=>{if(s)try{const[l,{data:j}]=await Promise.all([Za(s.id),_.from("properties").select(`*,
            assigned_user:profiles!properties_assigned_user_id_fkey(full_name, email),
            author:profiles!properties_created_by_fkey(full_name, email)`).eq("created_by",s.id)]);c(j||[]),n(l);const N=(j||[]).length+l.length,R=[...j||[],...l].reduce((D,$)=>D+($.price||0),0),x=R/(N||1),C=[...j||[],...l].reduce((D,$)=>D+($.potential_profit||0),0),E=[...j||[],...l].reduce((D,$)=>D+($.monthly_income||0),0);m({totalProperties:N,totalValue:R,averagePrice:x,totalProfit:C,monthlyIncome:E})}catch(l){console.error("Error loading properties:",l)}},[s]);return d.useEffect(()=>{if(!s){a("/");return}v(),p()},[s,a,v,p]),e.jsxs(q,{children:[e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),e.jsxs(S,{onClick:()=>h(!0),children:[e.jsx(Bt,{className:"w-4 h-4 mr-2"})," Add Property"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(M,{children:e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Portfolio Value"}),e.jsx(Ae,{className:"w-5 h-5 text-primary"})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["Â£",u.totalValue.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[u.totalProperties," properties"]})]})}),e.jsx(M,{children:e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Average Price"}),e.jsx($e,{className:"w-5 h-5 text-primary"})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["Â£",u.averagePrice.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Per property"})]})}),e.jsx(M,{children:e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Total Profit"}),e.jsx(ie,{className:"w-5 h-5 text-primary"})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["Â£",u.totalProfit.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Estimated profit"})]})}),e.jsx(M,{children:e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"BTC Value"}),e.jsx(ks,{className:"w-5 h-5 text-[#F7931A]"})]}),e.jsx(Te,{amount:u.totalValue}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Portfolio in BTC"})]})})]}),(t==null?void 0:t.role)==="admin"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[e.jsx(As,{className:"w-5 h-5"})," User Management"]}),e.jsx("div",{className:"space-y-4",children:b.map(l=>e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.full_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.email})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-primary"}),e.jsxs("select",{value:l.subscription_tier,onChange:j=>o(l.id,j.target.value),className:"bg-background border rounded px-2 py-1",children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"basic",children:"Basic"}),e.jsx("option",{value:"pro",children:"Pro"}),e.jsx("option",{value:"premium",children:"Premium"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:l.role,onChange:async j=>{try{const{error:N}=await _.from("profiles").update({role:j.target.value}).eq("id",l.id);if(N)throw N;p()}catch(N){console.error("Error updating role:",N)}},className:"bg-background border rounded px-2 py-1",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"moderator",children:"Moderator"}),e.jsx("option",{value:"admin",children:"Admin"})]})}),e.jsx(S,{variant:"destructive",size:"sm",onClick:async()=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:j}=await _.from("profiles").delete().eq("id",l.id);if(j)throw j;p()}catch(j){console.error("Error deleting user:",j)}},children:"Delete"}),e.jsx(S,{variant:"outline",size:"sm",onClick:async()=>{const j=prompt("Enter new password:");if(j)try{const{error:N}=await _.auth.admin.updateUserById(l.id,{password:j});if(N)throw N;alert("Password updated successfully")}catch(N){console.error("Error resetting password:",N),alert("Failed to reset password")}},children:"Reset Password"})]})]})},l.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[e.jsx(qt,{className:"w-5 h-5"})," Saved Properties"]}),e.jsx("div",{className:"space-y-4",children:r.map(l=>e.jsx(ce,{...l.property,isSubscriber:!0},l.property.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5"})," Added Properties"]}),e.jsx("div",{className:"space-y-4",children:i.map(l=>e.jsx(ce,{...l,isSubscriber:!0},l.id))})]})]})]})}),e.jsx(sr,{isOpen:f,onClose:()=>h(!1),onSuccess:v})]})}function ar(){const{user:s,profile:t,signOut:a}=T(),{toast:r}=B(),[n,i]=d.useState(!1),[c,b]=d.useState("signin"),y=async f=>{if(!s){localStorage.setItem("pending_subscription_price_id",f),b("signup"),i(!0);return}try{await De(f,s.id)}catch{r({title:"Error",description:"Failed to start subscription process. Please try again.",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z,{isAuthenticated:!!s,userProfile:t||void 0,onSignIn:()=>{b("signin"),i(!0)},onSignUp:()=>{b("signup"),i(!0)},onSignOut:async()=>{try{await a(),window.location.href="/"}catch(f){console.error("Error signing out:",f)}}}),e.jsx(G,{title:"Choose Your Perfect Plan",subtitle:"Select the perfect subscription plan to unlock premium features and detailed property insights",backgroundImage:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsxs("main",{children:[e.jsx(Xs,{onSubscribe:y}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto prose dark:prose-invert mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Investment Plans for Every Property Investor"}),e.jsx("p",{children:"Choose from our range of subscription plans designed to meet the needs of property investors at every level. From market analysis to detailed property insights, our plans provide the tools you need to make informed investment decisions."}),e.jsx("h3",{className:"text-2xl font-semibold mt-8 mb-4",children:"Plan Benefits"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Access to comprehensive property market data and analytics"}),e.jsx("li",{children:"Real-time market insights and trend analysis"}),e.jsx("li",{children:"Advanced property search and filtering capabilities"}),e.jsx("li",{children:"Investment calculators and ROI projections"}),e.jsx("li",{children:"Portfolio tracking and management tools"})]}),e.jsx("h3",{className:"text-2xl font-semibold mt-8 mb-4",children:"Why Subscribe?"}),e.jsx("p",{children:"Our subscription plans give you access to premium features and insights that help you stay ahead in the property market. From basic market analysis to advanced AI-powered predictions, we provide the tools you need to make successful property investments."}),e.jsx("h3",{className:"text-2xl font-semibold mt-8 mb-4",children:"Money-Back Guarantee"}),e.jsx("p",{children:"We're confident in the value our platform provides. If you're not satisfied with your subscription within the first 30 days, we'll provide a full refund, no questions asked."})]}),e.jsx(et,{})]})]}),e.jsx(fe,{}),e.jsx(xe,{isOpen:n,onClose:()=>i(!1),defaultMode:c})]})}function rr(s){const[t,a]=d.useState(0),[r,n]=d.useState(!1),{user:i}=T(),{toast:c}=B(),[b,y]=d.useState({profileImage:"",bannerImage:"",selectedWidgets:[]}),f=async()=>{if(i){n(!0);try{const{error:u}=await _.from("profiles").update({avatar_url:b.profileImage||`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.email}`,banner_url:b.bannerImage||"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab",dashboard_widgets:b.selectedWidgets,onboarding_completed:!0}).eq("id",i.id);if(u)throw u;c({title:"Setup Complete!",description:"Your profile has been updated successfully."}),s.onClose()}catch{c({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{n(!1)}}},h=[{title:"Profile Image",description:"Add a profile image to personalize your account",component:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Profile Image URL"}),e.jsx(P,{placeholder:"Enter image URL or leave blank for default avatar",value:b.profileImage,onChange:u=>y(m=>({...m,profileImage:u.target.value}))})]}),b.profileImage&&e.jsx("img",{src:b.profileImage,alt:"Profile Preview",className:"w-24 h-24 rounded-full object-cover mx-auto"})]})},{title:"Dashboard Banner",description:"Choose a banner image for your dashboard",component:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Banner Image URL"}),e.jsx(P,{placeholder:"Enter banner image URL or leave blank for default",value:b.bannerImage,onChange:u=>y(m=>({...m,bannerImage:u.target.value}))})]}),b.bannerImage&&e.jsx("img",{src:b.bannerImage,alt:"Banner Preview",className:"w-full h-32 object-cover rounded-md"})]})},{title:"Dashboard Widgets",description:"Select the widgets you want to see on your dashboard",component:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["market_trends","property_news","saved_properties","price_alerts","market_insights","investment_calculator"].map(u=>e.jsx(S,{variant:b.selectedWidgets.includes(u)?"default":"outline",onClick:()=>y(m=>({...m,selectedWidgets:m.selectedWidgets.includes(u)?m.selectedWidgets.filter(p=>p!==u):[...m.selectedWidgets,u]})),className:"h-auto py-4 px-6 text-left flex flex-col items-start space-y-2",children:e.jsx("span",{className:"font-medium capitalize",children:u.replace("_"," ")})},u))})})}];return e.jsx(J,{open:s.isOpen,onOpenChange:s.onClose,children:e.jsxs(W,{className:"sm:max-w-[600px]",children:[e.jsxs(V,{children:[e.jsx(Y,{children:h[t].title}),e.jsx(X,{children:h[t].description})]}),e.jsx("div",{className:"py-6",children:h[t].component}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(S,{variant:"outline",onClick:()=>a(u=>Math.max(0,u-1)),disabled:t===0,children:"Previous"}),e.jsx(S,{onClick:()=>{t===h.length-1?f():a(u=>Math.min(h.length-1,u+1))},disabled:r,children:t===h.length-1?"Complete Setup":"Next"})]})]})})}function nr(){const s=H(),[t]=$t(),{toast:a}=B(),{user:r}=T(),[n,i]=g.useState(!0);return g.useEffect(()=>{t.get("session_id")&&a({title:"Subscription Successful!",description:"Thank you for subscribing. Your premium features are now available."}),n||s("/dashboard")},[n,s,t,a]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"max-w-md w-full mx-auto p-8",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Subscription Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for subscribing. Your premium features are now available."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Setting up your preferences..."})]})})}),e.jsx(rr,{isOpen:n,onClose:()=>{i(!1),s("/dashboard")}})]})}function ir(){const s=H(),{toast:t}=B();return g.useEffect(()=>{t({title:"Subscription Cancelled",description:"Your subscription process was cancelled. Please try again if this was a mistake.",variant:"destructive"});const a=setTimeout(()=>{s("/")},3e3);return()=>clearTimeout(a)},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"max-w-md w-full mx-auto p-8",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Subscription Cancelled"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription process was cancelled. Please try again if this was a mistake."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to the homepage..."})]})})})}function or(){const{user:s,profile:t}=T(),{toast:a}=B(),[r,n]=d.useState(!1),[i,c]=d.useState({fullName:(t==null?void 0:t.full_name)||"",avatarUrl:"",currentPassword:"",newPassword:"",confirmPassword:""}),b=async f=>{if(f.preventDefault(),!!s){n(!0);try{const h={id:s.id,full_name:i.fullName,avatar_url:i.avatarUrl||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.email}`,updated_at:new Date().toISOString()},{error:u}=await _.from("profiles").upsert(h);if(u)throw u;a({title:"Success",description:"Your profile has been updated."})}catch{a({title:"Error",description:"Failed to update profile.",variant:"destructive"})}finally{n(!1)}}},y=async f=>{if(f.preventDefault(),!!s){if(i.newPassword!==i.confirmPassword){a({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}n(!0);try{const{error:h}=await _.auth.updateUser({password:i.newPassword});if(h)throw h;a({title:"Success",description:"Your password has been updated."}),c(u=>({...u,currentPassword:"",newPassword:"",confirmPassword:""}))}catch{a({title:"Error",description:"Failed to update password.",variant:"destructive"})}finally{n(!1)}}};return!s||!t?null:e.jsx(q,{children:e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Account Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Update your profile and account preferences."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"fullName",children:"Full Name"}),e.jsx(P,{id:"fullName",value:i.fullName,onChange:f=>c(h=>({...h,fullName:f.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"avatarUrl",children:"Avatar URL"}),e.jsx(P,{id:"avatarUrl",type:"url",value:i.avatarUrl,onChange:f=>c(h=>({...h,avatarUrl:f.target.value})),placeholder:"Leave blank for default avatar"})]}),e.jsx(S,{type:"submit",disabled:r,children:r?"Updating...":"Update Profile"})]}),e.jsxs("div",{className:"border-t pt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Change Password"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"newPassword",children:"New Password"}),e.jsx(P,{id:"newPassword",type:"password",value:i.newPassword,onChange:f=>c(h=>({...h,newPassword:f.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(P,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:f=>c(h=>({...h,confirmPassword:f.target.value}))})]}),e.jsx(S,{type:"submit",disabled:r,children:r?"Updating...":"Update Password"})]})]})]})})})}function Ve({children:s}){const{user:t,profile:a,isLoading:r,fetchProfile:n}=T(),i=H();return g.useEffect(()=>{(async()=>{if(!r&&!t){i("/");return}t&&!a&&await n(t.id)})()},[t,a,r,i,n]),r?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:"Loading..."}):t?e.jsx(e.Fragment,{children:s}):null}function z({children:s}){return e.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:s})}function lr({isOpen:s,onClose:t,property:a,onMessageAuthor:r}){var i;const n=d.useMemo(()=>{const c=new Date().getFullYear(),b=a.price||a.deal_price||5e5,y=.05;return Array.from({length:11},(f,h)=>({year:c+h,value:Math.round(b*Math.pow(1+y,h))}))},[a]);return e.jsx(J,{open:s,onOpenChange:t,children:e.jsxs(W,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(V,{children:e.jsx(Y,{className:"text-2xl",children:a.title||a.address})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:e.jsx("img",{src:((i=a.images)==null?void 0:i[0])||"https://images.unsplash.com/photo-1560518883-ce09059eeffa",alt:a.title||"Property",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx(M,{children:e.jsxs(A,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Price"}),e.jsx(Ae,{className:"w-4 h-4 text-primary"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:["Â£",(a.price||a.deal_price||0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:e.jsx(Te,{amount:a.price||a.deal_price||0})})]})}),e.jsx(M,{children:e.jsxs(A,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Details"}),e.jsx(Ee,{className:"w-4 h-4 text-primary"})]}),e.jsxs("div",{className:"space-y-1",children:[a.bedrooms&&e.jsxs("div",{className:"text-sm",children:[a.bedrooms," Bedrooms"]}),a.bathrooms&&e.jsxs("div",{className:"text-sm",children:[a.bathrooms," Bathrooms"]}),a.square_footage&&e.jsxs("div",{className:"text-sm",children:[a.square_footage," sq ft"]})]})]})})]}),a.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-muted-foreground",children:a.description})]}),r&&a.author&&e.jsxs(S,{className:"w-full",onClick:()=>r(a.author.id),children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Contact Agent"]})]}),e.jsxs("div",{children:[e.jsx(M,{className:"mb-6",children:e.jsxs(A,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ie,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"10 Year Prediction"})]}),e.jsx("div",{className:"h-[300px]",children:e.jsx(we,{width:"100%",height:"100%",children:e.jsxs(Rs,{data:n,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.2}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),e.jsx(Se,{strokeDasharray:"3 3"}),e.jsx(Ce,{dataKey:"year"}),e.jsx(ke,{tickFormatter:c=>`Â£${(c/1e3).toFixed(0)}k`}),e.jsx(Pe,{formatter:c=>`Â£${c.toLocaleString()}`}),e.jsx(Ms,{type:"monotone",dataKey:"value",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorValue)"})]})})})]})}),a.type==="deal"&&e.jsx(M,{children:e.jsxs(A,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Investment Details"}),e.jsxs("div",{className:"space-y-4",children:[a.original_price&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Original Price"}),e.jsxs("span",{children:["Â£",a.original_price.toLocaleString()]})]}),a.potential_profit&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Potential Profit"}),e.jsxs("span",{className:"text-emerald-500",children:["Â£",a.potential_profit.toLocaleString()]})]}),a.roi_percentage&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"ROI"}),e.jsxs("span",{className:"text-emerald-500",children:[a.roi_percentage,"%"]})]})]})]})})]})]})]})})}async function cr(){const{data:s,error:t}=await _.from("deals",{schema:"public"}).select(`
      *,
      assigned_user:profiles!deals_assigned_user_id_fkey(id, full_name, email),
      author:profiles!deals_created_by_fkey(id, full_name, email)
    `).order("created_at",{ascending:!1}).limit(20);if(t)throw console.error("Error fetching featured deals:",t),t;return s}const dr=({results:s,isSubscriber:t=!1,isLoading:a=!1}={})=>{const{user:r,profile:n}=T(),[i,c]=d.useState([]),[b,y]=d.useState(null),[f,h]=d.useState(a),u=m=>{const p=new CustomEvent("open-messages",{detail:{receiverId:m}});window.dispatchEvent(p)};return d.useEffect(()=>{(async()=>{h(!0);try{const p=await cr();c(p)}catch(p){console.error("Error loading featured deals:",p)}finally{h(!1)}})()},[]),e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Investment Deals",subtitle:"Discover exclusive property investment opportunities",backgroundImage:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3",showSearch:!0,showStats:!1,height:"h-[400px]"}),e.jsx("div",{className:"w-full min-h-[600px] bg-background p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Available Deals"}),f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse",children:[1,2,3].map(m=>e.jsx("div",{className:"w-full h-[420px] bg-muted rounded-lg"},m))}):i.length===0?e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"No Available Deals"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Check back later for new investment opportunities"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:i.map(m=>{var p,o,v,l,j;return e.jsx(ce,{id:m.id,address:((p=m.property)==null?void 0:p.address)||m.title,price:m.deal_price||((o=m.property)==null?void 0:o.price),original_price:m.original_price,squareFootage:(v=m.property)==null?void 0:v.square_footage,bedrooms:(l=m.property)==null?void 0:l.bedrooms,bathrooms:(j=m.property)==null?void 0:j.bathrooms,isPremium:m.is_premium,isSubscriber:(n==null?void 0:n.subscription_tier)!=="free",author:m.author,type:"deal",status:m.status,potential_profit:m.potential_profit,roi_percentage:m.roi_percentage,images:[m.images&&typeof m.images=="string"?m.images:Array.isArray(m.images)&&m.images.length>0?m.images[0]:`https://source.unsplash.com/random/800x600?semi,detached&sig=${m.id}`],onMessageAuthor:u,onClick:()=>y(m)},m.id)})}),b&&e.jsx(lr,{isOpen:!!b,onClose:()=>y(null),property:b,onMessageAuthor:u})]})})]})})};async function mr(){return[{title:"UK Housing Market Shows Signs of Recovery",description:"Recent data indicates a steady increase in property transactions...",url:"#",publishedAt:new Date().toISOString()},{title:"Interest Rates Impact on Property Market",description:"Bank of England's latest decision affects mortgage rates...",url:"#",publishedAt:new Date().toISOString()},{title:"Regional Property Markets Outperform London",description:"Northern cities show strong growth in property values...",url:"#",publishedAt:new Date().toISOString()}]}async function ur(s){var t,a,r,n,i;try{const c=`${s}

Provide a detailed analysis using EXACTLY this format (do not include numbers or asterisks at the start of sections):

## Latest Tax Law Changes
- The current stamp duty rates and thresholds
- Recent changes to capital gains tax
- Upcoming tax proposals

## Landlord Regulations
- Latest HMO licensing requirements
- Recent changes to tenant rights
- Current safety regulations

## Government Policies
- New housing policies
- Regional development initiatives
- Planning permission changes

## Market Impact Analysis
- Effect on property values
- Changes to rental yields
- Investment recommendations

Use ONLY ## for section headers and - for bullet points. Do not use any other formatting, numbers, or special characters. Each bullet point should be a complete sentence with specific dates and numbers where possible.`,b=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyD0MjDEtw7El7GSzOm9F8iIKE2uGDkVBWo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}]})});if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);const y=await b.json();if(!((i=(n=(r=(a=(t=y.candidates)==null?void 0:t[0])==null?void 0:a.content)==null?void 0:r.parts)==null?void 0:n[0])!=null&&i.text))throw new Error("Invalid response format from Gemini API");let f=y.candidates[0].content.parts[0].text;return f=f.replace(/\*\*/g,"").replace(/\*\s/g,"- ").replace(/\d+\.\s/g,"- ").replace(/^[0-9]\./gm,"-").replace(/\n\n+/g,`

`).replace(/\n\s*\n/g,`

`).trim(),f}catch(c){throw console.error("Error generating insights:",c),c}}async function hr(s){const{error:t}=await _.from("market_insights").insert([{content:s,generated_at:new Date().toISOString()}]);if(t)throw t}async function pr(){try{const{data:s,error:t}=await _.from("market_insights").select("*").order("generated_at",{ascending:!1}).limit(1).maybeSingle();if(t)throw t;return s}catch(s){return console.error("Error fetching market insights:",s),null}}function xr(){const{user:s,profile:t}=T(),[a,r]=d.useState([]),[n,i]=d.useState(""),[c,b]=d.useState(!0),[y,f]=d.useState(null);return d.useEffect(()=>{(async()=>{try{const u=`Analyze the current UK property regulatory landscape and provide insights on:

1. Latest Tax Law Changes
- Recent changes to property-related taxes
- Impact on investors and landlords
- Upcoming tax proposals

2. Landlord Regulations
- Current licensing requirements
- Tenant rights updates
- Property safety regulations

3. Government Policies
- Recent policy changes affecting property
- Proposed legislation
- Regional variations

4. Market Impact Analysis
- How these changes affect property values
- Impact on rental yields
- Investment strategy adjustments

Provide specific dates, numbers, and practical implications where possible.`,[m,p]=await Promise.all([mr(),pr()]);r(m.slice(0,8));try{if(p&&new Date(p.generated_at).getTime()>Date.now()-864e5)i(p.content);else{const o=await ur(u);i(o),await hr(o)}}catch(o){console.error("Error generating market insights:",o),i("Unable to load market insights at this time. Please try again later.")}}catch(u){console.error("Error loading market data:",u)}finally{b(!1)}})()},[]),e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Regulatory Updates & Market Insights",subtitle:"Stay informed about the latest property regulations and policy changes",backgroundImage:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(M,{children:[e.jsxs(L,{className:"flex flex-row items-center gap-2",children:[e.jsx(zt,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Regulatory Updates"}),e.jsxs("span",{className:"relative flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})]}),e.jsx(A,{children:c?e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-5/6"})]}):e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:n.split(`
`).map((h,u)=>h.startsWith("## ")?e.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:h.replace("## ","")},u):h.startsWith("### ")?e.jsx("h3",{className:"text-lg font-medium mt-4 mb-2",children:h.replace("### ","")},u):h.startsWith("- ")?e.jsx("li",{className:"ml-4",children:h.replace("- ","")},u):h.trim()!==""?e.jsx("p",{className:"mb-3",children:h},u):null)})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(L,{className:"flex flex-row items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Latest Updates"})]}),e.jsx(A,{children:c?e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},h))}):e.jsx("div",{className:"space-y-6",children:a.map((h,u)=>e.jsxs("div",{className:"border-b last:border-0 pb-4 last:pb-0",children:[e.jsx("h3",{className:"font-medium mb-1 line-clamp-2",children:h.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:h.description}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[e.jsx("span",{children:new Date(h.publishedAt).toLocaleDateString()}),e.jsx(S,{variant:"ghost",className:"group hover:text-primary",children:"Read More"})]})]},u))})})]})})]})})})]})})}function gr(){const{user:s,profile:t}=T(),[a,r]=d.useState(!0);return d.useEffect(()=>{setTimeout(()=>r(!1),1e3)},[]),e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Market Trends & Statistics",subtitle:"Track key market indicators and stay ahead of property market movements",backgroundImage:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx(Js,{})]})})}function Ye({title:s="Understanding the Current Real Estate Market",content:t="Default content",date:a=new Date().toISOString(),readTime:r="5 min read"}){const{user:n,profile:i}=T();return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z,{isAuthenticated:!!n,userProfile:i||void 0}),e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(M,{children:e.jsxs(A,{className:"p-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:s}),e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(a).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-4 h-4"}),e.jsx("span",{children:r})]})]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:t.split(`

`).map((c,b)=>e.jsx("p",{className:"mb-4",children:c},b))})]})})})})]})}function fr({isPro:s=!1}){const t=[{title:"UK Property Market Analysis Q1 2024",excerpt:"Comprehensive analysis of the UK property market performance in Q1 2024, including price trends, regional variations, and future projections.",category:"Market Analysis",date:"2024-03-20",readTime:"10 min read"},{title:"Investment Opportunities in Northern Cities",excerpt:"Detailed research on emerging property investment opportunities in northern UK cities, with focus on yield potential and growth areas.",category:"Investment Research",date:"2024-03-18",readTime:"8 min read"},{title:"Impact of Interest Rates on Property Market",excerpt:"Analysis of how recent interest rate changes are affecting the property market, mortgage rates, and buyer behavior.",category:"Economic Analysis",date:"2024-03-15",readTime:"12 min read"},{title:"Rental Market Trends 2024",excerpt:"Latest trends in the UK rental market, including demand patterns, yield analysis, and regulatory changes.",category:"Market Analysis",date:"2024-03-12",readTime:"7 min read"},{title:"Sustainable Property Investment Guide",excerpt:"Comprehensive guide to sustainable property investment, including EPC regulations, green mortgages, and future-proofing investments.",category:"Investment Research",date:"2024-03-10",readTime:"15 min read"},{title:"Regional Property Price Forecast",excerpt:"Detailed forecast of property prices across UK regions, with analysis of key growth drivers and market indicators.",category:"Market Analysis",date:"2024-03-08",readTime:"9 min read"}];return e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((a,r)=>e.jsxs(M,{className:"hover:shadow-lg transition-shadow relative overflow-hidden",children:[e.jsxs(L,{className:"flex flex-row items-center gap-2 pb-2",children:[a.category==="Market Analysis"?e.jsx(ie,{className:"w-5 h-5 text-blue-500"}):a.category==="Investment Research"?e.jsx(Vt,{className:"w-5 h-5 text-green-500"}):e.jsx(Ts,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a.category})]}),e.jsxs(A,{className:"relative",children:[e.jsxs("div",{className:s?"":"blur-sm",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:a.title}),e.jsx("p",{className:"text-muted-foreground mb-4",children:a.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(a.date).toLocaleDateString()," Â·"," ",a.readTime]}),e.jsxs(S,{variant:"ghost",className:"group hover:text-primary",onClick:()=>{window.location.href=`/article/${encodeURIComponent(a.title)}`},children:["Read More",e.jsx(ne,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]}),!s&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 backdrop-blur-[2px]",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(Me,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upgrade to Pro to access research reports"})]})})]})]},r))})})}function jr(){const{user:s,profile:t}=T(),[a,r]=d.useState(!1),n=(t==null?void 0:t.subscription_tier)==="pro"||(t==null?void 0:t.subscription_tier)==="premium";return e.jsx(z,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z,{isAuthenticated:!!s,userProfile:t||void 0}),e.jsx(G,{title:"Research & Reports",subtitle:"Expert analysis and insights to inform your property investment decisions",backgroundImage:"https://images.unsplash.com/photo-1434626881859-194d67b2b86f?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Latest Research"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Stay informed with our comprehensive research reports and expert analysis"})]}),n?e.jsx(fr,{isPro:n}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pro Plan Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Access to research reports is available exclusively to Pro and Premium subscribers."}),e.jsx(S,{onClick:()=>r(!0),children:"Upgrade to Pro"})]})]})}),e.jsx(Zs,{isOpen:a,onClose:()=>r(!1)})]})})}function vr(){const{user:s,profile:t}=T(),a=[{title:"Understanding Property Market Cycles",excerpt:"A comprehensive guide to property market cycles and how to identify market phases for optimal investment timing.",category:"Market Analysis",date:"2024-03-20",readTime:"8 min read",image:"https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-4.0.3"},{title:"Buy-to-Let Investment Strategy Guide",excerpt:"Expert insights into creating a successful buy-to-let investment strategy in today's market conditions.",category:"Investment",date:"2024-03-18",readTime:"10 min read",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3"},{title:"Property Tax Changes in 2024",excerpt:"Stay updated with the latest property tax regulations and how they affect property investors and homeowners.",category:"Legal",date:"2024-03-15",readTime:"6 min read",image:"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3"}];return e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Property Investment Blog",subtitle:"Expert insights and analysis on the UK property market",backgroundImage:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24 sm:pt-8",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((r,n)=>e.jsxs(M,{className:"flex flex-col h-full hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-t-lg",children:e.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})}),e.jsxs(L,{className:"flex flex-row items-center gap-2",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:r.category})]}),e.jsxs(A,{className:"flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),e.jsx("p",{className:"text-muted-foreground mb-4 flex-1",children:r.excerpt}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(r.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"w-4 h-4"}),e.jsx("span",{children:r.readTime})]})]}),e.jsxs(S,{variant:"ghost",className:"group hover:text-primary",onClick:()=>{window.location.href=`/blog/${r.title.toLowerCase().replace(/ /g,"-")}`},children:["Read More",e.jsx(ne,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})]},n))})})})]})})}function br(){const{user:s,profile:t}=T(),[a,r]=d.useState(null),[n,i]=d.useState(null),[c,b]=d.useState(null),[y,f]=d.useState(null),[h,u]=d.useState(null),[m,p]=d.useState({propertyPrice:"",deposit:"",interestRate:"",term:""}),[o,v]=d.useState({propertyPrice:"",deposit:"",interestRate:"",rentalIncome:""}),[l,j]=d.useState({purchasePrice:"",renovationCost:"",expectedSalePrice:"",otherCosts:""}),[N,R]=d.useState({propertyPrice:"",annualRent:""}),[x,C]=d.useState({totalInvestment:"",annualReturn:""}),E=()=>{const k=parseFloat(m.propertyPrice)-parseFloat(m.deposit),K=parseFloat(m.interestRate)/100/12,ve=parseFloat(m.term)*12,be=k*K*Math.pow(1+K,ve)/(Math.pow(1+K,ve)-1);r(be)},D=()=>{const K=(parseFloat(o.propertyPrice)-parseFloat(o.deposit))*(parseFloat(o.interestRate)/100)/12,be=parseFloat(o.rentalIncome)-K;i(be)},$=()=>{const k=parseFloat(l.purchasePrice)+parseFloat(l.renovationCost)+parseFloat(l.otherCosts),K=parseFloat(l.expectedSalePrice)-k;b(K)},ot=()=>{const k=parseFloat(N.annualRent)/parseFloat(N.propertyPrice)*100;f(k)},lt=()=>{const k=parseFloat(x.annualReturn)/parseFloat(x.totalInvestment)*100;u(k)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Z,{isAuthenticated:!!s,userProfile:t||void 0}),e.jsx(G,{title:"Property Investment Calculators",subtitle:"Make informed decisions with our comprehensive suite of property investment calculators",backgroundImage:"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Investment Calculators"}),e.jsx("p",{className:"text-muted-foreground",children:"Calculate different aspects of your property investment"})]}),e.jsxs(Oe,{defaultValue:"mortgage",className:"w-full",children:[e.jsxs(ge,{className:"grid w-full grid-cols-5",children:[e.jsxs(F,{value:"mortgage",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"})," Mortgage"]}),e.jsxs(F,{value:"buytolet",className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"w-4 h-4"})," Buy to Let"]}),e.jsxs(F,{value:"development",className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-4 h-4"})," Development"]}),e.jsxs(F,{value:"rentalyield",className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4"})," Rental Yield"]}),e.jsxs(F,{value:"roi",className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"})," ROI"]})]}),e.jsx(U,{value:"mortgage",children:e.jsxs(M,{children:[e.jsx(L,{children:e.jsx("h2",{className:"text-2xl font-semibold",children:"Mortgage Calculator"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Property Price (Â£)"}),e.jsx(P,{type:"number",value:m.propertyPrice,onChange:k=>p({...m,propertyPrice:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Deposit (Â£)"}),e.jsx(P,{type:"number",value:m.deposit,onChange:k=>p({...m,deposit:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Interest Rate (%)"}),e.jsx(P,{type:"number",value:m.interestRate,onChange:k=>p({...m,interestRate:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Term (Years)"}),e.jsx(P,{type:"number",value:m.term,onChange:k=>p({...m,term:k.target.value})})]})]}),e.jsx(S,{onClick:E,className:"w-full",children:"Calculate"}),a!==null&&e.jsx("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:e.jsxs("p",{className:"text-lg font-semibold",children:["Monthly Payment: Â£",a.toFixed(2)]})})]})]})}),e.jsx(U,{value:"buytolet",children:e.jsxs(M,{children:[e.jsx(L,{children:e.jsx("h2",{className:"text-2xl font-semibold",children:"Buy to Let Calculator"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Property Price (Â£)"}),e.jsx(P,{type:"number",value:o.propertyPrice,onChange:k=>v({...o,propertyPrice:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Deposit (Â£)"}),e.jsx(P,{type:"number",value:o.deposit,onChange:k=>v({...o,deposit:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Interest Rate (%)"}),e.jsx(P,{type:"number",value:o.interestRate,onChange:k=>v({...o,interestRate:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Monthly Rental Income (Â£)"}),e.jsx(P,{type:"number",value:o.rentalIncome,onChange:k=>v({...o,rentalIncome:k.target.value})})]})]}),e.jsx(S,{onClick:D,className:"w-full",children:"Calculate"}),n!==null&&e.jsx("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:e.jsxs("p",{className:"text-lg font-semibold",children:["Monthly Cashflow: Â£",n.toFixed(2)]})})]})]})}),e.jsx(U,{value:"development",children:e.jsxs(M,{children:[e.jsx(L,{children:e.jsx("h2",{className:"text-2xl font-semibold",children:"Development Calculator"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Purchase Price (Â£)"}),e.jsx(P,{type:"number",value:l.purchasePrice,onChange:k=>j({...l,purchasePrice:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Renovation Cost (Â£)"}),e.jsx(P,{type:"number",value:l.renovationCost,onChange:k=>j({...l,renovationCost:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Expected Sale Price (Â£)"}),e.jsx(P,{type:"number",value:l.expectedSalePrice,onChange:k=>j({...l,expectedSalePrice:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Other Costs (Â£)"}),e.jsx(P,{type:"number",value:l.otherCosts,onChange:k=>j({...l,otherCosts:k.target.value})})]})]}),e.jsx(S,{onClick:$,className:"w-full",children:"Calculate"}),c!==null&&e.jsx("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:e.jsxs("p",{className:"text-lg font-semibold",children:["Expected Profit: Â£",c.toFixed(2)]})})]})]})}),e.jsx(U,{value:"rentalyield",children:e.jsxs(M,{children:[e.jsx(L,{children:e.jsx("h2",{className:"text-2xl font-semibold",children:"Rental Yield Calculator"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Property Price (Â£)"}),e.jsx(P,{type:"number",value:N.propertyPrice,onChange:k=>R({...N,propertyPrice:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Annual Rental Income (Â£)"}),e.jsx(P,{type:"number",value:N.annualRent,onChange:k=>R({...N,annualRent:k.target.value})})]})]}),e.jsx(S,{onClick:ot,className:"w-full",children:"Calculate"}),y!==null&&e.jsx("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:e.jsxs("p",{className:"text-lg font-semibold",children:["Rental Yield: ",y.toFixed(2),"%"]})})]})]})}),e.jsx(U,{value:"roi",children:e.jsxs(M,{children:[e.jsx(L,{children:e.jsx("h2",{className:"text-2xl font-semibold",children:"ROI Calculator"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Total Investment (Â£)"}),e.jsx(P,{type:"number",value:x.totalInvestment,onChange:k=>C({...x,totalInvestment:k.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Annual Return (Â£)"}),e.jsx(P,{type:"number",value:x.annualReturn,onChange:k=>C({...x,annualReturn:k.target.value})})]})]}),e.jsx(S,{onClick:lt,className:"w-full",children:"Calculate"}),h!==null&&e.jsx("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:e.jsxs("p",{className:"text-lg font-semibold",children:["ROI: ",h.toFixed(2),"%"]})})]})]})})]})]})}),e.jsx(fe,{})]})}function yr(){const s=[{title:"Getting Started",icon:e.jsx(Qt,{className:"w-5 h-5"}),description:"Learn the basics of using our platform",content:["How to search for properties","Understanding market insights","Setting up your account","Subscription plans overview"]},{title:"Account & Billing",icon:e.jsx(Ts,{className:"w-5 h-5"}),description:"Manage your account and subscription",content:["Updating account details","Subscription management","Billing history","Payment methods"]},{title:"Technical Support",icon:e.jsx(Xt,{className:"w-5 h-5"}),description:"Get help with technical issues",content:["Troubleshooting guide","System requirements","Known issues","Browser compatibility"]}],t=[{icon:e.jsx(Zt,{className:"w-5 h-5"}),title:"Email Support",description:"Get help via email",action:"support@myvge.co.uk",buttonText:"Send Email",onClick:()=>window.location.href="mailto:support@myvge.co.uk"},{icon:e.jsx(ea,{className:"w-5 h-5"}),title:"Phone Support",description:"Speak to our team",action:"0800 123 4567",buttonText:"Call Now",onClick:()=>window.location.href="tel:08001234567"},{icon:e.jsx(me,{className:"w-5 h-5"}),title:"Live Chat",description:"Chat with our support team",action:"Available 24/7",buttonText:"Start Chat",onClick:()=>{const a=new CustomEvent("open-messages",{detail:{receiverId:"support"}});window.dispatchEvent(a)}}];return e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Help & Support Center",subtitle:"Get the assistance you need with our comprehensive support resources",backgroundImage:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map((a,r)=>e.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(L,{className:"flex flex-row items-center gap-2",children:[a.icon,e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),e.jsx(A,{children:e.jsx("ul",{className:"space-y-2",children:a.content.map((n,i)=>e.jsxs("li",{className:"text-sm",children:["â¢ ",n]},i))})})]},r))}),e.jsxs("div",{className:"bg-card shadow rounded-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Contact Support"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose your preferred method of contact"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((a,r)=>e.jsx(M,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:a.icon}),e.jsx("h3",{className:"font-semibold mb-2",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.description}),e.jsx("p",{className:"text-sm font-medium mb-4",children:a.action}),e.jsx(S,{onClick:a.onClick,className:"w-full",children:a.buttonText})]})},r))})]})]})})]})})}const Nr="AIzaSyD0MjDEtw7El7GSzOm9F8iIKE2uGDkVBWo",wr=["Calculate stamp duty for a Â£400,000 property","What are typical legal fees for property purchase?","Explain all costs involved in buying a property","How much should I budget for property maintenance?","What surveys do I need when buying a property?","Calculate monthly mortgage payments for Â£300,000"];async function Sr(s){try{return(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${Nr}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are a UK property cost assistant specializing in helping users understand and calculate all costs involved in property transactions. You have expertise in:

1. Stamp Duty Land Tax calculations
2. Legal fees and conveyancing costs
3. Survey and valuation fees
4. Mortgage arrangement fees
5. Property maintenance costs
6. Insurance costs
7. Property management fees
8. Tax implications

Provide specific numbers and calculations when possible. For professional services, explain what to look for and typical cost ranges. Always break down complex costs into clear categories.

If asked about stamp duty, always show the calculation breakdown and mention if there are any special rates (e.g., first-time buyers, additional properties).

For maintenance costs, provide annual percentages of property value and specific examples of common maintenance items.

User question: ${s}`}]}]})})).json()).candidates[0].content.parts[0].text}catch(t){return console.error("Error getting chat response:",t),"I'm sorry, I'm having trouble processing your request right now. Please try again later."}}function Cr(){const{user:s,profile:t}=T(),[a,r]=d.useState(!1),[n,i]=d.useState("ai"),[c,b]=d.useState([]),[y,f]=d.useState(""),[h,u]=d.useState(!1),[m,p]=d.useState([]),[o,v]=d.useState(null),l=d.useRef(null);d.useEffect(()=>{if(s){j();const x=C=>{r(!0),i("messages");const E=C.detail.receiverId,D=m.find($=>$.id===E);D&&v(D)};return window.addEventListener("open-messages",x),()=>window.removeEventListener("open-messages",x)}},[s,m]);const j=async()=>{try{const{data:x}=await _.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email),
          receiver:profiles!messages_receiver_id_fkey(id, full_name, email)
        `).or(`sender_id.eq.${s==null?void 0:s.id},receiver_id.eq.${s==null?void 0:s.id}`).order("created_at",{ascending:!1});if(!x)return;const C=new Map;x.forEach(E=>{const D=E.sender.id===(s==null?void 0:s.id)?E.receiver:E.sender;C.has(D.id)||C.set(D.id,{id:D.id,full_name:D.full_name,email:D.email,last_message:E.content,unread_count:E.receiver_id===(s==null?void 0:s.id)&&!E.is_read?1:0})}),p(Array.from(C.values()))}catch(x){console.error("Error loading contacts:",x)}},N=async x=>{if(console.log("handleSend called with text:",x),!!x.trim())if(n==="ai"){b(C=>[...C,{text:x,isUser:!0}]),f(""),u(!0);try{const C=await Sr(x);b(D=>[...D,{text:C,isUser:!1}]);const{error:E}=await _.from("messages").insert([{sender_id:s==null?void 0:s.id,receiver_id:s==null?void 0:s.id,content:x,is_support:!1},{sender_id:null,receiver_id:s==null?void 0:s.id,content:C,is_support:!1}]);E&&console.error("Supabase insert error (AI):",E)}catch(C){console.error("Error sending message:",C)}finally{u(!1)}}else{if(!s||!o)return;try{console.log("Sending message to Supabase:",{sender_id:s.id,receiver_id:o.id,content:x,is_support:n==="support"});const{data:C,error:E}=await _.from("messages").insert([{sender_id:s.id,receiver_id:o.id,content:x,is_support:n==="support"}]);if(E)throw console.error("Supabase insert error:",E),E;console.log("Supabase insert success:",C),b(D=>[...D,{text:x,isUser:!0,sender:{full_name:(t==null?void 0:t.full_name)||"",email:(t==null?void 0:t.email)||""},timestamp:new Date().toISOString()}]),f("")}catch(C){console.error("Error sending message:",C)}}},R=()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)};return d.useEffect(()=>{R()},[c]),d.useEffect(()=>{R()},[h]),d.useEffect(()=>{if(!s||!o)return;const x=_.channel(`messages:${s.id}:${o.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`or(and(sender_id.eq.${s.id},receiver_id.eq.${o.id}),and(sender_id.eq.${o.id},receiver_id.eq.${s.id}))`},C=>{console.log("Realtime message received:",C);const E=C.new;E.sender_id!==s.id&&b(D=>[...D,{text:E.content,isUser:!1,sender:o,timestamp:E.created_at}])}).subscribe();return()=>{x.unsubscribe()}},[s,o]),e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"fixed bottom-4 right-4 rounded-full w-12 h-12 p-0 shadow-lg",onClick:()=>r(!0),children:e.jsx(me,{className:"w-6 h-6"})}),e.jsx(ss,{children:a&&e.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-20 right-4 w-full sm:w-[380px] md:w-[420px] max-w-[95vw] z-50",children:e.jsx(M,{className:"overflow-hidden shadow-xl border-primary/20",children:e.jsxs(Oe,{defaultValue:n,onValueChange:i,children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-primary/5",children:[e.jsxs(ge,{children:[e.jsxs(F,{value:"ai",className:"flex items-center gap-2",children:[e.jsx(sa,{className:"w-4 h-4"})," AI Assistant"]}),e.jsxs(F,{value:"messages",className:"flex items-center gap-2",children:[e.jsx(As,{className:"w-4 h-4"})," Messages"]}),e.jsxs(F,{value:"support",className:"flex items-center gap-2",children:[e.jsx(ta,{className:"w-4 h-4"})," Support"]})]}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(!1),children:e.jsx(ts,{className:"h-4 w-4"})})]}),e.jsx(U,{value:"ai",className:"m-0",children:e.jsxs("div",{ref:l,className:"h-96 p-4 space-y-4 overflow-y-auto",children:[c.length===0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hello! I'm your property assistant. Ask me anything about property investment, or try one of these popular questions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:wr.map((x,C)=>e.jsx(S,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>N(x),children:x},C))})]}):c.map((x,C)=>e.jsx("div",{className:`flex ${x.isUser?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${x.isUser?"bg-primary text-primary-foreground":"bg-muted"}`,children:e.jsx("p",{className:"text-sm",children:x.text})})},C)),h&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-muted",children:e.jsx("p",{className:"text-sm",children:"Typing..."})})})]})}),e.jsxs(U,{value:"messages",className:"m-0",children:[e.jsx("div",{ref:l,className:"h-96 p-4 space-y-4 overflow-y-auto",children:s?o?e.jsx("div",{className:"space-y-4",children:c.map((x,C)=>e.jsx("div",{className:`flex ${x.isUser?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${x.isUser?"bg-primary text-primary-foreground":"bg-muted"}`,children:e.jsx("p",{className:"text-sm",children:x.text})})},C))}):e.jsx("div",{className:"space-y-4",children:m.map(x=>{var C;return e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted rounded-lg cursor-pointer",onClick:()=>v(x),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ue,{className:"h-8 w-8",children:[e.jsx(he,{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(x.full_name)}&background=random`,alt:x.full_name}),e.jsx(pe,{children:(C=x.full_name)==null?void 0:C.split(" ").map(E=>E[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.full_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.last_message})]})]}),x.unread_count>0&&e.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:x.unread_count})]},x.id)})}):e.jsx("div",{className:"text-center p-4",children:e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Please sign in to view messages"})})}),o&&e.jsx("div",{className:"p-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{value:y,onChange:x=>f(x.target.value),placeholder:"Type a message...",onKeyPress:x=>{x.key==="Enter"&&N(y)}}),e.jsx(S,{onClick:()=>N(y),disabled:!y.trim(),children:e.jsx(ze,{className:"h-4 w-4"})})]})})]}),e.jsxs(U,{value:"support",className:"m-0",children:[e.jsx("div",{ref:l,className:"h-96 p-4 space-y-4 overflow-y-auto",children:c.length===0?e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome to support! How can we help you today?"})}):c.map((x,C)=>e.jsx("div",{className:`flex ${x.isUser?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${x.isUser?"bg-primary text-primary-foreground":"bg-muted"}`,children:e.jsx("p",{className:"text-sm",children:x.text})})},C))}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{value:y,onChange:x=>f(x.target.value),placeholder:"Type your support question...",onKeyPress:x=>{x.key==="Enter"&&N(y)}}),e.jsx(S,{onClick:()=>N(y),disabled:!y.trim(),children:e.jsx(ze,{className:"h-4 w-4"})})]})})]})]})})})})]})}function kr(){const s=H();return g.useEffect(()=>{_.auth.onAuthStateChange((a,r)=>{console.log("Auth state change:",a,r),a==="SIGNED_IN"&&s("/dashboard")}),(async()=>{const{data:{session:a}}=await _.auth.getSession();console.log("Initial session:",a),s(a?"/dashboard":"/")})()},[s]),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Authenticating..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we verify your credentials."})]})})}const Pr=[{title:"Tenant Screening",description:"Comprehensive tenant screening to ensure reliable renters."},{title:"Rent Collection",description:"Hassle-free rent collection with automated reminders."},{title:"Property Maintenance",description:"Regular maintenance and prompt repairs to keep your property in top condition."},{title:"Financial Reporting",description:"Detailed financial reports to track your investment performance."}];function Ir(){return e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Property Management Services",subtitle:"Let us take care of your property, so you can focus on what matters most.",backgroundImage:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Comprehensive Property Management"}),e.jsx("p",{className:"text-muted-foreground",children:"We offer a full range of property management services to maximize your investment returns."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Our Services"}),e.jsx("ul",{className:"list-disc list-inside",children:Pr.map((s,t)=>e.jsxs("li",{children:[e.jsx("strong",{children:s.title}),": ",s.description]},t))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Why Choose Us?"}),e.jsx("p",{children:"With years of experience in the property market, we understand the unique challenges and opportunities that property owners face. Our dedicated team is committed to providing exceptional service and maximizing your rental income."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Get in Touch"}),e.jsx("p",{children:"We'd love to hear from you! Contact us to learn more about our services or to discuss your investment needs."}),e.jsx(S,{children:"Contact Us"})]})]})})]})})}const _r=[{title:"High-Yield Student Housing",description:"Invest in modern student accommodations with guaranteed rental income."},{title:"Commercial Property Development",description:"Participate in the development of prime commercial properties in growing urban areas."},{title:"Sustainable Housing Projects",description:"Invest in eco-friendly housing projects with long-term growth potential."}];function Rr(){return e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"Explore Investment Opportunities",subtitle:"Discover a wide range of property investment opportunities tailored to your needs.",backgroundImage:"https://images.unsplash.com/photo-1505843516597-5c0a43e6ca02?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Unlock Your Investment Potential"}),e.jsx("p",{className:"text-muted-foreground",children:"Find the perfect property investment opportunity with our expert guidance."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Featured Opportunities"}),e.jsx("ul",{className:"list-disc list-inside",children:_r.map((s,t)=>e.jsxs("li",{children:[e.jsx("strong",{children:s.title}),": ",s.description]},t))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Investment Strategies"}),e.jsx("p",{children:"We offer a variety of investment strategies to suit your individual goals and risk tolerance. Whether you're looking for long-term capital appreciation or steady rental income, we have the expertise to help you succeed."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Get Started Today"}),e.jsx("p",{children:"Browse our current investment opportunities and contact us to discuss your investment goals."}),e.jsx(S,{children:"Explore Opportunities"})]})]})})]})})}function Mr(){return e.jsx(z,{children:e.jsxs(q,{children:[e.jsx(G,{title:"About MyVGE",subtitle:"Learn more about our mission and our team",backgroundImage:"https://images.unsplash.com/photo-1507585495646-50c2b6dbd483?ixlib=rb-4.0.3",showSearch:!1,showStats:!1,height:"h-[400px]"}),e.jsx("main",{className:"container mx-auto px-4 py-8 pt-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Our Story"}),e.jsx("p",{className:"text-muted-foreground",children:"MyVGE is dedicated to providing property investors with the tools and insights they need to succeed."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Our Mission"}),e.jsx("p",{children:"To empower property investors with comprehensive data, expert analysis, and innovative tools to make informed decisions and achieve their financial goals. We are committed to ethical practices, diversity, and transparency in all our operations."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Our Values"}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"**Ethical Practices:** We adhere to the highest ethical standards in all our dealings, ensuring fairness and integrity."}),e.jsx("li",{children:"**Diversity:** We embrace diversity and inclusion, fostering a welcoming environment for all."}),e.jsx("li",{children:"**Transparency:** We are committed to open and honest communication, providing clear and accurate information to our users."})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Our Team"}),e.jsx("p",{children:"Our team consists of experienced property professionals, data scientists, and technology experts who are passionate about helping investors navigate the complexities of the real estate market. We are a diverse group of individuals with a shared commitment to excellence."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Contact Us"}),e.jsx("p",{children:"We'd love to hear from you! Contact us to learn more about our services or to discuss your investment needs."}),e.jsx(S,{children:"Contact Us"})]})]})})]})})}function Ar(){const[s,t]=g.useState(!0);H();const a=aa();return g.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);r();const i=setTimeout(n,100);return()=>clearTimeout(i)},[a.pathname]),g.useEffect(()=>{document.documentElement.classList.remove("dark")},[]),e.jsxs("div",{className:"min-h-screen bg-background",children:[s&&e.jsx(pa,{}),e.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(g.Suspense,{fallback:e.jsx(ha,{}),children:e.jsxs(ra,{location:a,children:[e.jsx(O,{path:"/",element:e.jsx(er,{})}),e.jsx(O,{path:"/deals",element:e.jsx(dr,{})}),e.jsx(O,{path:"/dashboard",element:e.jsx(Ve,{children:e.jsx(tr,{})})}),e.jsx(O,{path:"/pricing",element:e.jsx(ar,{})}),e.jsx(O,{path:"/subscription/success",element:e.jsx(nr,{})}),e.jsx(O,{path:"/subscription/cancel",element:e.jsx(ir,{})}),e.jsx(O,{path:"/account",element:e.jsx(Ve,{children:e.jsx(or,{})})}),e.jsx(O,{path:"/insights",element:e.jsx(xr,{})}),e.jsx(O,{path:"/trends",element:e.jsx(gr,{})}),e.jsx(O,{path:"/research",element:e.jsx(jr,{})}),e.jsx(O,{path:"/blog",element:e.jsx(vr,{})}),e.jsx(O,{path:"/article/:title",element:e.jsx(Ye,{})}),e.jsx(O,{path:"/blog/:slug",element:e.jsx(Ye,{})}),e.jsx(O,{path:"/calculators",element:e.jsx(br,{})}),e.jsx(O,{path:"/help",element:e.jsx(yr,{})}),e.jsx(O,{path:"/auth/callback",element:e.jsx(kr,{})}),e.jsx(O,{path:"/property-management",element:e.jsx(Ir,{})}),e.jsx(O,{path:"/investment-opportunities",element:e.jsx(Rr,{})}),e.jsx(O,{path:"/about-us",element:e.jsx(Mr,{})}),!1]})})},a.pathname),!1,e.jsx(Sa,{}),e.jsx(Cr,{})]})}function Er(){const[s,t]=d.useState(()=>localStorage.getItem("password-protected")==="true");return s?e.jsx(Us,{children:e.jsx(Ar,{})}):e.jsx(ua,{onSuccess:()=>t(!0)})}na.TempoDevtools.init();ia.init("phc_Pg1VGdZoazG7KyDNxnUXNZZz6zPVrGNSRtFlDnlZCcA",{api_host:"https://eu.i.posthog.com",person_profiles:"identified_only"});oa.createRoot(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(la,{children:e.jsx(Us,{children:e.jsx(Er,{})})})}));
//# sourceMappingURL=index-BwrQUBTv.js.map
