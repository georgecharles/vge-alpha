{"version":3,"file":"index-C5J3_DM4.js","sources":["../../src/lib/utils.ts","../../src/components/ui/card.tsx","../../src/components/ui/input.tsx","../../src/components/ui/button.tsx","../../src/components/PasswordProtect.tsx","../../src/components/ui/loading.tsx","../../src/components/ui/progress-bar.tsx","../../src/lib/supabase.ts","../../src/lib/auth.tsx","../../src/components/ui/toast.tsx","../../src/components/ui/use-toast.ts","../../src/components/ui/toaster.tsx","../../src/components/MobileNav.jsx","../../src/components/ui/navigation-menu.tsx","../../src/components/ui/avatar.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/Header.tsx","../../src/components/HeroSection.tsx","../../src/lib/hooks/useBitcoinPrice.ts","../../src/components/BitcoinPrice.tsx","../../src/components/PropertyCard.tsx","../../src/components/ui/tabs.tsx","../../src/components/MarketTrends.tsx","../../src/components/ui/alert.tsx","../../src/components/SubscriptionCTA.tsx","../../src/components/ui/dialog.tsx","../../src/components/ui/label.tsx","../../src/lib/stripe.ts","../../src/components/AuthModal.tsx","../../src/components/SubscriptionPlans.tsx","../../src/components/SubscriptionModal.tsx","../../src/components/ui/textarea.tsx","../../src/lib/messages.ts","../../src/components/PropertyMessages.tsx","../../src/components/MessagesModal.tsx","../../src/components/RandomFact.tsx","../../src/components/Footer.tsx","../../src/components/LegalDisclaimer.tsx","../../src/components/ui/carousel.tsx","../../src/components/PartnersCarousel.tsx","../../src/lib/properties.ts","../../src/components/home.tsx","../../src/components/AddPropertyModal.tsx","../../src/components/Layout.tsx","../../src/components/Dashboard.tsx","../../src/components/PricingPage.tsx","../../src/components/OnboardingModal.jsx","../../src/components/SubscriptionSuccess.tsx","../../src/components/SubscriptionCancel.tsx","../../src/components/AccountSettings.tsx","../../src/components/RequireAuth.tsx","../../virtual:vite-plugin-pages/generated-pages?id=~react-pages","../../src/components/ui/page-transition.tsx","../../src/components/PropertyDetailsModal.tsx","../../src/components/SearchResults.tsx","../../src/lib/market-insights.ts","../../src/components/MarketInsightsPage.tsx","../../src/components/MarketTrendsPage.tsx","../../src/components/ArticlePage.tsx","../../src/components/ResearchReports.tsx","../../src/components/ResearchPage.tsx","../../src/components/BlogPage.tsx","../../src/components/InvestmentCalculator.tsx","../../src/components/HelpSupportPage.tsx","../../src/lib/chat.ts","../../src/components/ChatBot.tsx","../../src/components/AuthCallback.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Input } from \"./ui/input\";\nimport { Button } from \"./ui/button\";\nimport { Lock, ArrowRight } from \"lucide-react\";\n\ninterface PasswordProtectProps {\n  onSuccess: () => void;\n}\n\nexport function PasswordProtect({ onSuccess }: PasswordProtectProps) {\n  const [password, setPassword] = React.useState(\"\");\n  const [error, setError] = React.useState(false);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (password === \"pestOnaPENTERpy123!\") {\n      localStorage.setItem(\"password-protected\", \"true\");\n      onSuccess();\n    } else {\n      setError(true);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen w-full flex flex-col items-center justify-center bg-background p-4 relative overflow-hidden\">\n      {/* Background Pattern */}\n      <div className=\"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(173,216,230,0.1)_25%,rgba(173,216,230,0.1)_50%,transparent_50%,transparent_75%,rgba(173,216,230,0.1)_75%)] bg-[length:20px_20px]\"></div>\n\n      {/* Content */}\n      <div className=\"relative z-10 max-w-lg w-full text-center mb-8\">\n        <img\n          src=\"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png\"\n          alt=\"MyVGE\"\n          className=\"h-16 mx-auto mb-4 invert-[0.4] sepia-[.75] saturate-[.6] hue-rotate-[130deg] brightness-[0.8] contrast-[.8]\"\n        />\n        <p className=\"text-xl text-muted-foreground font-light mb-2\">\n          Coming Soon\n        </p>\n        <p className=\"text-muted-foreground\">\n          An exclusive platform for property investment analysis and portfolio\n          management\n        </p>\n      </div>\n\n      <Card className=\"w-full max-w-md relative z-10 bg-background/80 backdrop-blur-sm border-primary/20\">\n        <CardHeader className=\"text-center space-y-2 pb-4\">\n          <Lock className=\"w-10 h-10 mx-auto text-primary\" />\n          <h2 className=\"text-2xl font-semibold\">Developer Preview</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Access restricted to invited developers and investors\n          </p>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Input\n                type=\"password\"\n                placeholder=\"Enter access code\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                  setError(false);\n                }}\n                className={`bg-background/50 border-primary/20 ${error ? \"border-destructive\" : \"\"}`}\n              />\n              {error && (\n                <p className=\"text-sm text-destructive\">Invalid access code</p>\n              )}\n            </div>\n            <Button type=\"submit\" className=\"w-full group\">\n              Access Platform\n              <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* Footer */}\n      <div className=\"relative z-10 mt-8 text-center text-sm text-muted-foreground\">\n        <p>Â© 2024 MyVGE. All rights reserved.</p>\n        <p className=\"mt-1\">Currently in private alpha testing</p>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Loading({ className }: { className?: string }) {\n  return (\n    <div className={cn(\"flex items-center justify-center\", className)}>\n      <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent\" />\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport NProgress from \"nprogress\";\nimport \"nprogress/nprogress.css\";\n\nNProgress.configure({\n  showSpinner: false,\n  trickleSpeed: 200,\n  minimum: 0.08,\n});\n\nexport function ProgressBar() {\n  useEffect(() => {\n    NProgress.start();\n    return () => {\n      NProgress.done();\n    };\n  }, []);\n\n  return null;\n}\n","import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\nconsole.log(\"Supabase Anon Key:\", supabaseAnonKey); // Add this line\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error(\"Missing Supabase environment variables\");\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    storageKey: \"my-vge-auth\",\n    storage: window.localStorage,\n    autoRefreshToken: true,\n    detectSessionInUrl: false, // set to false\n  },\n});\n","import { createContext, useContext, useEffect, useState } from \"react\";\nimport { supabase } from \"./supabase\";\nimport type { User } from \"@supabase/supabase-js\";\nimport type { Tables } from \"../types/supabase\";\n\ntype Profile = Tables<\"profiles\">;\n\ninterface AuthContextType {\n  user: User | null;\n  profile: Profile | null;\n  isLoading: boolean;\n  signIn: (email: string, password: string) => Promise<User | null>;\n  signUp: (\n    email: string,\n    password: string,\n    firstName: string,\n    lastName: string,\n  ) => Promise<void>;\n  signInWithGoogle: () => Promise<void>; // Google Sign-in\n  signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  async function fetchProfile(userId: string) {\n    try {\n      const { data: profile, error: profileError } = await supabase\n        .from(\"profiles\")\n        .select(\"*\")\n        .eq(\"id\", userId)\n        .single();\n\n      if (profileError) {\n        console.error(\"Error fetching profile:\", profileError);\n        setProfile(null);\n        return;\n      }\n\n      console.log(\"Fetched profile:\", profile); // Add this line\n\n      // Force refresh profile from database\n      const { data: refreshedProfile, error: refreshError } = await supabase\n        .from(\"profiles\")\n        .select(\"*\")\n        .eq(\"id\", userId)\n        .single();\n\n      if (refreshError) {\n        console.error(\"Error refreshing profile:\", refreshError);\n        setProfile(profile); // Fall back to initial profile\n        return;\n      }\n\n      console.log(\"Refreshed profile:\", refreshedProfile); // Add this line\n\n      setProfile(refreshedProfile);\n    } catch (error) {\n      console.error(\"Error fetching profile:\", error);\n      setProfile(null);\n    }\n  }\n\n  useEffect(() => {\n    const initAuth = async () => {\n      try {\n        const {\n          data: { session },\n        } = await supabase.auth.getSession();\n        if (session?.user) {\n          setUser(session.user);\n          await fetchProfile(session.user.id);\n        }\n      } catch (error) {\n        console.error(\"Error initializing auth:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initAuth();\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange(async (event, session) => {\n      if (event === \"SIGNED_IN\" || event === \"TOKEN_REFRESHED\") {\n        if (session?.user) {\n          setUser(session.user);\n          await fetchProfile(session.user.id);\n        }\n      } else if (event === \"SIGNED_OUT\") {\n        setUser(null);\n        setProfile(null);\n      }\n      setIsLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  async function signUp(\n    email: string,\n    password: string,\n    firstName: string,\n    lastName: string,\n  ) {\n    try {\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          data: {\n            first_name: firstName,\n            last_name: lastName,\n          },\n          emailRedirectTo: \"https://myvge.com/auth/callback\",\n        },\n      });\n\n      if (error) throw error;\n\n      if (data.user) {\n        // Create the profile\n        const { error: profileError } = await supabase.from(\"profiles\").insert({\n          id: data.user.id,\n          email,\n          full_name: `${firstName} ${lastName}`,\n          role: \"user\",\n          subscription_tier: \"free\",\n          subscription_status: \"active\",\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n        });\n\n        if (profileError) {\n          console.error(\"Profile creation error:\", profileError);\n          throw profileError;\n        }\n      }\n    } catch (error: any) {\n      console.error(\"Sign up error:\", error);\n      throw error;\n    }\n  }\n\n  async function signIn(email: string, password: string) {\n    try {\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) {\n        console.error(\"Sign in error details:\", error);\n        if (error.message.includes(\"Email not confirmed\")) {\n          throw new Error(\n            \"Please confirm your email address before signing in.\",\n          );\n        }\n        throw error;\n      }\n\n      // After successful sign in, fetch the profile\n      if (data.user) {\n        const { data: profile, error: profileError } = await supabase\n          .from(\"profiles\")\n          .select(\"*\")\n          .eq(\"id\", data.user.id)\n          .single();\n\n        if (profileError) {\n          console.error(\"Error fetching profile:\", profileError);\n        }\n      }\n\n      return data.user;\n    } catch (error) {\n      console.error(\"Sign in error:\", error);\n      throw error;\n    }\n  }\n\n  async function signInWithGoogle() {\n    try {\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider: 'google',\n        options: {\n          redirectTo: 'https://myvge.com/auth/callback',\n        }\n      });\n      if (error) throw error;\n    } catch (error) {\n      console.error(\"Google sign-in error:\", error);\n      throw error;\n    }\n  }\n\n  async function signOut() {\n    try {\n      const { error } = await supabase.auth.signOut();\n      if (error) throw error;\n      setUser(null);\n      setProfile(null);\n      localStorage.removeItem(\"password-protected\"); // Clear password protection\n      localStorage.removeItem(\"supabase.auth.token\"); // Clear supabase token\n      localStorage.removeItem(\"supabase.auth.session\"); // Clear supabase session\n      window.location.href = \"/\";\n    } catch (error) {\n      console.error(\"Sign out error:\", error);\n      throw error;\n    }\n  }\n\n  const value = {\n    user,\n    profile,\n    isLoading,\n    signIn,\n    signUp,\n    signInWithGoogle, // Add to context\n    signOut,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nfunction useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n\nexport { useAuth };\n","import * as React from \"react\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <Cross2Icon className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold [&+div]:text-xs\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","import {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\nimport { useToast } from \"@/components/ui/use-toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","import React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { cn } from \"../lib/utils\";\n\nexport function MobileNav({ isOpen, onClose, children }) {\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n          className=\"fixed inset-0 z-50 bg-background lg:hidden\"\n        >\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 20 }}\n            transition={{ duration: 0.2, delay: 0.1 }}\n            className={cn(\n              \"fixed inset-0 bg-gradient-to-b from-background/90 via-background/50 to-background/90 backdrop-blur-xl\",\n              \"flex flex-col overflow-y-auto pb-12\",\n            )}\n          >\n            <div className=\"flex h-16 items-center justify-between px-6 pt-4\">\n              <a href=\"/\" className=\"hover:opacity-80 transition-opacity\">\n                <img\n                  src=\"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png\"\n                  alt=\"MyVGE\"\n                  className=\"h-8\"\n                />\n              </a>\n              <Button\n                variant=\"ghost\"\n                className=\"h-auto p-2 hover:bg-transparent\"\n                onClick={onClose}\n              >\n                <X className=\"h-6 w-6\" />\n              </Button>\n            </div>\n            <div className=\"flex-1 px-6 pt-10\">{children}</div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","import * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  DotFilledIcon,\n} from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <DotFilledIcon className=\"h-4 w-4 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","import React from \"react\";\nimport { Button } from \"./ui/button\";\nimport { Menu } from \"lucide-react\";\nimport { MobileNav } from \"./MobileNav\";\nimport {\n  NavigationMenu,\n  NavigationMenuContent,\n  NavigationMenuItem,\n  NavigationMenuLink,\n  NavigationMenuList,\n  NavigationMenuTrigger,\n  navigationMenuTriggerStyle,\n} from \"./ui/navigation-menu\";\nimport { cn } from \"../lib/utils\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../lib/auth\";\nimport {\n  Building2,\n  LogIn,\n  UserPlus,\n  LogOut,\n  Settings,\n  LayoutDashboard,\n  Crown,\n} from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"./ui/dropdown-menu\";\n\ninterface HeaderProps {\n  isAuthenticated?: boolean;\n  onSignIn?: () => void;\n  onSignUp?: () => void;\n  onSignOut?: () => Promise<void>;\n  userProfile?: {\n    full_name?: string | null;\n    email?: string | null;\n    created_at?: string;\n    id?: string;\n    role?: \"user\" | \"admin\" | \"moderator\" | null;\n    stripe_customer_id?: string | null;\n    subscription_status?: string | null;\n    subscription_tier?: \"free\" | \"basic\" | \"pro\" | \"premium\" | null;\n    updated_at?: string;\n  };\n}\n\nconst Header = ({\n  isAuthenticated = false,\n  onSignIn,\n  onSignUp,\n  userProfile = {},\n}: HeaderProps) => {\n  const [showMobileMenu, setShowMobileMenu] = React.useState(false);\n  const navigate = useNavigate();\n  const { user, profile, signOut } = useAuth();\n\n  const handleSignOut = async () => {\n    console.log(\"Sign out button clicked\"); // Add this line\n    try {\n      await signOut();\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n    }\n  };\n\n  const ListItem = React.forwardRef<\n    React.ElementRef<\"a\">,\n    React.ComponentPropsWithoutRef<\"a\"> & {\n      title: string;\n    }\n  >(({ className, title, children, ...props }, ref) => {\n    return (\n      <li>\n        <NavigationMenuLink asChild>\n          <a\n            ref={ref}\n            className={cn(\n              \"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n              className,\n            )}\n            {...props}\n          >\n            <div className=\"text-sm font-medium leading-none\">{title}</div>\n            <p className=\"line-clamp-2 text-sm leading-snug text-muted-foreground\">\n              {children}\n            </p>\n          </a>\n        </NavigationMenuLink>\n      </li>\n    );\n  });\n  ListItem.displayName = \"ListItem\";\n\n  return (\n    <>\n      <header className=\"fixed top-0 left-0 right-0 z-50 px-4 py-2\">\n        <div className=\"mx-auto max-w-[1400px] rounded-full backdrop-blur-md bg-background/80 border border-border/50 shadow-lg transition-all duration-300\">\n          <div className=\"container mx-auto h-14 px-6 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <a href=\"/\" className=\"hover:opacity-80 transition-opacity\">\n                <img\n                  src=\"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png\"\n                  alt=\"MyVGE\"\n                  className=\"h-8\"\n                />\n              </a>\n            </div>\n\n            <NavigationMenu className=\"hidden lg:flex\">\n              <NavigationMenuList>\n                <NavigationMenuItem>\n                  <NavigationMenuTrigger className=\"text-sm font-medium transition-colors hover:text-primary bg-transparent hover:bg-transparent\">\n                    Market\n                  </NavigationMenuTrigger>\n                  <NavigationMenuContent>\n                    <ul className=\"grid w-[400px] gap-3 p-4 rounded-xl\">\n                      <ListItem href=\"/trends\" title=\"Market Trends\">\n                        Stay updated with the latest real estate market trends.\n                      </ListItem>\n                      <ListItem href=\"/insights\" title=\"Market Insights\">\n                        Deep dive into property market analytics and forecasts.\n                      </ListItem>\n                    </ul>\n                  </NavigationMenuContent>\n                </NavigationMenuItem>\n\n                <NavigationMenuItem>\n                  <NavigationMenuLink\n                    className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                    href=\"/deals\"\n                  >\n                    Deals\n                  </NavigationMenuLink>\n                </NavigationMenuItem>\n\n                <NavigationMenuItem>\n                  <NavigationMenuLink\n                    className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                    href=\"/calculators\"\n                  >\n                    Calculators\n                  </NavigationMenuLink>\n                </NavigationMenuItem>\n                <NavigationMenuItem>\n                  <NavigationMenuLink\n                    className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                    href=\"/pricing\"\n                  >\n                    Pricing\n                  </NavigationMenuLink>\n                </NavigationMenuItem>\n                <NavigationMenuItem>\n                  <NavigationMenuLink\n                    className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                    href=\"/help\"\n                  >\n                    Help & Support\n                  </NavigationMenuLink>\n                </NavigationMenuItem>\n              </NavigationMenuList>\n            </NavigationMenu>\n\n            <div className=\"flex items-center gap-4\">\n              <Button\n                variant=\"ghost\"\n                className=\"lg:hidden p-2\"\n                onClick={() => setShowMobileMenu(true)}\n              >\n                <Menu className=\"h-6 w-6\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                className=\"hidden md:flex bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300\"\n                onClick={() => (window.location.href = \"/pricing\")}\n              >\n                <Crown className=\"mr-2 h-4 w-4\" />\n                Upgrade\n              </Button>\n              {!isAuthenticated ? (\n                <div className=\"hidden md:flex items-center gap-4\">\n                  <Button variant=\"ghost\" onClick={() => onSignIn?.()}>\n                    <LogIn className=\"mr-2 h-4 w-4\" />\n                    Sign In\n                  </Button>\n                  <Button onClick={() => onSignUp?.()} variant=\"default\">\n                    <UserPlus className=\"mr-2 h-4 w-4\" />\n                    Sign Up\n                  </Button>\n                </div>\n              ) : (\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button\n                      variant=\"ghost\"\n                      className=\"relative h-10 w-10 rounded-full\"\n                    >\n                      <Avatar className=\"h-10 w-10\">\n                        <AvatarImage\n                          src={`https://ui-avatars.com/api/?name=${encodeURIComponent(userProfile?.full_name || \"\")}&background=random`}\n                          alt={userProfile?.full_name || \"User avatar\"}\n                        />\n                        <AvatarFallback className=\"bg-primary/10\">\n                          {userProfile?.full_name\n                            ?.split(\" \")\n                            .filter(Boolean)\n                            .map((n) => n[0])\n                            .slice(0, 2)\n                            .join(\"\")\n                            .toUpperCase() || \"U\"}\n                        </AvatarFallback>\n                      </Avatar>\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n                    <DropdownMenuItem className=\"flex-col items-start\">\n                      <div className=\"font-medium\">\n                        {userProfile?.full_name}\n                      </div>\n                      <div className=\"text-sm text-muted-foreground\">\n                        {userProfile?.email}\n                      </div>\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem\n                      onClick={() =>\n                        window.location.pathname !== \"/dashboard\" &&\n                        navigate(\"/dashboard\")\n                      }\n                    >\n                      <LayoutDashboard className=\"mr-2 h-4 w-4\" />\n                      <span>Dashboard</span>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem onClick={() => navigate(\"/account\")}>\n                      <Settings className=\"mr-2 h-4 w-4\" />\n                      <span>Account Settings</span>\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem onClick={handleSignOut}>\n                      <LogOut className=\"mr-2 h-4 w-4\" />\n                      <span>Log Out</span>\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <MobileNav\n        isOpen={showMobileMenu}\n        onClose={() => setShowMobileMenu(false)}\n      >\n        <nav className=\"space-y-6\">\n          <a\n            href=\"/deals\"\n            className=\"block text-lg font-medium hover:text-primary transition-colors\"\n          >\n            Investment Deals\n          </a>\n          <div className=\"space-y-3\">\n            <h4 className=\"text-sm font-medium text-muted-foreground\">\n              Resources\n            </h4>\n            <div className=\"space-y-3 pl-1\">\n              <a\n                href=\"/trends\"\n                className=\"block text-lg font-medium hover:text-primary transition-colors\"\n              >\n                Market Trends\n              </a>\n              <a\n                href=\"/insights\"\n                className=\"block text-lg font-medium hover:text-primary transition-colors\"\n              >\n                Market Insights\n              </a>\n              <a\n                href=\"/research\"\n                className=\"block text-lg font-medium hover:text-primary transition-colors\"\n              >\n                Research & Reports\n              </a>\n              <a\n                href=\"/blog\"\n                className=\"block text-lg font-medium hover:text-primary transition-colors\"\n              >\n                Blog\n              </a>\n            </div>\n          </div>\n          <a\n            href=\"/calculators\"\n            className=\"block text-lg font-medium hover:text-primary transition-colors\"\n          >\n            Calculators\n          </a>\n          <a\n            href=\"/pricing\"\n            className=\"block text-lg font-medium hover:text-primary transition-colors\"\n          >\n            Pricing\n          </a>\n          {!isAuthenticated ? (\n            <div className=\"space-y-4 pt-6\">\n              <Button\n                variant=\"ghost\"\n                className=\"w-full justify-start\"\n                onClick={() => onSignIn?.()}\n              >\n                <LogIn className=\"mr-2 h-4 w-4\" />\n                Sign In\n              </Button>\n              <Button\n                className=\"w-full justify-start\"\n                onClick={() => onSignUp?.()}\n              >\n                <UserPlus className=\"mr-2 h-4 w-4\" />\n                Sign Up\n              </Button>\n            </div>\n          ) : null}\n        </nav>\n      </MobileNav>\n    </>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Input } from \"./ui/input\";\nimport { Button } from \"./ui/button\";\nimport { Search } from \"lucide-react\";\n\ninterface HeroSectionProps {\n  onSearch?: (searchTerm: string) => void;\n  backgroundImage?: string;\n  title?: string;\n  subtitle?: string;\n  showSearch?: boolean;\n  showStats?: boolean;\n  height?: string;\n}\n\nconst HeroSection = ({\n  onSearch = () => {},\n  backgroundImage = \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\",\n  title = \"Find Your Perfect Property\",\n  subtitle = \"Search through millions of properties to find your next home\",\n  showSearch = true,\n  showStats = true,\n  height = \"h-[500px]\",\n}: HeroSectionProps) => {\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSearch(searchTerm);\n  };\n\n  return (\n    <div className={`relative w-full ${height} bg-gray-900 overflow-hidden`}>\n      {/* Background Image with Overlay */}\n      <div\n        className=\"absolute inset-0 bg-cover bg-center scale-105 animate-ken-burns\"\n        style={{ backgroundImage: `url(${backgroundImage})` }}\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-r from-black/60 via-black/30 to-black/60 backdrop-blur-sm\" />\n      </div>\n\n      {/* Content */}\n      <div className=\"relative h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center text-center py-16 pt-24 animate-fade-in-up\">\n        <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6\">\n          {title}\n        </h1>\n        <p className=\"text-lg sm:text-xl text-gray-200 mb-6 sm:mb-8 max-w-3xl mx-auto\">\n          {subtitle}\n        </p>\n\n        {/* Search Form */}\n        {showSearch && (\n          <form\n            onSubmit={handleSubmit}\n            className=\"w-full max-w-2xl animate-fade-in-up\"\n          >\n            <div className=\"relative\">\n              <Input\n                type=\"text\"\n                placeholder=\"Enter an address, neighbourhood, city, or postcode\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full h-12 sm:h-14 pl-5 pr-14 text-base sm:text-lg bg-white text-black border-2 border-transparent focus:border-primary\"\n              />\n              <Button\n                type=\"submit\"\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent\"\n              >\n                <Search className=\"w-6 h-6 text-gray-500 hover:text-primary transition-colors\" />\n              </Button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default HeroSection;\n","import { useState, useEffect } from \"react\";\n\nexport function useBitcoinPrice() {\n  const [btcPrice, setBtcPrice] = useState<number | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchPrice = async () => {\n      try {\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: \"What is the current Bitcoin price in GBP? Return ONLY the number, no text or currency symbols.\",\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        const data = await response.json();\n        const priceText = data.candidates[0].content.parts[0].text;\n        const price = parseFloat(priceText.replace(/[^0-9.]/g, \"\"));\n\n        if (!isNaN(price)) {\n          setBtcPrice(price);\n          setLoading(false);\n        }\n      } catch (error) {\n        console.error(\"Error fetching Bitcoin price:\", error);\n      }\n    };\n\n    fetchPrice();\n    const interval = setInterval(fetchPrice, 60000); // Update every minute\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const convertGBPtoBTC = (gbpAmount: number) => {\n    if (!btcPrice) return null;\n    return gbpAmount / btcPrice;\n  };\n\n  return { btcPrice, loading, convertGBPtoBTC };\n}\n","import React from \"react\";\nimport { useBitcoinPrice } from \"../lib/hooks/useBitcoinPrice\";\nimport { Bitcoin } from \"lucide-react\";\n\ninterface BitcoinPriceProps {\n  amount: number;\n}\n\nexport function BitcoinPrice({ amount }: BitcoinPriceProps) {\n  const { btcPrice, loading, convertGBPtoBTC } = useBitcoinPrice();\n  const btcAmount = convertGBPtoBTC(amount);\n\n  if (loading) return <span className=\"text-muted-foreground\">Loading...</span>;\n  if (!btcAmount) return null;\n\n  return (\n    <span className=\"inline-flex items-center gap-1\">\n      <Bitcoin className=\"h-4 w-4 text-[#F7931A]\" />\n      {btcAmount.toFixed(2)}\n    </span>\n  );\n}\n","import React from \"react\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { MessageCircle, Lock } from \"lucide-react\";\nimport { BitcoinPrice } from \"./BitcoinPrice\";\n\nconst PROPERTY_FALLBACK_IMAGES = [\n  \"https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n];\n\nconst DEAL_FALLBACK_IMAGES = [\n  \"https://images.unsplash.com/photo-1464938050520-ef2270bb8ce8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1497366811353-6870744d04b2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n  \"https://images.unsplash.com/photo-1497366858526-0766cadbe8fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n];\n\ninterface PropertyCardProps {\n  id?: string;\n  address?: string;\n  price?: number;\n  squareFootage?: number;\n  bedrooms?: number;\n  bathrooms?: number;\n  isPremium?: boolean;\n  isSubscriber?: boolean;\n  assignedUser?: any;\n  author?: any;\n  type?: string;\n  status?: string;\n  potential_profit?: number;\n  roi_percentage?: number;\n  images?: string[];\n  onMessageAuthor?: (authorId: string) => void;\n}\n\ninterface PropertyCardProps {\n  id?: string;\n  address?: string;\n  price?: number;\n  squareFootage?: number;\n  bedrooms?: number;\n  bathrooms?: number;\n  isPremium?: boolean;\n  isSubscriber?: boolean;\n  assignedUser?: any;\n  author?: any;\n  type?: string;\n  status?: string;\n  potential_profit?: number;\n  roi_percentage?: number;\n  images?: string[];\n  onMessageAuthor?: (authorId: string) => void;\n  onClick?: () => void;\n}\n\nconst PropertyCard = ({\n  id = \"1\",\n  address = \"123 Example Street, City, State 12345\",\n  price = 500000,\n  squareFootage = 0,\n  bedrooms = 0,\n  bathrooms = 0,\n  isPremium = true,\n  isSubscriber = false,\n  assignedUser,\n  author,\n  type = \"property\",\n  status,\n  potential_profit,\n  roi_percentage,\n  images = [],\n  onMessageAuthor,\n  onClick,\n}: PropertyCardProps) => {\n  const [isImageLoading, setIsImageLoading] = React.useState(true);\n\n  const fallbackImage = React.useMemo(() => {\n    const fallbackImages =\n      type === \"deal\" ? DEAL_FALLBACK_IMAGES : PROPERTY_FALLBACK_IMAGES;\n    return fallbackImages[Math.floor(Math.random() * fallbackImages.length)];\n  }, [type]);\n\n  return (\n    <Card\n      className=\"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n      onClick={onClick}\n    >\n      <div className=\"relative h-48 bg-muted\">\n        {isImageLoading && (\n          <div className=\"absolute inset-0 animate-pulse bg-muted\" />\n        )}\n        <img\n          src={\n            (images &&\n              Array.isArray(images) &&\n              images.length > 0 &&\n              images[0]) ||\n            fallbackImage\n          }\n          alt=\"Property\"\n          className={`w-full h-full object-cover transition-opacity duration-200 ${isImageLoading ? \"opacity-0\" : \"opacity-100\"}`}\n          onLoad={() => setIsImageLoading(false)}\n        />\n        {isPremium && !isSubscriber && (\n          <div className=\"absolute inset-0 bg-background/80 backdrop-blur-[2px] flex items-center justify-center\">\n            <div className=\"text-center p-6\">\n              <Lock className=\"w-8 h-8 text-muted-foreground mx-auto mb-2\" />\n              <p className=\"text-sm text-muted-foreground\">\n                Subscribe to view premium properties\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <CardContent className=\"p-4\">\n        <div className=\"mb-4\">\n          <h3 className=\"font-semibold mb-1 line-clamp-1\">{address}</h3>\n          <div className=\"flex items-baseline gap-2\">\n            <span className=\"text-2xl font-bold\">\n              Â£{price.toLocaleString()}\n            </span>\n            <BitcoinPrice amount={price} />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4 mb-4 text-sm\">\n          <div>\n            <span className=\"block text-muted-foreground\">Beds</span>\n            <span className=\"font-medium\">{bedrooms}</span>\n          </div>\n          <div>\n            <span className=\"block text-muted-foreground\">Baths</span>\n            <span className=\"font-medium\">{bathrooms}</span>\n          </div>\n          <div>\n            <span className=\"block text-muted-foreground\">Sq Ft</span>\n            <span className=\"font-medium\">{squareFootage}</span>\n          </div>\n        </div>\n\n        {type === \"deal\" && (\n          <div className=\"space-y-2 mb-4\">\n            {potential_profit && (\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Potential Profit:</span>\n                <span className=\"font-medium text-emerald-500\">\n                  Â£{potential_profit.toLocaleString()}\n                </span>\n              </div>\n            )}\n            {roi_percentage && (\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">ROI:</span>\n                <span className=\"font-medium text-emerald-500\">\n                  {roi_percentage}%\n                </span>\n              </div>\n            )}\n          </div>\n        )}\n\n        {author && onMessageAuthor && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"w-full\"\n            onClick={() => onMessageAuthor(author.id)}\n          >\n            <MessageCircle className=\"w-4 h-4 mr-2\" />\n            Contact Agent\n          </Button>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default PropertyCard;\n","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { ArrowRight, TrendingUp, Home, PoundSterling, Map } from \"lucide-react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n} from \"recharts\";\n\ninterface MarketTrendsProps {\n  trends?: Array<{\n    title: string;\n    value: string;\n    change: string;\n    isPositive: boolean;\n  }>;\n  articles?: Array<{\n    title: string;\n    excerpt: string;\n    date: string;\n  }>;\n}\n\nconst MarketTrends = ({\n  trends = [\n    {\n      title: \"Average Home Price\",\n      value: \"Â£450,000\",\n      change: \"+5.2%\",\n      isPositive: true,\n    },\n    {\n      title: \"Days on Market\",\n      value: \"28\",\n      change: \"-12%\",\n      isPositive: true,\n    },\n    {\n      title: \"Available Listings\",\n      value: \"1,234\",\n      change: \"-3.1%\",\n      isPositive: false,\n    },\n  ],\n  articles = [\n    {\n      title: \"Understanding the Current Real Estate Market\",\n      excerpt:\n        \"Get insights into the latest trends and what they mean for buyers and sellers.\",\n      date: \"2024-03-15\",\n    },\n    {\n      title: \"Top 5 Investment Opportunities in Real Estate\",\n      excerpt:\n        \"Discover the most promising areas for property investment in the current market.\",\n      date: \"2024-03-10\",\n    },\n    {\n      title: \"Real Estate Market Forecast 2024\",\n      excerpt:\n        \"Expert predictions and analysis for the upcoming year in real estate.\",\n      date: \"2024-03-05\",\n    },\n  ],\n}: MarketTrendsProps) => {\n  // Sample data for charts\n  const priceData = [\n    { month: \"Jan\", price: 450000 },\n    { month: \"Feb\", price: 455000 },\n    { month: \"Mar\", price: 458000 },\n    { month: \"Apr\", price: 462000 },\n    { month: \"May\", price: 470000 },\n    { month: \"Jun\", price: 475000 },\n  ];\n\n  const regionalData = [\n    { region: \"London\", price: 500000, growth: 5.2 },\n    { region: \"Manchester\", price: 250000, growth: 7.8 },\n    { region: \"Birmingham\", price: 220000, growth: 6.5 },\n    { region: \"Leeds\", price: 200000, growth: 8.1 },\n    { region: \"Liverpool\", price: 180000, growth: 9.2 },\n  ];\n\n  return (\n    <section className=\"w-full py-8 sm:py-16 bg-background relative overflow-hidden\">\n      <div className=\"container mx-auto px-4 mb-16\">\n        <Card className=\"bg-card border-border\">\n          <CardHeader>\n            <h2 className=\"text-2xl font-semibold\">\n              Real Estate Trends Visualization\n            </h2>\n          </CardHeader>\n          <CardContent>\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-3 mb-8 overflow-x-auto snap-start snap-mandatory\">\n                <TabsTrigger value=\"overview\">Price Evolution</TabsTrigger>\n                <TabsTrigger value=\"regional\">Regional Comparison</TabsTrigger>\n                <TabsTrigger value=\"heatmap\">Growth Heatmap</TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"overview\" className=\"h-[400px]\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <AreaChart data={priceData}>\n                    <defs>\n                      <linearGradient\n                        id=\"colorPrice\"\n                        x1=\"0\"\n                        y1=\"0\"\n                        x2=\"0\"\n                        y2=\"1\"\n                      >\n                        <stop\n                          offset=\"5%\"\n                          stopColor=\"hsl(var(--primary))\"\n                          stopOpacity={0.2}\n                        />\n                        <stop\n                          offset=\"95%\"\n                          stopColor=\"hsl(var(--primary))\"\n                          stopOpacity={0}\n                        />\n                      </linearGradient>\n                    </defs>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"month\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Area\n                      type=\"monotone\"\n                      dataKey=\"price\"\n                      stroke=\"hsl(var(--primary))\"\n                      fillOpacity={1}\n                      fill=\"url(#colorPrice)\"\n                    />\n                  </AreaChart>\n                </ResponsiveContainer>\n              </TabsContent>\n\n              <TabsContent value=\"regional\" className=\"h-[400px]\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <LineChart data={regionalData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"region\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"price\"\n                      stroke=\"hsl(var(--primary))\"\n                    />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"growth\"\n                      stroke=\"hsl(var(--chart-1))\"\n                    />\n                  </LineChart>\n                </ResponsiveContainer>\n              </TabsContent>\n\n              <TabsContent\n                value=\"heatmap\"\n                className=\"h-[400px] flex items-center justify-center\"\n              >\n                <div className=\"text-center space-y-4\">\n                  <Map className=\"w-12 h-12 text-muted-foreground mx-auto\" />\n                  <p className=\"text-muted-foreground\">\n                    Interactive heat map coming soon\n                  </p>\n                </div>\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"container mx-auto px-4 max-w-7xl\">\n        <div className=\"mb-12 text-center\">\n          <h2 className=\"text-3xl font-bold mb-4\">Market Trends & Insights</h2>\n          <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n            Stay informed with the latest real estate market trends and expert\n            insights to make better property decisions.\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n          {trends.map((trend, index) => (\n            <Card\n              key={index}\n              className={`bg-card border-border hover:scale-[1.02] transition-all duration-300 ${index === 0 ? \"bg-gradient-to-r from-emerald-400/10 to-cyan-400/10\" : \"\"}`}\n            >\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-sm font-medium text-foreground/80\">\n                    {trend.title}\n                  </h3>\n                  {index === 0 ? (\n                    <PoundSterling className=\"w-5 h-5 text-emerald-500\" />\n                  ) : index === 1 ? (\n                    <Home className=\"w-5 h-5 text-emerald-500\" />\n                  ) : (\n                    <TrendingUp className=\"w-5 h-5 text-emerald-500\" />\n                  )}\n                </div>\n                <div className=\"flex items-baseline justify-between\">\n                  <span className=\"text-2xl font-bold text-foreground\">\n                    {trend.value}\n                  </span>\n                  <span\n                    className={`flex items-center ${trend.isPositive ? \"text-emerald-500\" : \"text-red-500\"}`}\n                  >\n                    {trend.change}\n                  </span>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {articles.map((article, index) => (\n            <Card\n              key={index}\n              className={`bg-card border-border hover:scale-[1.02] transition-all duration-300 ${index === 0 ? \"bg-gradient-to-r from-emerald-400/10 to-cyan-400/10\" : \"\"}`}\n            >\n              <CardContent className=\"p-6\">\n                <div className=\"mb-4\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    {new Date(article.date).toLocaleDateString(\"en-US\", {\n                      month: \"long\",\n                      day: \"numeric\",\n                      year: \"numeric\",\n                    })}\n                  </span>\n                </div>\n                <h3 className=\"text-xl font-semibold mb-3 text-foreground\">\n                  {article.title}\n                </h3>\n                <p className=\"text-muted-foreground mb-4\">{article.excerpt}</p>\n                <Button\n                  variant=\"ghost\"\n                  className=\"group hover:text-emerald-500\"\n                  onClick={() => {\n                    window.location.href = `/article/${encodeURIComponent(article.title)}`;\n                  }}\n                >\n                  Read More\n                  <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                </Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default MarketTrends;\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","import React from \"react\";\nimport { Alert, AlertDescription, AlertTitle } from \"./ui/alert\";\nimport { Button } from \"./ui/button\";\nimport { Crown, ArrowRight } from \"lucide-react\";\n\ninterface SubscriptionCTAProps {\n  title?: string;\n  description?: string;\n  onSubscribe?: () => void;\n}\n\nexport const SubscriptionCTA = ({\n  title = \"Unlock Premium Features\",\n  description = \"Get access to detailed property analysis, portfolio tracking, and advanced metrics.\",\n  onSubscribe = () => console.log(\"Subscribe clicked\"),\n}: SubscriptionCTAProps) => {\n  return (\n    <div className=\"w-full bg-background p-4 sm:p-6 border-t\">\n      <Alert className=\"max-w-7xl mx-auto flex items-center justify-between bg-gradient-to-r from-emerald-400/10 to-cyan-400/10 border-emerald-500/20\">\n        <div className=\"flex items-start gap-3\">\n          <Crown className=\"h-5 w-5 text-emerald-500 mt-1\" />\n          <div>\n            <AlertTitle className=\"text-lg font-semibold text-foreground\">\n              {title}\n            </AlertTitle>\n            <AlertDescription className=\"text-muted-foreground\">\n              {description}\n            </AlertDescription>\n          </div>\n        </div>\n        <Button\n          onClick={onSubscribe}\n          className=\"bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 hidden sm:flex items-center gap-2\"\n        >\n          Subscribe Now\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          onClick={onSubscribe}\n          className=\"bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 sm:hidden\"\n          size=\"sm\"\n        >\n          Subscribe\n        </Button>\n      </Alert>\n    </div>\n  );\n};\n\nexport default SubscriptionCTA;\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import { supabase } from \"./supabase\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nexport const SUBSCRIPTION_TIERS = {\n  BASIC: {\n    name: \"Basic\",\n    price: \"Â£9.99\",\n    priceId: \"price_1QnikACOhalwhG2QDocCWbQj\",\n    features: [\n      \"Basic property search\",\n      \"Save up to 5 properties\",\n      \"Basic market trends\",\n      \"Email support\",\n    ],\n  },\n  PRO: {\n    name: \"Pro\",\n    price: \"Â£19.99\",\n    priceId: \"price_1QnikPCOhalwhG2QVYfxwG5D\",\n    features: [\n      \"Advanced property search\",\n      \"Save unlimited properties\",\n      \"Detailed market analysis\",\n      \"Premium property insights\",\n      \"Priority support\",\n    ],\n  },\n  PREMIUM: {\n    name: \"Premium\",\n    price: \"Â£49.99\",\n    priceId: \"price_1QnikjCOhalwhG2QUgRtMAco\",\n    features: [\n      \"All Pro features\",\n      \"AI-powered market predictions\",\n      \"Portfolio analytics\",\n      \"Investment ROI calculator\",\n      \"Dedicated account manager\",\n      \"24/7 phone support\",\n    ],\n  },\n};\n\nexport async function createCheckoutSession(priceId: string, userId: string) {\n  try {\n    const response = await fetch(\n      \"https://clever-chaplygin6-vbfae.dev.tempolabs.ai/.netlify/functions/create-checkout-session\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          priceId,\n          userId,\n        }),\n      },\n    );\n\n    const { sessionId } = await response.json();\n    const stripe = await loadStripe(import.meta.env.VITE_STRIPE_PUBLIC_KEY);\n\n    if (stripe) {\n      await stripe.redirectToCheckout({ sessionId });\n    }\n  } catch (error) {\n    console.error(\"Error creating checkout session:\", error);\n    throw error;\n  }\n}\n\nexport async function updateSubscription(userId: string, tier: string) {\n  const { error } = await supabase\n    .from(\"profiles\")\n    .update({\n      subscription_tier: tier,\n      subscription_status: \"active\",\n      updated_at: new Date().toISOString(),\n    })\n    .eq(\"id\", userId);\n\n  if (error) throw error;\n}\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { useToast } from \"./ui/use-toast\";\nimport { useAuth } from \"../lib/auth\";\nimport { createCheckoutSession } from \"../lib/stripe\";\n\ntype AuthMode = \"signin\" | \"signup\";\n\ninterface AuthModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  defaultMode?: AuthMode;\n}\n\nexport function AuthModal({\n  isOpen,\n  onClose,\n  defaultMode = \"signin\",\n}: AuthModalProps) {\n  const [mode, setMode] = React.useState<AuthMode>(defaultMode);\n  React.useEffect(() => {\n    setMode(defaultMode);\n  }, [defaultMode]);\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n  const [showConfirmation, setShowConfirmation] = React.useState(false);\n  const { signIn, signUp, signInWithGoogle } = useAuth();\n  const { toast } = useToast();\n\n  const [formData, setFormData] = React.useState({\n    email: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    try {\n      if (mode === \"signin\") {\n        const user = await signIn(formData.email, formData.password);\n        if (user) {\n          toast({\n            title: \"Welcome back!\",\n            description: \"You have successfully signed in.\",\n          });\n          setTimeout(() => onClose(), 500);\n        }\n      } else {\n        const { user } = await signUp(\n          formData.email,\n          formData.password,\n          formData.firstName,\n          formData.lastName,\n        );\n\n        // Check if there's a pending subscription\n        const pendingPriceId = localStorage.getItem(\n          \"pending_subscription_price_id\",\n        );\n        if (pendingPriceId && user) {\n          localStorage.removeItem(\"pending_subscription_price_id\");\n          await createCheckoutSession(pendingPriceId, user.id);\n        } else {\n          setShowConfirmation(true);\n          toast({\n            title: \"Welcome to MyVGE Alpha!\",\n            description:\n              \"Thank you for joining us during our alpha testing phase.\",\n          });\n        }\n      }\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message || \"An error occurred\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (showConfirmation) {\n    return (\n      <Dialog open={isOpen} onOpenChange={onClose}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Welcome to MyVGE Alpha!</DialogTitle>\n            <DialogDescription className=\"space-y-2\">\n              <p className=\"text-lg font-medium text-primary\">\n                Thank you for joining MyVGE during our alpha testing phase!\n              </p>\n              <p>\n                We've sent a confirmation email to your inbox. Please click the\n                verification link to activate your account and start exploring\n                MyVGE.\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                Note: You must confirm your email before signing in. Please\n                check your spam folder if you don't see the email.\n              </p>\n              <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                <p className=\"text-sm font-medium\">\n                  As an alpha tester, your feedback is invaluable to us. We're\n                  excited to have you on board and look forward to your insights\n                  as we continue to improve the platform.\n                </p>\n              </div>\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex flex-col space-y-4 pt-4\">\n            <Button\n              onClick={() => {\n                setShowConfirmation(false);\n                onClose();\n              }}\n            >\n              Close\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>\n            {mode === \"signin\" ? \"Sign In\" : \"Create Account\"}\n          </DialogTitle>\n          <DialogDescription>\n            {mode === \"signin\"\n              ? \"Welcome back! Please sign in to continue.\"\n              : \"Join MyVGE and start exploring properties.\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4 pt-4\">\n          {mode === \"signup\" && (\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"firstName\">First Name</Label>\n                <Input\n                  id=\"firstName\"\n                  value={formData.firstName}\n                  onChange={(e) =>\n                    setFormData((prev) => ({\n                      ...prev,\n                      firstName: e.target.value,\n                    }))\n                  }\n                  required\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"lastName\">Last Name</Label>\n                <Input\n                  id=\"lastName\"\n                  value={formData.lastName}\n                  onChange={(e) =>\n                    setFormData((prev) => ({\n                      ...prev,\n                      lastName: e.target.value,\n                    }))\n                  }\n                  required\n                />\n              </div>\n            </div>\n          )}\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) =>\n                setFormData((prev) => ({ ...prev, email: e.target.value }))\n              }\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"password\">Password</Label>\n            <Input\n              id=\"password\"\n              type=\"password\"\n              value={formData.password}\n              onChange={(e) =>\n                setFormData((prev) => ({ ...prev, password: e.target.value }))\n              }\n              required\n            />\n          </div>\n\n          <div className=\"flex flex-col space-y-4 pt-4\">\n            <Button type=\"submit\" disabled={isSubmitting}>\n              {isSubmitting\n                ? \"Loading...\"\n                : mode === \"signin\"\n                  ? \"Sign In\"\n                  : \"Create Account\"}\n            </Button>\n\n            <Button type=\"button\" variant=\"link\" onClick={() => signInWithGoogle()} disabled={isSubmitting}>\n              Sign In with Google\n            </Button>\n\n            <Button\n              type=\"button\"\n              variant=\"link\"\n              onClick={() => setMode(mode === \"signin\" ? \"signup\" : \"signin\")}\n            >\n              {mode === \"signin\"\n                ? \"Don't have an account? Sign up\"\n                : \"Already have an account? Sign in\"}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { Card, CardContent, CardFooter, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { Check, Crown } from \"lucide-react\";\nimport { SUBSCRIPTION_TIERS } from \"../lib/stripe\";\nimport { useAuth } from \"../lib/auth\";\n\ninterface SubscriptionPlansProps {\n  onSubscribe: (priceId: string) => void;\n}\n\nexport function SubscriptionPlans({ onSubscribe }: SubscriptionPlansProps) {\n  const { profile } = useAuth();\n  const currentTier = profile?.subscription_tier || \"free\";\n\n  return (\n    <div className=\"py-16 bg-background\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-3xl font-bold mb-4\">Choose Your Plan</h2>\n          <p className=\"text-gray-600 max-w-2xl mx-auto\">\n            Select the perfect plan for your property investment journey\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto\">\n          {Object.entries(SUBSCRIPTION_TIERS).map(([key, tier]) => (\n            <Card\n              key={key}\n              className={`relative ${key === \"PRO\" ? \"border-primary shadow-lg scale-105 bg-gradient-to-r from-emerald-400/10 to-cyan-400/10\" : \"\"}`}\n            >\n              {key === \"PRO\" && (\n                <div className=\"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-emerald-400 to-cyan-400 text-white px-4 py-1 rounded-full text-sm font-medium border border-emerald-500/20 shadow-lg\">\n                  Most Popular\n                </div>\n              )}\n\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-2xl font-bold\">{tier.name}</h3>\n                  {key === \"PREMIUM\" && (\n                    <Crown className=\"h-6 w-6 text-yellow-500\" />\n                  )}\n                </div>\n                <div className=\"mt-4\">\n                  <span className=\"text-4xl font-bold\">{tier.price}</span>\n                  <span className=\"text-gray-600 ml-2\">/month</span>\n                </div>\n              </CardHeader>\n\n              <CardContent>\n                <ul className=\"space-y-3\">\n                  {tier.features.map((feature, index) => (\n                    <li key={index} className=\"flex items-start gap-3\">\n                      <Check className=\"h-5 w-5 text-green-500 mt-0.5\" />\n                      <span>{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n\n              <CardFooter>\n                <Button\n                  className=\"w-full\"\n                  variant={key === \"PRO\" ? \"default\" : \"outline\"}\n                  onClick={() => onSubscribe(tier.priceId)}\n                  disabled={currentTier === key.toLowerCase()}\n                >\n                  {currentTier === key.toLowerCase()\n                    ? \"Current Plan\"\n                    : \"Subscribe\"}\n                </Button>\n              </CardFooter>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { SubscriptionPlans } from \"./SubscriptionPlans\";\nimport { createCheckoutSession } from \"../lib/stripe\";\nimport { useAuth } from \"../lib/auth\";\nimport { useToast } from \"./ui/use-toast\";\n\ninterface SubscriptionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function SubscriptionModal({ isOpen, onClose }: SubscriptionModalProps) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n\n  const handleSubscribe = async (priceId: string) => {\n    if (!user) {\n      // Store the selected price ID in localStorage\n      localStorage.setItem(\"pending_subscription_price_id\", priceId);\n\n      // Trigger sign up modal\n      const event = new CustomEvent(\"open-auth-modal\", {\n        detail: { mode: \"signup\" },\n      });\n      window.dispatchEvent(event);\n      onClose();\n      return;\n    }\n\n    try {\n      await createCheckoutSession(priceId, user.id);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to start subscription process. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[900px]\">\n        <DialogHeader>\n          <DialogTitle>Upgrade Your Plan</DialogTitle>\n          <DialogDescription>\n            Choose the plan that best suits your needs and unlock premium\n            features.\n          </DialogDescription>\n        </DialogHeader>\n\n        <SubscriptionPlans onSubscribe={handleSubscribe} />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import { supabase } from \"./supabase\";\n\nconst profanityList = [\n  \"badword1\",\n  \"badword2\",\n  // Add more profanity words here\n];\n\nfunction filterProfanity(text: string): string {\n  let filteredText = text.toLowerCase();\n  profanityList.forEach((word) => {\n    const regex = new RegExp(word, \"gi\");\n    filteredText = filteredText.replace(regex, \"*\".repeat(word.length));\n  });\n  return filteredText;\n}\n\nexport async function sendMessage(\n  senderId: string,\n  receiverId: string,\n  content: string,\n) {\n  const filteredContent = filterProfanity(content);\n\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .insert([\n      {\n        sender_id: senderId,\n        receiver_id: receiverId,\n        content: filteredContent,\n      },\n    ])\n    .select(\n      `\n      *,\n      sender:profiles!messages_sender_id_fkey(full_name, email),\n      receiver:profiles!messages_receiver_id_fkey(full_name, email)\n    `,\n    )\n    .single();\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function getConversation(userId: string, otherId: string) {\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .select(\n      `\n      *,\n      sender:profiles!messages_sender_id_fkey(full_name, email),\n      receiver:profiles!messages_receiver_id_fkey(full_name, email)\n    `,\n    )\n    .or(\n      `and(sender_id.eq.${userId},receiver_id.eq.${otherId}),and(sender_id.eq.${otherId},receiver_id.eq.${userId})`,\n    )\n    .order(\"created_at\", { ascending: true });\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function getUserConversations(userId: string) {\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .select(\n      `\n      *,\n      sender:profiles!messages_sender_id_fkey(full_name, email),\n      receiver:profiles!messages_receiver_id_fkey(full_name, email)\n    `,\n    )\n    .or(`sender_id.eq.${userId},receiver_id.eq.${userId}`)\n    .order(\"created_at\", { ascending: false });\n\n  if (error) throw error;\n  return data;\n}\n","import React from \"react\";\nimport { useAuth } from \"../lib/auth\";\nimport { Button } from \"./ui/button\";\nimport { Textarea } from \"./ui/textarea\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\nimport { sendMessage, getConversation } from \"../lib/messages\";\nimport { supabase } from \"../lib/supabase\";\nimport { useToast } from \"./ui/use-toast\";\n\ninterface PropertyMessagesProps {\n  receiverId: string;\n}\n\nexport function PropertyMessages({ receiverId }: PropertyMessagesProps) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [messages, setMessages] = React.useState<any[]>([]);\n  const [newMessage, setNewMessage] = React.useState(\"\");\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n  const messagesEndRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (user) {\n      loadMessages();\n      // Subscribe to realtime updates\n      const subscription = supabase\n        .channel(`messages:${user.id}:${receiverId}`)\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"messages\",\n            filter: `or(and(sender_id.eq.${user.id},receiver_id.eq.${receiverId}),and(sender_id.eq.${receiverId},receiver_id.eq.${user.id}))`,\n          },\n          () => {\n            loadMessages();\n          },\n        )\n        .subscribe();\n\n      return () => {\n        subscription.unsubscribe();\n      };\n    }\n  }, [user, receiverId]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  React.useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const loadMessages = async () => {\n    if (!user) return;\n    try {\n      const data = await getConversation(user.id, receiverId);\n      setMessages(data);\n    } catch (error) {\n      console.error(\"Error loading messages:\", error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !newMessage.trim()) return;\n\n    setIsSubmitting(true);\n    try {\n      await sendMessage(user.id, receiverId, newMessage);\n      setNewMessage(\"\");\n      loadMessages();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to send message\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-[500px]\">\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((message) => {\n          const isSender = message.sender_id === user?.id;\n          return (\n            <div\n              key={message.id}\n              className={`flex gap-2 ${isSender ? \"flex-row-reverse\" : \"\"}`}\n            >\n              <Avatar className=\"h-8 w-8\">\n                <AvatarImage\n                  src={`https://ui-avatars.com/api/?name=${encodeURIComponent(isSender ? message.sender.full_name : message.receiver.full_name)}&background=random`}\n                  alt={\n                    isSender\n                      ? message.sender.full_name\n                      : message.receiver.full_name\n                  }\n                />\n                <AvatarFallback className=\"bg-primary/10\">\n                  {(isSender\n                    ? message.sender.full_name\n                    : message.receiver.full_name\n                  )\n                    ?.split(\" \")\n                    .map((n: string) => n[0])\n                    .join(\"\")}\n                </AvatarFallback>\n              </Avatar>\n              <div\n                className={`max-w-[70%] rounded-lg p-3 ${isSender ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n              >\n                <p>{message.content}</p>\n                <p className=\"text-xs opacity-70 mt-1\">\n                  {new Date(message.created_at).toLocaleTimeString()}\n                </p>\n              </div>\n            </div>\n          );\n        })}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"p-4 border-t\">\n        <div className=\"flex gap-2\">\n          <Textarea\n            placeholder=\"Type a message...\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            className=\"min-h-[80px]\"\n          />\n          <Button type=\"submit\" disabled={isSubmitting || !newMessage.trim()}>\n            Send\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"./ui/dialog\";\nimport { PropertyMessages } from \"./PropertyMessages\";\n\ninterface MessagesModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  receiverId?: string;\n}\n\nexport function MessagesModal({\n  isOpen,\n  onClose,\n  receiverId,\n}: MessagesModalProps) {\n  if (!receiverId) return null;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[500px]\">\n        <DialogHeader>\n          <DialogTitle>Messages</DialogTitle>\n        </DialogHeader>\n        <PropertyMessages receiverId={receiverId} />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { Lightbulb } from \"lucide-react\";\n\nexport function RandomFact() {\n  const [fact, setFact] = React.useState<string>(\"\");\n\n  React.useEffect(() => {\n    fetch(\"https://uselessfacts.jsph.pl/api/v2/facts/random?language=en\")\n      .then((response) => response.json())\n      .then((data) => setFact(data.text))\n      .catch((error) => console.error(\"Error fetching random fact:\", error));\n  }, []);\n\n  if (!fact) return null;\n\n  return (\n    <div className=\"flex items-center gap-2 text-gray-400 text-sm\">\n      <Lightbulb className=\"w-4 h-4\" />\n      <p>{fact}</p>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { RandomFact } from \"./RandomFact\";\n\nexport function Footer() {\n  return (\n    <footer className=\"bg-gray-900 text-white py-8 sm:py-12\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">About Us</h3>\n            <p className=\"text-gray-400\">\n              Your trusted source for property search and market analysis.\n            </p>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Legal</h3>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li>\n                <a href=\"/terms\" className=\"hover:text-white\">\n                  Terms of Service\n                </a>\n              </li>\n              <li>\n                <a href=\"/privacy\" className=\"hover:text-white\">\n                  Privacy Policy\n                </a>\n              </li>\n              <li>\n                <a href=\"/disclaimer\" className=\"hover:text-white\">\n                  Legal Disclaimer\n                </a>\n              </li>\n              <li>\n                <a href=\"/gdpr\" className=\"hover:text-white\">\n                  GDPR Compliance\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Contact</h3>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li>support@myvge.co.uk</li>\n              <li>0800 123 4567</li>\n              <li>123 Property Lane, London</li>\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Compliance</h3>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li>FCA Registration: 123456</li>\n              <li>ICO Registration: ABC123</li>\n              <li>Company No: 12345678</li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"mt-8 pt-8 border-t border-gray-800 space-y-4\">\n          <RandomFact />\n          <div className=\"text-center text-gray-400 space-y-2\">\n            <p className=\"text-xs\">\n              MyVGE is a trading name of MyVGE Ltd, registered in England and\n              Wales. Registered office: 123 Property Lane, London, EC1A 1BB.\n            </p>\n            <p className=\"text-xs\">\n              The information on this website is for general information\n              purposes only and does not constitute financial advice.\n            </p>\n            <p>&copy; {new Date().getFullYear()} MyVGE. All rights reserved.</p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport { Alert, AlertDescription } from \"./ui/alert\";\nimport { Info } from \"lucide-react\";\n\nexport function LegalDisclaimer() {\n  return (\n    <Alert className=\"bg-muted/50 border-muted-foreground/20\">\n      <Info className=\"h-4 w-4\" />\n      <AlertDescription className=\"text-xs text-muted-foreground\">\n        The information provided on this website is for general informational\n        purposes only and should not be considered as financial or investment\n        advice. Property investments carry risks and values can go down as well\n        as up. Always seek professional advice before making investment\n        decisions.\n      </AlertDescription>\n    </Alert>\n  );\n}\n","import * as React from \"react\"\nimport { ArrowLeftIcon, ArrowRightIcon } from \"@radix-ui/react-icons\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeftIcon className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRightIcon className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","import React from \"react\";\nimport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious,\n} from \"./ui/carousel\";\n\nconst partners = [\n  {\n    name: \"Grosvenor Group\",\n    logo: \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Berkeley Group\",\n    logo: \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Ballymore Properties\",\n    logo: \"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Almacantar\",\n    logo: \"https://images.unsplash.com/photo-1434626881859-194d67b2b86f?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Capital & Counties\",\n    logo: \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Great Portland Estates\",\n    logo: \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\",\n  },\n];\n\nexport function PartnersCarousel() {\n  return (\n    <div className=\"w-full bg-muted/30 py-12\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-center text-2xl font-semibold mb-8\">\n          Trusted by Industry Leaders\n        </h2>\n        <Carousel\n          opts={{\n            align: \"start\",\n            loop: true,\n          }}\n          className=\"w-full max-w-5xl mx-auto\"\n        >\n          <CarouselContent className=\"-ml-2 md:-ml-4\">\n            {partners.map((partner, index) => (\n              <CarouselItem\n                key={index}\n                className=\"pl-2 md:pl-4 basis-1/2 md:basis-1/3 lg:basis-1/4\"\n              >\n                <div className=\"p-4\">\n                  <div className=\"aspect-square relative rounded-xl overflow-hidden bg-background/50 backdrop-blur-sm border border-border/50 hover:border-primary/50 transition-colors\">\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-background/80 to-background/50\" />\n                    <div className=\"relative h-full flex items-center justify-center p-6\">\n                      <div className=\"text-center\">\n                        <div className=\"w-12 h-12 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center\">\n                          <img\n                            src={partner.logo}\n                            alt={partner.name}\n                            className=\"w-8 h-8 object-contain opacity-50\"\n                          />\n                        </div>\n                        <p className=\"text-sm font-medium text-foreground/80\">\n                          {partner.name}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CarouselItem>\n            ))}\n          </CarouselContent>\n          <CarouselPrevious className=\"-left-12 hover:bg-background/80\" />\n          <CarouselNext className=\"-right-12 hover:bg-background/80\" />\n        </Carousel>\n      </div>\n    </div>\n  );\n}\n","import { supabase } from \"./supabase\";\nimport type { Property, SavedProperty } from \"../types/database\";\n\nexport async function getFeaturedProperties() {\n  const { data, error } = await supabase\n    .from(\"properties\")\n    .select(\n      `\n      *,\n      assigned_user:profiles!properties_assigned_user_id_fkey(id, full_name, email),\n      author:profiles!properties_created_by_fkey(id, full_name, email)\n    `,\n    )\n    .order(\"created_at\", { ascending: false })\n    .limit(20);\n\n  if (error) throw error;\n  return (\n    data?.map((property) => ({\n      ...property,\n      images: property.images || [\n        `https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600`,\n      ],\n    })) || []\n  );\n}\n\nexport async function searchProperties(searchTerm: string) {\n  const { data, error } = await supabase\n    .from(\"properties\")\n    .select(\"*\")\n    .or(\n      `address.ilike.%${searchTerm}%,city.ilike.%${searchTerm}%,postcode.ilike.%${searchTerm}%`,\n    )\n    .limit(20);\n\n  if (error) throw error;\n  return data as Property[];\n}\n\nexport async function getProperty(id: string) {\n  const { data, error } = await supabase\n    .from(\"properties\")\n    .select(\"*\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error) throw error;\n  return data as Property;\n}\n\nexport async function saveProperty(\n  propertyId: string,\n  userId: string,\n  notes: string = \"\",\n) {\n  const { data, error } = await supabase\n    .from(\"saved_properties\")\n    .insert([\n      {\n        property_id: propertyId,\n        user_id: userId,\n        notes,\n      },\n    ])\n    .select()\n    .single();\n\n  if (error) throw error;\n  return data as SavedProperty;\n}\n\nexport async function getSavedProperties(userId: string) {\n  const { data, error } = await supabase\n    .from(\"saved_properties\")\n    .select(\n      `\n      *,\n      property:properties(*)\n    `,\n    )\n    .eq(\"user_id\", userId);\n\n  if (error) throw error;\n  return data;\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport PropertyCard from \"./PropertyCard\";\nimport MarketTrends from \"./MarketTrends\";\nimport { SubscriptionCTA } from \"./SubscriptionCTA\";\nimport { AuthModal } from \"./AuthModal\";\nimport { SubscriptionModal } from \"./SubscriptionModal\";\nimport { MessagesModal } from \"./MessagesModal\";\nimport { Footer } from \"./Footer\";\nimport { LegalDisclaimer } from \"./LegalDisclaimer\";\nimport { PartnersCarousel } from \"./PartnersCarousel\";\nimport { useAuth } from \"../lib/auth\";\nimport { searchProperties, getFeaturedProperties } from \"../lib/properties\";\n\nconst Home = () => {\n  const { user, profile, signOut } = useAuth();\n  const [searchResults, setSearchResults] = React.useState([]);\n  const [isSearching, setIsSearching] = React.useState(false);\n  const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false);\n  const [isSubscriptionModalOpen, setIsSubscriptionModalOpen] =\n    React.useState(false);\n  const [authMode, setAuthMode] = React.useState(\"signin\");\n  const [isMessagesModalOpen, setIsMessagesModalOpen] = React.useState(false);\n  const [selectedReceiverId, setSelectedReceiverId] = React.useState();\n\n  const loadFeaturedProperties = async () => {\n    setIsSearching(true);\n    try {\n      // Mock featured properties\n      const mockProperties = [\n        {\n          id: \"1\",\n          address: \"123 Mayfair Gardens, London, W1K 1AA\",\n          price: 1250000,\n          squareFootage: 1850,\n          bedrooms: 3,\n          bathrooms: 2,\n          isPremium: true,\n          images: [\n            \"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n          ],\n          author: {\n            id: \"1\",\n            full_name: \"Sarah Johnson\",\n            email: \"sarah@myvge.co.uk\",\n          },\n        },\n        {\n          id: \"2\",\n          address: \"45 Kensington Park Road, London, W11 3BQ\",\n          price: 2450000,\n          squareFootage: 2400,\n          bedrooms: 4,\n          bathrooms: 3,\n          isPremium: true,\n          images: [\n            \"https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n          ],\n          author: {\n            id: \"2\",\n            full_name: \"James Wilson\",\n            email: \"james@myvge.co.uk\",\n          },\n        },\n        {\n          id: \"3\",\n          address: \"88 Notting Hill Gate, London, W11 3HT\",\n          price: 1850000,\n          squareFootage: 1950,\n          bedrooms: 3,\n          bathrooms: 2,\n          isPremium: false,\n          images: [\n            \"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n          ],\n          author: {\n            id: \"3\",\n            full_name: \"Emma Davis\",\n            email: \"emma@myvge.co.uk\",\n          },\n        },\n        {\n          id: \"4\",\n          address: \"15 Chelsea Manor Street, London, SW3 5RP\",\n          price: 3250000,\n          squareFootage: 2800,\n          bedrooms: 5,\n          bathrooms: 4,\n          isPremium: true,\n          images: [\n            \"https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n          ],\n          author: {\n            id: \"4\",\n            full_name: \"Michael Smith\",\n            email: \"michael@myvge.co.uk\",\n          },\n        },\n        {\n          id: \"5\",\n          address: \"92 Eaton Square, London, SW1W 9AN\",\n          price: 4750000,\n          squareFootage: 3200,\n          bedrooms: 6,\n          bathrooms: 5,\n          isPremium: true,\n          images: [\n            \"https://images.unsplash.com/photo-1600585154526-990dced4db0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n          ],\n          author: {\n            id: \"5\",\n            full_name: \"Lisa Brown\",\n            email: \"lisa@myvge.co.uk\",\n          },\n        },\n        {\n          id: \"6\",\n          address: \"33 Belgrave Square, London, SW1X 8PB\",\n          price: 5500000,\n          squareFootage: 3500,\n          bedrooms: 7,\n          bathrooms: 6,\n          isPremium: true,\n          images: [\n            \"https://images.unsplash.com/photo-1600573472592-401b489a3cdc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n          ],\n          author: {\n            id: \"6\",\n            full_name: \"David Thompson\",\n            email: \"david@myvge.co.uk\",\n          },\n        },\n      ];\n\n      setSearchResults(mockProperties);\n    } catch (error) {\n      console.error(\"Error loading featured properties:\", error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  React.useEffect(() => {\n    loadFeaturedProperties();\n\n    const handleOpenAuthModal = (e) => {\n      setAuthMode(e.detail.mode);\n      setIsAuthModalOpen(true);\n    };\n\n    const handleOpenMessages = (e) => {\n      setSelectedReceiverId(e.detail.receiverId);\n      setIsMessagesModalOpen(true);\n    };\n\n    window.addEventListener(\"open-auth-modal\", handleOpenAuthModal);\n    window.addEventListener(\"open-messages\", handleOpenMessages);\n\n    return () => {\n      window.removeEventListener(\"open-auth-modal\", handleOpenAuthModal);\n      window.removeEventListener(\"open-messages\", handleOpenMessages);\n    };\n  }, []);\n\n  const handleSearch = async (term) => {\n    setIsSearching(true);\n    try {\n      const results = await searchProperties(term);\n      setSearchResults(\n        results.map((p) => ({\n          id: p.id,\n          address: `${p.address}, ${p.city}, ${p.postcode}`,\n          price: p.price,\n          squareFootage: p.square_footage,\n          isPremium: p.is_premium,\n        })),\n      );\n    } catch (error) {\n      console.error(\"Error searching properties:\", error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header\n        isAuthenticated={!!user}\n        userProfile={profile || undefined}\n        onSignIn={() => {\n          setAuthMode(\"signin\");\n          setIsAuthModalOpen(true);\n        }}\n        onSignUp={() => {\n          setAuthMode(\"signup\");\n          setIsAuthModalOpen(true);\n        }}\n        onSignOut={async () => {\n          try {\n            await signOut();\n            window.location.href = \"/\";\n          } catch (error) {\n            console.error(\"Error signing out:\", error);\n          }\n        }}\n      />\n\n      <main>\n        <HeroSection onSearch={handleSearch} />\n\n        <div className=\"w-full bg-background py-8\">\n          <div className=\"max-w-[1200px] mx-auto px-4 sm:px-8\">\n            <h2 className=\"text-2xl font-bold mb-6\">Featured Properties</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16\">\n              {isSearching\n                ? Array(3)\n                    .fill(0)\n                    .map((_, i) => (\n                      <div\n                        key={i}\n                        className=\"w-full h-[420px] bg-muted rounded-lg animate-pulse\"\n                      />\n                    ))\n                : searchResults.map((property) => (\n                    <PropertyCard\n                      key={property.id}\n                      address={property.address}\n                      price={property.price}\n                      squareFootage={property.squareFootage}\n                      isPremium={property.isPremium}\n                      isSubscriber={profile?.subscription_tier !== \"free\"}\n                    />\n                  ))}\n            </div>\n          </div>\n        </div>\n\n        <MarketTrends />\n\n        <PartnersCarousel />\n\n        <div className=\"w-full bg-background py-8\">\n          <div className=\"max-w-[1200px] mx-auto px-4 sm:px-8\">\n            <div className=\"mb-8\">\n              <LegalDisclaimer />\n            </div>\n          </div>\n        </div>\n\n        {(!profile || profile.subscription_tier === \"free\") && (\n          <SubscriptionCTA\n            onSubscribe={() => setIsSubscriptionModalOpen(true)}\n            title=\"Unlock Premium Property Insights\"\n            description=\"Get access to detailed property analysis, market comparisons, and investment metrics to make informed decisions.\"\n          />\n        )}\n      </main>\n\n      <Footer />\n\n      <AuthModal\n        isOpen={isAuthModalOpen}\n        onClose={() => setIsAuthModalOpen(false)}\n        defaultMode={authMode}\n      />\n\n      <SubscriptionModal\n        isOpen={isSubscriptionModalOpen}\n        onClose={() => setIsSubscriptionModalOpen(false)}\n      />\n\n      <MessagesModal\n        isOpen={isMessagesModalOpen}\n        onClose={() => setIsMessagesModalOpen(false)}\n        receiverId={selectedReceiverId}\n      />\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Textarea } from \"./ui/textarea\";\nimport { useToast } from \"./ui/use-toast\";\nimport { supabase } from \"../lib/supabase\";\nimport { useAuth } from \"../lib/auth\";\n\ninterface AddPropertyModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nexport function AddPropertyModal({\n  isOpen,\n  onClose,\n  onSuccess,\n}: AddPropertyModalProps) {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { toast } = useToast();\n\n  const { user } = useAuth();\n  const [assignedUser, setAssignedUser] = React.useState(\"\");\n  const [users, setUsers] = React.useState<\n    Array<{ id: string; email: string; full_name: string }>\n  >([]);\n\n  React.useEffect(() => {\n    // Fetch users for assignment\n    const fetchUsers = async () => {\n      const { data, error } = await supabase\n        .from(\"profiles\")\n        .select(\"id, email, full_name\");\n      if (!error && data) {\n        setUsers(data);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  const [formData, setFormData] = React.useState({\n    address: \"\",\n    city: \"\",\n    postcode: \"\",\n    price: \"\",\n    bedrooms: \"\",\n    bathrooms: \"\",\n    squareFootage: \"\",\n    description: \"\",\n    imageUrl: \"\",\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const { error } = await supabase.from(\"properties\").insert([\n        {\n          address: formData.address,\n          city: formData.city,\n          postcode: formData.postcode,\n          price: parseFloat(formData.price),\n          bedrooms: parseInt(formData.bedrooms),\n          bathrooms: parseInt(formData.bathrooms),\n          square_footage: parseInt(formData.squareFootage),\n          description: formData.description,\n          images: [formData.imageUrl],\n          property_type: \"house\" as const,\n          created_by: user?.id,\n          assigned_user_id: assignedUser || null,\n        },\n      ]);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Success\",\n        description: \"Property has been added successfully.\",\n      });\n      onSuccess();\n      onClose();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to add property. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[600px]\">\n        <DialogHeader>\n          <DialogTitle>Add New Property</DialogTitle>\n          <DialogDescription>\n            Add a new property to the featured properties list.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4 pt-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"address\">Address</Label>\n              <Input\n                id=\"address\"\n                value={formData.address}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, address: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"city\">City</Label>\n              <Input\n                id=\"city\"\n                value={formData.city}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, city: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"postcode\">Postcode</Label>\n              <Input\n                id=\"postcode\"\n                value={formData.postcode}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, postcode: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"price\">Price (Â£)</Label>\n              <Input\n                id=\"price\"\n                type=\"number\"\n                value={formData.price}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, price: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"bedrooms\">Bedrooms</Label>\n              <Input\n                id=\"bedrooms\"\n                type=\"number\"\n                value={formData.bedrooms}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, bedrooms: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"bathrooms\">Bathrooms</Label>\n              <Input\n                id=\"bathrooms\"\n                type=\"number\"\n                value={formData.bathrooms}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    bathrooms: e.target.value,\n                  }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"squareFootage\">Square Footage</Label>\n              <Input\n                id=\"squareFootage\"\n                type=\"number\"\n                value={formData.squareFootage}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    squareFootage: e.target.value,\n                  }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"imageUrl\">Image URL</Label>\n              <Input\n                id=\"imageUrl\"\n                type=\"url\"\n                value={formData.imageUrl}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, imageUrl: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"assignedUser\">Assign to User</Label>\n              <select\n                id=\"assignedUser\"\n                value={assignedUser}\n                onChange={(e) => setAssignedUser(e.target.value)}\n                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              >\n                <option value=\"\">Select a user</option>\n                {users.map((user) => (\n                  <option key={user.id} value={user.id}>\n                    {user.full_name} ({user.email})\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description</Label>\n            <Textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) =>\n                setFormData((prev) => ({\n                  ...prev,\n                  description: e.target.value,\n                }))\n              }\n              required\n            />\n          </div>\n\n          <div className=\"flex justify-end space-x-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading ? \"Adding...\" : \"Add Property\"}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { Footer } from \"./Footer\";\nimport Header from \"./Header\";\nimport { AuthModal } from \"./AuthModal\";\nimport { useAuth } from \"../lib/auth\";\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport function Layout({ children }: LayoutProps) {\n  const { user, profile, signOut } = useAuth();\n  const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false);\n  const [authMode, setAuthMode] = React.useState<\"signin\" | \"signup\">(\"signin\");\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header\n        isAuthenticated={!!user}\n        userProfile={profile || undefined}\n        onSignIn={() => {\n          setAuthMode(\"signin\");\n          setIsAuthModalOpen(true);\n        }}\n        onSignUp={() => {\n          setAuthMode(\"signup\");\n          setIsAuthModalOpen(true);\n        }}\n      />\n\n      {children}\n\n      <Footer />\n\n      <AuthModal\n        isOpen={isAuthModalOpen}\n        onClose={() => setIsAuthModalOpen(false)}\n        defaultMode={authMode}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useAuth } from \"../lib/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"./ui/button\";\nimport { Card, CardContent } from \"./ui/card\";\nimport {\n  Building2,\n  Star,\n  Plus,\n  TrendingUp,\n  PoundSterling,\n  Users,\n  Crown,\n  Bitcoin,\n} from \"lucide-react\";\nimport { getSavedProperties } from \"../lib/properties\";\nimport { AddPropertyModal } from \"./AddPropertyModal\";\nimport PropertyCard from \"./PropertyCard\";\nimport { supabase } from \"../lib/supabase\";\nimport { Layout } from \"./Layout\";\nimport { BitcoinPrice } from \"./BitcoinPrice\";\n\nexport default function Dashboard() {\n  const { user, profile } = useAuth();\n  const navigate = useNavigate();\n  const [savedProperties, setSavedProperties] = React.useState<any[]>([]);\n  const [addedProperties, setAddedProperties] = React.useState<any[]>([]);\n  const [users, setUsers] = React.useState<any[]>([]);\n  const [isAddPropertyModalOpen, setIsAddPropertyModalOpen] =\n    React.useState(false);\n  const [portfolioStats, setPortfolioStats] = React.useState({\n    totalProperties: 0,\n    totalValue: 0,\n    averagePrice: 0,\n    totalProfit: 0,\n    monthlyIncome: 0,\n  });\n\n  const loadUsers = React.useCallback(async () => {\n    if (!user || profile?.role !== \"admin\") return;\n    try {\n      const { data, error } = await supabase\n        .from(\"profiles\")\n        .select(\"*\")\n        .order(\"created_at\", { ascending: false });\n\n      if (error) throw error;\n      setUsers(data || []);\n    } catch (error) {\n      console.error(\"Error loading users:\", error);\n    }\n  }, [user, profile]);\n\n  const updateUserSubscription = async (userId: string, tier: string) => {\n    try {\n      const { error } = await supabase\n        .from(\"profiles\")\n        .update({\n          subscription_tier: tier,\n          subscription_status: \"active\",\n          updated_at: new Date().toISOString(),\n        })\n        .eq(\"id\", userId);\n\n      if (error) throw error;\n      loadUsers();\n    } catch (error) {\n      console.error(\"Error updating subscription:\", error);\n    }\n  };\n\n  const loadProperties = React.useCallback(async () => {\n    if (!user) return;\n    try {\n      const [saved, { data: added }] = await Promise.all([\n        getSavedProperties(user.id),\n        supabase\n          .from(\"properties\")\n          .select(\n            `*,\n            assigned_user:profiles!properties_assigned_user_id_fkey(full_name, email),\n            author:profiles!properties_created_by_fkey(full_name, email)`,\n          )\n          .eq(\"created_by\", user.id),\n      ]);\n\n      setAddedProperties(added || []);\n      setSavedProperties(saved);\n\n      // Calculate portfolio stats\n      const totalProperties = (added || []).length + saved.length;\n      const totalValue = [...(added || []), ...saved].reduce(\n        (sum, prop) => sum + (prop.price || 0),\n        0,\n      );\n      const averagePrice = totalValue / (totalProperties || 1);\n      const totalProfit = [...(added || []), ...saved].reduce(\n        (sum, prop) => sum + (prop.potential_profit || 0),\n        0,\n      );\n      const monthlyIncome = [...(added || []), ...saved].reduce(\n        (sum, prop) => sum + (prop.monthly_income || 0),\n        0,\n      );\n\n      setPortfolioStats({\n        totalProperties,\n        totalValue,\n        averagePrice,\n        totalProfit,\n        monthlyIncome,\n      });\n    } catch (error) {\n      console.error(\"Error loading properties:\", error);\n    }\n  }, [user]);\n\n  React.useEffect(() => {\n    if (!user) {\n      navigate(\"/\");\n      return;\n    }\n    loadProperties();\n    loadUsers();\n  }, [user, navigate, loadProperties, loadUsers]);\n\n  return (\n    <Layout>\n      <main className=\"container mx-auto px-4 py-8 pt-24\">\n        <div className=\"max-w-7xl mx-auto space-y-8\">\n          <div className=\"flex items-center justify-between\">\n            <h1 className=\"text-3xl font-bold\">Dashboard</h1>\n            <Button onClick={() => setIsAddPropertyModalOpen(true)}>\n              <Plus className=\"w-4 h-4 mr-2\" /> Add Property\n            </Button>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Portfolio Value</h3>\n                  <PoundSterling className=\"w-5 h-5 text-primary\" />\n                </div>\n                <p className=\"text-3xl font-bold\">\n                  Â£{portfolioStats.totalValue.toLocaleString()}\n                </p>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  {portfolioStats.totalProperties} properties\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Average Price</h3>\n                  <Building2 className=\"w-5 h-5 text-primary\" />\n                </div>\n                <p className=\"text-3xl font-bold\">\n                  Â£{portfolioStats.averagePrice.toLocaleString()}\n                </p>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Per property\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Total Profit</h3>\n                  <TrendingUp className=\"w-5 h-5 text-primary\" />\n                </div>\n                <p className=\"text-3xl font-bold\">\n                  Â£{portfolioStats.totalProfit.toLocaleString()}\n                </p>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Estimated profit\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold\">BTC Value</h3>\n                  <Bitcoin className=\"w-5 h-5 text-[#F7931A]\" />\n                </div>\n                <BitcoinPrice amount={portfolioStats.totalValue} />\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Portfolio in BTC\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n\n          {profile?.role === \"admin\" && (\n            <div className=\"space-y-6\">\n              <h2 className=\"text-2xl font-semibold flex items-center gap-2\">\n                <Users className=\"w-5 h-5\" /> User Management\n              </h2>\n              <div className=\"space-y-4\">\n                {users.map((user) => (\n                  <Card key={user.id} className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"font-medium\">{user.full_name}</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {user.email}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"flex items-center gap-2\">\n                          <Crown className=\"w-4 h-4 text-primary\" />\n                          <select\n                            value={user.subscription_tier}\n                            onChange={(e) =>\n                              updateUserSubscription(user.id, e.target.value)\n                            }\n                            className=\"bg-background border rounded px-2 py-1\"\n                          >\n                            <option value=\"free\">Free</option>\n                            <option value=\"basic\">Basic</option>\n                            <option value=\"pro\">Pro</option>\n                            <option value=\"premium\">Premium</option>\n                          </select>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <select\n                            value={user.role}\n                            onChange={async (e) => {\n                              try {\n                                const { error } = await supabase\n                                  .from(\"profiles\")\n                                  .update({ role: e.target.value })\n                                  .eq(\"id\", user.id);\n                                if (error) throw error;\n                                loadUsers();\n                              } catch (error) {\n                                console.error(\"Error updating role:\", error);\n                              }\n                            }}\n                            className=\"bg-background border rounded px-2 py-1\"\n                          >\n                            <option value=\"user\">User</option>\n                            <option value=\"moderator\">Moderator</option>\n                            <option value=\"admin\">Admin</option>\n                          </select>\n                        </div>\n                        <Button\n                          variant=\"destructive\"\n                          size=\"sm\"\n                          onClick={async () => {\n                            if (\n                              confirm(\n                                \"Are you sure you want to delete this user?\",\n                              )\n                            ) {\n                              try {\n                                const { error } = await supabase\n                                  .from(\"profiles\")\n                                  .delete()\n                                  .eq(\"id\", user.id);\n                                if (error) throw error;\n                                loadUsers();\n                              } catch (error) {\n                                console.error(\"Error deleting user:\", error);\n                              }\n                            }\n                          }}\n                        >\n                          Delete\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={async () => {\n                            const newPassword = prompt(\"Enter new password:\");\n                            if (newPassword) {\n                              try {\n                                const { error } =\n                                  await supabase.auth.admin.updateUserById(\n                                    user.id,\n                                    { password: newPassword },\n                                  );\n                                if (error) throw error;\n                                alert(\"Password updated successfully\");\n                              } catch (error) {\n                                console.error(\n                                  \"Error resetting password:\",\n                                  error,\n                                );\n                                alert(\"Failed to reset password\");\n                              }\n                            }\n                          }}\n                        >\n                          Reset Password\n                        </Button>\n                      </div>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <div className=\"space-y-6\">\n              <h2 className=\"text-2xl font-semibold flex items-center gap-2\">\n                <Star className=\"w-5 h-5\" /> Saved Properties\n              </h2>\n              <div className=\"space-y-4\">\n                {savedProperties.map((saved: any) => (\n                  <PropertyCard\n                    key={saved.property.id}\n                    {...saved.property}\n                    isSubscriber={true}\n                  />\n                ))}\n              </div>\n            </div>\n\n            <div className=\"space-y-6\">\n              <h2 className=\"text-2xl font-semibold flex items-center gap-2\">\n                <Building2 className=\"w-5 h-5\" /> Added Properties\n              </h2>\n              <div className=\"space-y-4\">\n                {addedProperties.map((property: any) => (\n                  <PropertyCard\n                    key={property.id}\n                    {...property}\n                    isSubscriber={true}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <AddPropertyModal\n        isOpen={isAddPropertyModalOpen}\n        onClose={() => setIsAddPropertyModalOpen(false)}\n        onSuccess={loadProperties}\n      />\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { SubscriptionPlans } from \"./SubscriptionPlans\";\nimport { createCheckoutSession } from \"../lib/stripe\";\nimport { useAuth } from \"../lib/auth\";\nimport { useToast } from \"./ui/use-toast\";\nimport { LegalDisclaimer } from \"./LegalDisclaimer\";\nimport { Footer } from \"./Footer\";\nimport { AuthModal } from \"./AuthModal\";\n\nexport default function PricingPage() {\n  const { user, profile, signOut } = useAuth();\n  const { toast } = useToast();\n  const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false);\n  const [authMode, setAuthMode] = React.useState<\"signin\" | \"signup\">(\"signin\");\n\n  const handleSubscribe = async (priceId: string) => {\n    if (!user) {\n      // Store the selected price ID in localStorage\n      localStorage.setItem(\"pending_subscription_price_id\", priceId);\n\n      // Trigger sign up modal\n      setAuthMode(\"signup\");\n      setIsAuthModalOpen(true);\n      return;\n    }\n\n    try {\n      await createCheckoutSession(priceId, user.id);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to start subscription process. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header\n        isAuthenticated={!!user}\n        userProfile={profile || undefined}\n        onSignIn={() => {\n          setAuthMode(\"signin\");\n          setIsAuthModalOpen(true);\n        }}\n        onSignUp={() => {\n          setAuthMode(\"signup\");\n          setIsAuthModalOpen(true);\n        }}\n        onSignOut={async () => {\n          try {\n            await signOut();\n            window.location.href = \"/\";\n          } catch (error) {\n            console.error(\"Error signing out:\", error);\n          }\n        }}\n      />\n      <HeroSection\n        title=\"Choose Your Perfect Plan\"\n        subtitle=\"Select the perfect subscription plan to unlock premium features and detailed property insights\"\n        backgroundImage=\"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3\"\n        showSearch={false}\n        showStats={false}\n        height=\"h-[400px]\"\n      />\n      <main>\n        <SubscriptionPlans onSubscribe={handleSubscribe} />\n        <div className=\"container mx-auto px-4 py-12\">\n          <div className=\"max-w-4xl mx-auto prose dark:prose-invert mb-16\">\n            <h2 className=\"text-3xl font-bold mb-6\">\n              Investment Plans for Every Property Investor\n            </h2>\n            <p>\n              Choose from our range of subscription plans designed to meet the\n              needs of property investors at every level. From market analysis\n              to detailed property insights, our plans provide the tools you\n              need to make informed investment decisions.\n            </p>\n\n            <h3 className=\"text-2xl font-semibold mt-8 mb-4\">Plan Benefits</h3>\n            <ul>\n              <li>\n                Access to comprehensive property market data and analytics\n              </li>\n              <li>Real-time market insights and trend analysis</li>\n              <li>Advanced property search and filtering capabilities</li>\n              <li>Investment calculators and ROI projections</li>\n              <li>Portfolio tracking and management tools</li>\n            </ul>\n\n            <h3 className=\"text-2xl font-semibold mt-8 mb-4\">Why Subscribe?</h3>\n            <p>\n              Our subscription plans give you access to premium features and\n              insights that help you stay ahead in the property market. From\n              basic market analysis to advanced AI-powered predictions, we\n              provide the tools you need to make successful property\n              investments.\n            </p>\n\n            <h3 className=\"text-2xl font-semibold mt-8 mb-4\">\n              Money-Back Guarantee\n            </h3>\n            <p>\n              We're confident in the value our platform provides. If you're not\n              satisfied with your subscription within the first 30 days, we'll\n              provide a full refund, no questions asked.\n            </p>\n          </div>\n          <LegalDisclaimer />\n        </div>\n      </main>\n      <Footer />\n\n      <AuthModal\n        isOpen={isAuthModalOpen}\n        onClose={() => setIsAuthModalOpen(false)}\n        defaultMode={authMode}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { useToast } from \"./ui/use-toast\";\nimport { supabase } from \"../lib/supabase\";\nimport { useAuth } from \"../lib/auth\";\n\nexport function OnboardingModal(props) {\n  const [step, setStep] = React.useState(0);\n  const [loading, setLoading] = React.useState(false);\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [formData, setFormData] = React.useState({\n    profileImage: \"\",\n    bannerImage: \"\",\n    selectedWidgets: [],\n  });\n\n  const handleComplete = async () => {\n    if (!user) return;\n    setLoading(true);\n\n    try {\n      const { error } = await supabase\n        .from(\"profiles\")\n        .update({\n          avatar_url:\n            formData.profileImage ||\n            `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.email}`,\n          banner_url:\n            formData.bannerImage ||\n            \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab\",\n          dashboard_widgets: formData.selectedWidgets,\n          onboarding_completed: true,\n        })\n        .eq(\"id\", user.id);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Setup Complete!\",\n        description: \"Your profile has been updated successfully.\",\n      });\n      props.onClose();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update profile. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const steps = [\n    {\n      title: \"Profile Image\",\n      description: \"Add a profile image to personalize your account\",\n      component: (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Profile Image URL</Label>\n            <Input\n              placeholder=\"Enter image URL or leave blank for default avatar\"\n              value={formData.profileImage}\n              onChange={(e) =>\n                setFormData((prev) => ({\n                  ...prev,\n                  profileImage: e.target.value,\n                }))\n              }\n            />\n          </div>\n          {formData.profileImage && (\n            <img\n              src={formData.profileImage}\n              alt=\"Profile Preview\"\n              className=\"w-24 h-24 rounded-full object-cover mx-auto\"\n            />\n          )}\n        </div>\n      ),\n    },\n    {\n      title: \"Dashboard Banner\",\n      description: \"Choose a banner image for your dashboard\",\n      component: (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Banner Image URL</Label>\n            <Input\n              placeholder=\"Enter banner image URL or leave blank for default\"\n              value={formData.bannerImage}\n              onChange={(e) =>\n                setFormData((prev) => ({\n                  ...prev,\n                  bannerImage: e.target.value,\n                }))\n              }\n            />\n          </div>\n          {formData.bannerImage && (\n            <img\n              src={formData.bannerImage}\n              alt=\"Banner Preview\"\n              className=\"w-full h-32 object-cover rounded-md\"\n            />\n          )}\n        </div>\n      ),\n    },\n    {\n      title: \"Dashboard Widgets\",\n      description: \"Select the widgets you want to see on your dashboard\",\n      component: (\n        <div className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            {[\n              \"market_trends\",\n              \"property_news\",\n              \"saved_properties\",\n              \"price_alerts\",\n              \"market_insights\",\n              \"investment_calculator\",\n            ].map((widget) => (\n              <Button\n                key={widget}\n                variant={\n                  formData.selectedWidgets.includes(widget)\n                    ? \"default\"\n                    : \"outline\"\n                }\n                onClick={() =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    selectedWidgets: prev.selectedWidgets.includes(widget)\n                      ? prev.selectedWidgets.filter((w) => w !== widget)\n                      : [...prev.selectedWidgets, widget],\n                  }))\n                }\n                className=\"h-auto py-4 px-6 text-left flex flex-col items-start space-y-2\"\n              >\n                <span className=\"font-medium capitalize\">\n                  {widget.replace(\"_\", \" \")}\n                </span>\n              </Button>\n            ))}\n          </div>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Dialog open={props.isOpen} onOpenChange={props.onClose}>\n      <DialogContent className=\"sm:max-w-[600px]\">\n        <DialogHeader>\n          <DialogTitle>{steps[step].title}</DialogTitle>\n          <DialogDescription>{steps[step].description}</DialogDescription>\n        </DialogHeader>\n\n        <div className=\"py-6\">{steps[step].component}</div>\n\n        <div className=\"flex justify-between\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setStep((s) => Math.max(0, s - 1))}\n            disabled={step === 0}\n          >\n            Previous\n          </Button>\n          <Button\n            onClick={() => {\n              if (step === steps.length - 1) {\n                handleComplete();\n              } else {\n                setStep((s) => Math.min(steps.length - 1, s + 1));\n              }\n            }}\n            disabled={loading}\n          >\n            {step === steps.length - 1 ? \"Complete Setup\" : \"Next\"}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useToast } from \"./ui/use-toast\";\nimport { useAuth } from \"../lib/auth\";\nimport { OnboardingModal } from \"./OnboardingModal\";\n\nexport default function SubscriptionSuccess() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { toast } = useToast();\n  const { user } = useAuth();\n  const [showOnboarding, setShowOnboarding] = useState(true);\n\n  useEffect(() => {\n    const sessionId = searchParams.get(\"session_id\");\n    if (sessionId) {\n      toast({\n        title: \"Subscription Successful!\",\n        description:\n          \"Thank you for subscribing. Your premium features are now available.\",\n      });\n    }\n\n    // Only redirect if onboarding is skipped or completed\n    if (!showOnboarding) {\n      navigate(\"/dashboard\");\n    }\n  }, [showOnboarding, navigate, searchParams, toast]);\n\n  return (\n    <>\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"max-w-md w-full mx-auto p-8\">\n          <div className=\"bg-white shadow-lg rounded-lg p-6 text-center\">\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg\n                className=\"w-8 h-8 text-green-500\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M5 13l4 4L19 7\"\n                />\n              </svg>\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Subscription Successful!\n            </h2>\n            <p className=\"text-gray-600 mb-4\">\n              Thank you for subscribing. Your premium features are now\n              available.\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Setting up your preferences...\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <OnboardingModal\n        isOpen={showOnboarding}\n        onClose={() => {\n          setShowOnboarding(false);\n          navigate(\"/dashboard\");\n        }}\n      />\n    </>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useToast } from \"./ui/use-toast\";\n\nexport default function SubscriptionCancel() {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    toast({\n      title: \"Subscription Cancelled\",\n      description:\n        \"Your subscription process was cancelled. Please try again if this was a mistake.\",\n      variant: \"destructive\",\n    });\n\n    // Redirect to home after a short delay\n    const timer = setTimeout(() => {\n      navigate(\"/\");\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full mx-auto p-8\">\n        <div className=\"bg-white shadow-lg rounded-lg p-6 text-center\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <svg\n              className=\"w-8 h-8 text-red-500\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            Subscription Cancelled\n          </h2>\n          <p className=\"text-gray-600 mb-4\">\n            Your subscription process was cancelled. Please try again if this\n            was a mistake.\n          </p>\n          <p className=\"text-sm text-gray-500\">\n            Redirecting you to the homepage...\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useAuth } from \"../lib/auth\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { useToast } from \"./ui/use-toast\";\nimport { supabase } from \"../lib/supabase\";\nimport { Layout } from \"./Layout\";\n\nexport default function AccountSettings() {\n  const { user, profile } = useAuth();\n  const { toast } = useToast();\n  const [loading, setLoading] = React.useState(false);\n  const [formData, setFormData] = React.useState({\n    fullName: profile?.full_name || \"\",\n    avatarUrl: \"\",\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    setLoading(true);\n    try {\n      const updates = {\n        id: user.id,\n        full_name: formData.fullName,\n        avatar_url:\n          formData.avatarUrl ||\n          `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.email}`,\n        updated_at: new Date().toISOString(),\n      };\n\n      const { error } = await supabase.from(\"profiles\").upsert(updates);\n      if (error) throw error;\n\n      toast({\n        title: \"Success\",\n        description: \"Your profile has been updated.\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update profile.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdatePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    if (formData.newPassword !== formData.confirmPassword) {\n      toast({\n        title: \"Error\",\n        description: \"New passwords do not match.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { error } = await supabase.auth.updateUser({\n        password: formData.newPassword,\n      });\n\n      if (error) throw error;\n\n      toast({\n        title: \"Success\",\n        description: \"Your password has been updated.\",\n      });\n\n      setFormData((prev) => ({\n        ...prev,\n        currentPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\",\n      }));\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update password.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!user || !profile) return null;\n\n  return (\n    <Layout>\n      <main className=\"container mx-auto px-4 py-8 pt-24\">\n        <div className=\"max-w-2xl mx-auto space-y-8\">\n          <div className=\"space-y-2\">\n            <h1 className=\"text-2xl font-bold\">Account Settings</h1>\n            <p className=\"text-muted-foreground\">\n              Update your profile and account preferences.\n            </p>\n          </div>\n\n          <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fullName\">Full Name</Label>\n              <Input\n                id=\"fullName\"\n                value={formData.fullName}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, fullName: e.target.value }))\n                }\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"avatarUrl\">Avatar URL</Label>\n              <Input\n                id=\"avatarUrl\"\n                type=\"url\"\n                value={formData.avatarUrl}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    avatarUrl: e.target.value,\n                  }))\n                }\n                placeholder=\"Leave blank for default avatar\"\n              />\n            </div>\n\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? \"Updating...\" : \"Update Profile\"}\n            </Button>\n          </form>\n\n          <div className=\"border-t pt-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">Change Password</h2>\n            <form onSubmit={handleUpdatePassword} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"newPassword\">New Password</Label>\n                <Input\n                  id=\"newPassword\"\n                  type=\"password\"\n                  value={formData.newPassword}\n                  onChange={(e) =>\n                    setFormData((prev) => ({\n                      ...prev,\n                      newPassword: e.target.value,\n                    }))\n                  }\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"confirmPassword\">Confirm New Password</Label>\n                <Input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  value={formData.confirmPassword}\n                  onChange={(e) =>\n                    setFormData((prev) => ({\n                      ...prev,\n                      confirmPassword: e.target.value,\n                    }))\n                  }\n                />\n              </div>\n\n              <Button type=\"submit\" disabled={loading}>\n                {loading ? \"Updating...\" : \"Update Password\"}\n              </Button>\n            </form>\n          </div>\n        </div>\n      </main>\n    </Layout>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../lib/auth\";\n\nexport function RequireAuth({ children }: { children: React.ReactNode }) {\n  const { user, isLoading } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!isLoading && !user) {\n      navigate(\"/\");\n    }\n  }, [user, isLoading, navigate]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        Loading...\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n","import React from \"react\";\n;\n\nconst routes = [];\n\nexport default routes;","import { motion } from \"framer-motion\";\nimport React from \"react\";\n\ninterface PageTransitionProps {\n  children: React.ReactNode;\n}\n\nexport function PageTransition({ children }: PageTransitionProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: 20 }}\n      transition={{ duration: 0.3 }}\n    >\n      {children}\n    </motion.div>\n  );\n}\n","import React from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"./ui/dialog\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { MessageCircle, TrendingUp, Home, PoundSterling } from \"lucide-react\";\nimport { BitcoinPrice } from \"./BitcoinPrice\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n} from \"recharts\";\n\ninterface PropertyDetailsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  property: any;\n  onMessageAuthor?: (authorId: string) => void;\n}\n\nexport function PropertyDetailsModal({\n  isOpen,\n  onClose,\n  property,\n  onMessageAuthor,\n}: PropertyDetailsModalProps) {\n  // Generate 10-year prediction data\n  const predictionData = React.useMemo(() => {\n    const currentYear = new Date().getFullYear();\n    const basePrice = property.price || property.deal_price || 500000;\n    const growthRate = 0.05; // 5% annual growth\n\n    return Array.from({ length: 11 }, (_, i) => ({\n      year: currentYear + i,\n      value: Math.round(basePrice * Math.pow(1 + growthRate, i)),\n    }));\n  }, [property]);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl\">\n            {property.title || property.address}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div className=\"aspect-video rounded-lg overflow-hidden mb-4\">\n              <img\n                src={\n                  property.images?.[0] ||\n                  \"https://images.unsplash.com/photo-1560518883-ce09059eeffa\"\n                }\n                alt={property.title || \"Property\"}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm text-muted-foreground\">Price</span>\n                    <PoundSterling className=\"w-4 h-4 text-primary\" />\n                  </div>\n                  <div className=\"text-2xl font-bold\">\n                    Â£\n                    {(\n                      property.price ||\n                      property.deal_price ||\n                      0\n                    ).toLocaleString()}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground mt-1\">\n                    <BitcoinPrice\n                      amount={property.price || property.deal_price || 0}\n                    />\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm text-muted-foreground\">\n                      Details\n                    </span>\n                    <Home className=\"w-4 h-4 text-primary\" />\n                  </div>\n                  <div className=\"space-y-1\">\n                    {property.bedrooms && (\n                      <div className=\"text-sm\">\n                        {property.bedrooms} Bedrooms\n                      </div>\n                    )}\n                    {property.bathrooms && (\n                      <div className=\"text-sm\">\n                        {property.bathrooms} Bathrooms\n                      </div>\n                    )}\n                    {property.square_footage && (\n                      <div className=\"text-sm\">\n                        {property.square_footage} sq ft\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {property.description && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-semibold mb-2\">Description</h3>\n                <p className=\"text-muted-foreground\">{property.description}</p>\n              </div>\n            )}\n\n            {onMessageAuthor && property.author && (\n              <Button\n                className=\"w-full\"\n                onClick={() => onMessageAuthor(property.author.id)}\n              >\n                <MessageCircle className=\"w-4 h-4 mr-2\" />\n                Contact Agent\n              </Button>\n            )}\n          </div>\n\n          <div>\n            <Card className=\"mb-6\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <TrendingUp className=\"w-5 h-5 text-primary\" />\n                  <h3 className=\"text-lg font-semibold\">10 Year Prediction</h3>\n                </div>\n                <div className=\"h-[300px]\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <AreaChart data={predictionData}>\n                      <defs>\n                        <linearGradient\n                          id=\"colorValue\"\n                          x1=\"0\"\n                          y1=\"0\"\n                          x2=\"0\"\n                          y2=\"1\"\n                        >\n                          <stop\n                            offset=\"5%\"\n                            stopColor=\"hsl(var(--primary))\"\n                            stopOpacity={0.2}\n                          />\n                          <stop\n                            offset=\"95%\"\n                            stopColor=\"hsl(var(--primary))\"\n                            stopOpacity={0}\n                          />\n                        </linearGradient>\n                      </defs>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis dataKey=\"year\" />\n                      <YAxis\n                        tickFormatter={(value) =>\n                          `Â£${(value / 1000).toFixed(0)}k`\n                        }\n                      />\n                      <Tooltip\n                        formatter={(value) => `Â£${value.toLocaleString()}`}\n                      />\n                      <Area\n                        type=\"monotone\"\n                        dataKey=\"value\"\n                        stroke=\"hsl(var(--primary))\"\n                        fillOpacity={1}\n                        fill=\"url(#colorValue)\"\n                      />\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              </CardContent>\n            </Card>\n\n            {property.type === \"deal\" && (\n              <Card>\n                <CardContent className=\"p-4\">\n                  <h3 className=\"text-lg font-semibold mb-4\">\n                    Investment Details\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {property.original_price && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">\n                          Original Price\n                        </span>\n                        <span>Â£{property.original_price.toLocaleString()}</span>\n                      </div>\n                    )}\n                    {property.potential_profit && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">\n                          Potential Profit\n                        </span>\n                        <span className=\"text-emerald-500\">\n                          Â£{property.potential_profit.toLocaleString()}\n                        </span>\n                      </div>\n                    )}\n                    {property.roi_percentage && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">ROI</span>\n                        <span className=\"text-emerald-500\">\n                          {property.roi_percentage}%\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport PropertyCard from \"./PropertyCard\";\nimport { Layout } from \"./Layout\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { supabase } from \"../lib/supabase\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport { PropertyDetailsModal } from \"./PropertyDetailsModal\";\n\ninterface FeaturedPropertiesProps {\n  results?: any[];\n  isSubscriber?: boolean;\n  isLoading?: boolean;\n}\n\nexport async function getFeaturedDeals(): Promise<Property[]> {\n  const { data, error } = await supabase\n    .from(\"deals\", { schema: 'public' })\n    .select(\n      `\n      *,\n      assigned_user:profiles!deals_assigned_user_id_fkey(id, full_name, email),\n      author:profiles!deals_created_by_fkey(id, full_name, email)\n    `,\n    )\n    .order(\"created_at\", { ascending: false })\n    .limit(20);\n\n  if (error) {\n    console.error(\"Error fetching featured deals:\", error);\n    throw error;\n  }\n\n  return data as Property[];\n}\n\nconst FeaturedProperties = ({\n  results,\n  isSubscriber = false,\n  isLoading: isLoadingProp = false, // rename prop to avoid conflict\n}: FeaturedPropertiesProps = {}) => {\n  const { user, profile } = useAuth();\n  const [properties, setProperties] = React.useState<any[]>([]);\n  const [selectedProperty, setSelectedProperty] = React.useState<any>(null);\n  const [isLoading, setIsLoading] = React.useState(isLoadingProp); // use local state\n\n  const handleMessageAuthor = (authorId: string) => {\n    // Open the chat with the selected author\n    const event = new CustomEvent(\"open-messages\", {\n      detail: { receiverId: authorId },\n    });\n    window.dispatchEvent(event);\n  };\n\n  React.useEffect(() => {\n    const loadDeals = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getFeaturedDeals();\n        setProperties(data);\n      } catch (error) {\n        console.error(\"Error loading featured deals:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadDeals();\n  }, []);\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Investment Deals\"\n          subtitle=\"Discover exclusive property investment opportunities\"\n          backgroundImage=\"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\"\n          showSearch={true}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <div className=\"w-full min-h-[600px] bg-background p-4 sm:p-8\">\n          <div className=\"max-w-7xl mx-auto\">\n            <h2 className=\"text-2xl font-bold mb-6\">Available Deals</h2>\n            {isLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse\">\n                {[1, 2, 3].map((i) => (\n                  <div\n                    key={i}\n                    className=\"w-full h-[420px] bg-muted rounded-lg\"\n                  />\n                ))}\n              </div>\n            ) : properties.length === 0 ? (\n              <div className=\"text-center\">\n                <h2 className=\"text-xl font-semibold text-foreground\">\n                  No Available Deals\n                </h2>\n                <p className=\"mt-2 text-muted-foreground\">\n                  Check back later for new investment opportunities\n                </p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n                {properties.map((property) => (\n                  <PropertyCard\n                    key={property.id}\n                    id={property.id}\n                    address={property.property?.address || property.title}\n                    price={property.deal_price || property.property?.price}\n                    original_price={property.original_price}\n                    squareFootage={property.property?.square_footage}\n                    bedrooms={property.property?.bedrooms}\n                    bathrooms={property.property?.bathrooms}\n                    isPremium={property.is_premium}\n                    isSubscriber={profile?.subscription_tier !== \"free\"}\n                    author={property.author}\n                    type=\"deal\"\n                    status={property.status}\n                    potential_profit={property.potential_profit}\n                    roi_percentage={property.roi_percentage}\n                    images={[\n                      property.images && typeof property.images === \"string\"\n                        ? property.images\n                        : Array.isArray(property.images) &&\n                            property.images.length > 0\n                          ? property.images[0]\n                          : `https://source.unsplash.com/random/800x600?semi,detached&sig=${property.id}`,\n                    ]}\n                    onMessageAuthor={handleMessageAuthor}\n                    onClick={() => setSelectedProperty(property)}\n                  />\n                ))}\n              </div>\n            )}\n\n            {selectedProperty && (\n              <PropertyDetailsModal\n                isOpen={!!selectedProperty}\n                onClose={() => setSelectedProperty(null)}\n                property={selectedProperty}\n                onMessageAuthor={handleMessageAuthor}\n              />\n            )}\n          </div>\n        </div>\n      </Layout>\n    </PageTransition>\n  );\n};\n\nexport default FeaturedProperties;\n","import { supabase } from \"./supabase\";\n\nexport async function fetchPropertyNews() {\n  return [\n    {\n      title: \"UK Housing Market Shows Signs of Recovery\",\n      description:\n        \"Recent data indicates a steady increase in property transactions...\",\n      url: \"#\",\n      publishedAt: new Date().toISOString(),\n    },\n    {\n      title: \"Interest Rates Impact on Property Market\",\n      description:\n        \"Bank of England's latest decision affects mortgage rates...\",\n      url: \"#\",\n      publishedAt: new Date().toISOString(),\n    },\n    {\n      title: \"Regional Property Markets Outperform London\",\n      description: \"Northern cities show strong growth in property values...\",\n      url: \"#\",\n      publishedAt: new Date().toISOString(),\n    },\n  ];\n}\n\nexport async function generateMarketInsights(prompt: string) {\n  try {\n    const formattedPrompt = `${prompt}\n\nProvide a detailed analysis using EXACTLY this format (do not include numbers or asterisks at the start of sections):\n\n## Latest Tax Law Changes\n- The current stamp duty rates and thresholds\n- Recent changes to capital gains tax\n- Upcoming tax proposals\n\n## Landlord Regulations\n- Latest HMO licensing requirements\n- Recent changes to tenant rights\n- Current safety regulations\n\n## Government Policies\n- New housing policies\n- Regional development initiatives\n- Planning permission changes\n\n## Market Impact Analysis\n- Effect on property values\n- Changes to rental yields\n- Investment recommendations\n\nUse ONLY ## for section headers and - for bullet points. Do not use any other formatting, numbers, or special characters. Each bullet point should be a complete sentence with specific dates and numbers where possible.`;\n\n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          contents: [\n            {\n              parts: [\n                {\n                  text: formattedPrompt,\n                },\n              ],\n            },\n          ],\n        }),\n      },\n    );\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n      throw new Error(\"Invalid response format from Gemini API\");\n    }\n\n    // Clean up the response to ensure proper formatting\n    let insights = data.candidates[0].content.parts[0].text;\n    insights = insights\n      .replace(/\\*\\*/g, \"\") // Remove any asterisks\n      .replace(/\\*\\s/g, \"- \") // Replace any remaining asterisk bullets with dashes\n      .replace(/\\d+\\.\\s/g, \"- \") // Replace numbered lists with bullet points\n      .replace(/^[0-9]\\./gm, \"-\") // Replace numbers at start of lines with dashes\n      .replace(/\\n\\n+/g, \"\\n\\n\") // Normalize line spacing\n      .replace(/\\n\\s*\\n/g, \"\\n\\n\") // Fix multiple blank lines\n      .trim();\n\n    return insights;\n  } catch (error) {\n    console.error(\"Error generating insights:\", error);\n    throw error;\n  }\n}\n\nexport async function storeMarketInsights(insights: string) {\n  const { error } = await supabase.from(\"market_insights\").insert([\n    {\n      content: insights,\n      generated_at: new Date().toISOString(),\n    },\n  ]);\n\n  if (error) throw error;\n}\n\nexport async function getLatestMarketInsights() {\n  try {\n    const { data, error } = await supabase\n      .from(\"market_insights\")\n      .select(\"*\")\n      .order(\"generated_at\", { ascending: false })\n      .limit(1)\n      .maybeSingle();\n\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error(\"Error fetching market insights:\", error);\n    return null;\n  }\n}\n","import React from \"react\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport {\n  Newspaper,\n  LineChart,\n  Building2,\n  Globe2,\n  AlertTriangle,\n} from \"lucide-react\";\nimport { Layout } from \"./Layout\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport {\n  fetchPropertyNews,\n  generateMarketInsights,\n  getLatestMarketInsights,\n  storeMarketInsights,\n} from \"../lib/market-insights\";\n\nexport default function MarketInsightsPage() {\n  const { user: _, profile: __ } = useAuth();\n  const [news, setNews] = React.useState<any[]>([]);\n  const [insights, setInsights] = React.useState<string>(\"\");\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    const loadData = async () => {\n      try {\n        const prompt = `Analyze the current UK property regulatory landscape and provide insights on:\n\n1. Latest Tax Law Changes\n- Recent changes to property-related taxes\n- Impact on investors and landlords\n- Upcoming tax proposals\n\n2. Landlord Regulations\n- Current licensing requirements\n- Tenant rights updates\n- Property safety regulations\n\n3. Government Policies\n- Recent policy changes affecting property\n- Proposed legislation\n- Regional variations\n\n4. Market Impact Analysis\n- How these changes affect property values\n- Impact on rental yields\n- Investment strategy adjustments\n\nProvide specific dates, numbers, and practical implications where possible.`;\n\n        const [newsData, latestInsights] = await Promise.all([\n          fetchPropertyNews(),\n          getLatestMarketInsights(),\n        ]);\n\n        setNews(newsData.slice(0, 8));\n\n        try {\n          if (\n            latestInsights &&\n            new Date(latestInsights.generated_at).getTime() >\n              Date.now() - 24 * 60 * 60 * 1000\n          ) {\n            setInsights(latestInsights.content);\n          } else {\n            const newInsights = await generateMarketInsights(prompt);\n            setInsights(newInsights);\n            await storeMarketInsights(newInsights);\n          }\n        } catch (error) {\n          console.error(\"Error generating market insights:\", error);\n          setInsights(\n            \"Unable to load market insights at this time. Please try again later.\",\n          );\n        }\n      } catch (error) {\n        console.error(\"Error loading market data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Regulatory Updates & Market Insights\"\n          subtitle=\"Stay informed about the latest property regulations and policy changes\"\n          backgroundImage=\"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n              <div className=\"lg:col-span-2\">\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    <AlertTriangle className=\"w-5 h-5 text-red-500\" />\n                    <div className=\"flex items-center gap-2\">\n                      <h2 className=\"text-2xl font-semibold\">\n                        Regulatory Updates\n                      </h2>\n                      <span className=\"relative flex h-3 w-3\">\n                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n                        <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\n                      </span>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    {loading ? (\n                      <div className=\"animate-pulse space-y-4\">\n                        <div className=\"h-4 bg-muted rounded w-3/4\" />\n                        <div className=\"h-4 bg-muted rounded w-1/2\" />\n                        <div className=\"h-4 bg-muted rounded w-5/6\" />\n                      </div>\n                    ) : (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        {insights.split(\"\\n\").map((line, index) => {\n                          if (line.startsWith(\"## \")) {\n                            return (\n                              <h2\n                                key={index}\n                                className=\"text-xl font-semibold mt-6 mb-3\"\n                              >\n                                {line.replace(\"## \", \"\")}\n                              </h2>\n                            );\n                          } else if (line.startsWith(\"### \")) {\n                            return (\n                              <h3\n                                key={index}\n                                className=\"text-lg font-medium mt-4 mb-2\"\n                              >\n                                {line.replace(\"### \", \"\")}\n                              </h3>\n                            );\n                          } else if (line.startsWith(\"- \")) {\n                            return (\n                              <li key={index} className=\"ml-4\">\n                                {line.replace(\"- \", \"\")}\n                              </li>\n                            );\n                          } else if (line.trim() !== \"\") {\n                            return (\n                              <p key={index} className=\"mb-3\">\n                                {line}\n                              </p>\n                            );\n                          }\n                          return null;\n                        })}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    <Newspaper className=\"w-5 h-5\" />\n                    <h2 className=\"text-xl font-semibold\">Latest Updates</h2>\n                  </CardHeader>\n                  <CardContent>\n                    {loading ? (\n                      <div className=\"animate-pulse space-y-4\">\n                        {[1, 2, 3].map((i) => (\n                          <div key={i} className=\"space-y-2\">\n                            <div className=\"h-4 bg-muted rounded w-3/4\" />\n                            <div className=\"h-3 bg-muted rounded w-1/2\" />\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"space-y-6\">\n                        {news.map((article, index) => (\n                          <div\n                            key={index}\n                            className=\"border-b last:border-0 pb-4 last:pb-0\"\n                          >\n                            <h3 className=\"font-medium mb-1 line-clamp-2\">\n                              {article.title}\n                            </h3>\n                            <p className=\"text-sm text-muted-foreground mb-2\">\n                              {article.description}\n                            </p>\n                            <div className=\"flex justify-between items-center text-xs text-muted-foreground\">\n                              <span>\n                                {new Date(\n                                  article.publishedAt,\n                                ).toLocaleDateString()}\n                              </span>\n                              <Button\n                                variant=\"ghost\"\n                                className=\"group hover:text-primary\"\n                              >\n                                Read More\n                              </Button>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport MarketTrends from \"./MarketTrends\";\nimport { Layout } from \"./Layout\";\nimport { PageTransition } from \"./ui/page-transition\";\n\nexport default function MarketTrendsPage() {\n  const { user: _, profile: __ } = useAuth();\n  const [loading, setLoading] = React.useState(true);\n\n  const trends = [\n    {\n      title: \"Average Home Price\",\n      value: \"Â£450,000\",\n      change: \"+5.2%\",\n      isPositive: true,\n    },\n    {\n      title: \"Days on Market\",\n      value: \"28\",\n      change: \"-12%\",\n      isPositive: true,\n    },\n    {\n      title: \"Available Listings\",\n      value: \"1,234\",\n      change: \"-3.1%\",\n      isPositive: false,\n    },\n    {\n      title: \"Mortgage Rates\",\n      value: \"4.5%\",\n      change: \"+0.25%\",\n      isPositive: false,\n    },\n    {\n      title: \"Price per Sq Ft\",\n      value: \"Â£375\",\n      change: \"+2.8%\",\n      isPositive: true,\n    },\n    {\n      title: \"New Listings\",\n      value: \"458\",\n      change: \"+15%\",\n      isPositive: true,\n    },\n  ];\n\n  const articles = [\n    {\n      title: \"Understanding the Current Real Estate Market\",\n      excerpt:\n        \"Get insights into the latest trends and what they mean for buyers and sellers.\",\n      date: \"2024-03-15\",\n    },\n    {\n      title: \"Top 5 Investment Opportunities in Real Estate\",\n      excerpt:\n        \"Discover the most promising areas for property investment in the current market.\",\n      date: \"2024-03-10\",\n    },\n    {\n      title: \"Real Estate Market Forecast 2024\",\n      excerpt:\n        \"Expert predictions and analysis for the upcoming year in real estate.\",\n      date: \"2024-03-05\",\n    },\n  ];\n\n  React.useEffect(() => {\n    // Simulate loading\n    setTimeout(() => setLoading(false), 1000);\n  }, []);\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Market Trends & Statistics\"\n          subtitle=\"Track key market indicators and stay ahead of property market movements\"\n          backgroundImage=\"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <MarketTrends />\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { useAuth } from \"../lib/auth\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Calendar, Clock } from \"lucide-react\";\n\ninterface ArticlePageProps {\n  title: string;\n  content: string;\n  date: string;\n  readTime?: string;\n}\n\nexport function ArticlePage({\n  title = \"Understanding the Current Real Estate Market\",\n  content = \"Default content\",\n  date = new Date().toISOString(),\n  readTime = \"5 min read\",\n}: ArticlePageProps) {\n  const { user, profile } = useAuth();\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header isAuthenticated={!!user} userProfile={profile || undefined} />\n      <main className=\"container mx-auto px-4 py-8 pt-24\">\n        <div className=\"max-w-4xl mx-auto\">\n          <Card>\n            <CardContent className=\"p-8\">\n              <h1 className=\"text-3xl font-bold mb-4\">{title}</h1>\n\n              <div className=\"flex items-center gap-4 text-muted-foreground mb-8\">\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"w-4 h-4\" />\n                  <span>{new Date(date).toLocaleDateString()}</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"w-4 h-4\" />\n                  <span>{readTime}</span>\n                </div>\n              </div>\n\n              <div className=\"prose dark:prose-invert max-w-none\">\n                {content.split(\"\\n\\n\").map((paragraph, index) => (\n                  <p key={index} className=\"mb-4\">\n                    {paragraph}\n                  </p>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { ArrowRight, FileText, TrendingUp, BarChart, Lock } from \"lucide-react\";\n\ninterface ResearchReportsProps {\n  isPro?: boolean;\n}\n\nexport function ResearchReports({ isPro = false }: ResearchReportsProps) {\n  const articles = [\n    {\n      title: \"UK Property Market Analysis Q1 2024\",\n      excerpt:\n        \"Comprehensive analysis of the UK property market performance in Q1 2024, including price trends, regional variations, and future projections.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-20\",\n      readTime: \"10 min read\",\n    },\n    {\n      title: \"Investment Opportunities in Northern Cities\",\n      excerpt:\n        \"Detailed research on emerging property investment opportunities in northern UK cities, with focus on yield potential and growth areas.\",\n      category: \"Investment Research\",\n      date: \"2024-03-18\",\n      readTime: \"8 min read\",\n    },\n    {\n      title: \"Impact of Interest Rates on Property Market\",\n      excerpt:\n        \"Analysis of how recent interest rate changes are affecting the property market, mortgage rates, and buyer behavior.\",\n      category: \"Economic Analysis\",\n      date: \"2024-03-15\",\n      readTime: \"12 min read\",\n    },\n    {\n      title: \"Rental Market Trends 2024\",\n      excerpt:\n        \"Latest trends in the UK rental market, including demand patterns, yield analysis, and regulatory changes.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-12\",\n      readTime: \"7 min read\",\n    },\n    {\n      title: \"Sustainable Property Investment Guide\",\n      excerpt:\n        \"Comprehensive guide to sustainable property investment, including EPC regulations, green mortgages, and future-proofing investments.\",\n      category: \"Investment Research\",\n      date: \"2024-03-10\",\n      readTime: \"15 min read\",\n    },\n    {\n      title: \"Regional Property Price Forecast\",\n      excerpt:\n        \"Detailed forecast of property prices across UK regions, with analysis of key growth drivers and market indicators.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-08\",\n      readTime: \"9 min read\",\n    },\n  ];\n\n  return (\n    <div className=\"py-8\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {articles.map((article, index) => (\n          <Card\n            key={index}\n            className=\"hover:shadow-lg transition-shadow relative overflow-hidden\"\n          >\n            <CardHeader className=\"flex flex-row items-center gap-2 pb-2\">\n              {article.category === \"Market Analysis\" ? (\n                <TrendingUp className=\"w-5 h-5 text-blue-500\" />\n              ) : article.category === \"Investment Research\" ? (\n                <BarChart className=\"w-5 h-5 text-green-500\" />\n              ) : (\n                <FileText className=\"w-5 h-5 text-purple-500\" />\n              )}\n              <span className=\"text-sm text-muted-foreground\">\n                {article.category}\n              </span>\n            </CardHeader>\n            <CardContent className=\"relative\">\n              <div className={!isPro ? \"blur-sm\" : \"\"}>\n                <h3 className=\"text-xl font-semibold mb-2\">{article.title}</h3>\n                <p className=\"text-muted-foreground mb-4\">{article.excerpt}</p>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm text-muted-foreground\">\n                    {new Date(article.date).toLocaleDateString()} Â·{\" \"}\n                    {article.readTime}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    className=\"group hover:text-primary\"\n                    onClick={() => {\n                      window.location.href = `/article/${encodeURIComponent(article.title)}`;\n                    }}\n                  >\n                    Read More\n                    <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                  </Button>\n                </div>\n              </div>\n              {!isPro && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-background/50 backdrop-blur-[2px]\">\n                  <div className=\"text-center p-6\">\n                    <Lock className=\"w-8 h-8 text-muted-foreground mx-auto mb-2\" />\n                    <p className=\"text-sm text-muted-foreground\">\n                      Upgrade to Pro to access research reports\n                    </p>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { ResearchReports } from \"./ResearchReports\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport { Button } from \"./ui/button\";\nimport { SubscriptionModal } from \"./SubscriptionModal\";\n\nexport default function ResearchPage() {\n  const { user, profile } = useAuth();\n  const [isSubscriptionModalOpen, setIsSubscriptionModalOpen] =\n    React.useState(false);\n\n  const isPro =\n    profile?.subscription_tier === \"pro\" ||\n    profile?.subscription_tier === \"premium\";\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-background\">\n        <Header isAuthenticated={!!user} userProfile={profile || undefined} />\n        <HeroSection\n          title=\"Research & Reports\"\n          subtitle=\"Expert analysis and insights to inform your property investment decisions\"\n          backgroundImage=\"https://images.unsplash.com/photo-1434626881859-194d67b2b86f?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-4xl font-bold mb-4\">Latest Research</h1>\n              <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n                Stay informed with our comprehensive research reports and expert\n                analysis\n              </p>\n            </div>\n            {isPro ? (\n              <ResearchReports isPro={isPro} />\n            ) : (\n              <div className=\"text-center py-12\">\n                <h2 className=\"text-2xl font-semibold mb-4\">\n                  Pro Plan Required\n                </h2>\n                <p className=\"text-muted-foreground mb-6\">\n                  Access to research reports is available exclusively to Pro and\n                  Premium subscribers.\n                </p>\n                <Button onClick={() => setIsSubscriptionModalOpen(true)}>\n                  Upgrade to Pro\n                </Button>\n              </div>\n            )}\n          </div>\n        </main>\n\n        <SubscriptionModal\n          isOpen={isSubscriptionModalOpen}\n          onClose={() => setIsSubscriptionModalOpen(false)}\n        />\n      </div>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\nimport { Layout } from \"./Layout\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { ArrowRight, Calendar, Clock, Tag } from \"lucide-react\";\nimport { PageTransition } from \"./ui/page-transition\";\n\nexport default function BlogPage() {\n  const { user: _, profile: __ } = useAuth();\n\n  const blogPosts = [\n    {\n      title: \"Understanding Property Market Cycles\",\n      excerpt:\n        \"A comprehensive guide to property market cycles and how to identify market phases for optimal investment timing.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-20\",\n      readTime: \"8 min read\",\n      image:\n        \"https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-4.0.3\",\n    },\n    {\n      title: \"Buy-to-Let Investment Strategy Guide\",\n      excerpt:\n        \"Expert insights into creating a successful buy-to-let investment strategy in today's market conditions.\",\n      category: \"Investment\",\n      date: \"2024-03-18\",\n      readTime: \"10 min read\",\n      image:\n        \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\",\n    },\n    {\n      title: \"Property Tax Changes in 2024\",\n      excerpt:\n        \"Stay updated with the latest property tax regulations and how they affect property investors and homeowners.\",\n      category: \"Legal\",\n      date: \"2024-03-15\",\n      readTime: \"6 min read\",\n      image:\n        \"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3\",\n    },\n  ];\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Property Investment Blog\"\n          subtitle=\"Expert insights and analysis on the UK property market\"\n          backgroundImage=\"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8 pt-24 sm:pt-8\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {blogPosts.map((post, index) => (\n                <Card\n                  key={index}\n                  className=\"flex flex-col h-full hover:shadow-lg transition-shadow\"\n                >\n                  <div className=\"relative h-48 w-full overflow-hidden rounded-t-lg\">\n                    <img\n                      src={post.image}\n                      alt={post.title}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    <Tag className=\"w-4 h-4\" />\n                    <span className=\"text-sm text-muted-foreground\">\n                      {post.category}\n                    </span>\n                  </CardHeader>\n                  <CardContent className=\"flex-1 flex flex-col\">\n                    <h3 className=\"text-xl font-semibold mb-2\">{post.title}</h3>\n                    <p className=\"text-muted-foreground mb-4 flex-1\">\n                      {post.excerpt}\n                    </p>\n                    <div className=\"flex items-center justify-between mt-4\">\n                      <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                        <div className=\"flex items-center gap-1\">\n                          <Calendar className=\"w-4 h-4\" />\n                          <span>\n                            {new Date(post.date).toLocaleDateString()}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Clock className=\"w-4 h-4\" />\n                          <span>{post.readTime}</span>\n                        </div>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        className=\"group hover:text-primary\"\n                        onClick={() => {\n                          window.location.href = `/blog/${post.title.toLowerCase().replace(/ /g, \"-\")}`;\n                        }}\n                      >\n                        Read More\n                        <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Button } from \"./ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\nimport { Calculator, Home, Building, Percent, TrendingUp } from \"lucide-react\";\nimport { useAuth } from \"../lib/auth\";\nimport { Footer } from \"./Footer\";\n\nexport default function InvestmentCalculator() {\n  const { user, profile } = useAuth();\n  const [mortgageResult, setMortgageResult] = React.useState<number | null>(\n    null,\n  );\n  const [buyToLetResult, setBuyToLetResult] = React.useState<number | null>(\n    null,\n  );\n  const [developmentResult, setDevelopmentResult] = React.useState<\n    number | null\n  >(null);\n  const [rentalYieldResult, setRentalYieldResult] = React.useState<\n    number | null\n  >(null);\n  const [roiResult, setRoiResult] = React.useState<number | null>(null);\n\n  const [mortgageData, setMortgageData] = React.useState({\n    propertyPrice: \"\",\n    deposit: \"\",\n    interestRate: \"\",\n    term: \"\",\n  });\n\n  const [buyToLetData, setBuyToLetData] = React.useState({\n    propertyPrice: \"\",\n    deposit: \"\",\n    interestRate: \"\",\n    rentalIncome: \"\",\n  });\n\n  const [developmentData, setDevelopmentData] = React.useState({\n    purchasePrice: \"\",\n    renovationCost: \"\",\n    expectedSalePrice: \"\",\n    otherCosts: \"\",\n  });\n\n  const [rentalYieldData, setRentalYieldData] = React.useState({\n    propertyPrice: \"\",\n    annualRent: \"\",\n  });\n\n  const [roiData, setRoiData] = React.useState({\n    totalInvestment: \"\",\n    annualReturn: \"\",\n  });\n\n  const calculateMortgage = () => {\n    const P =\n      parseFloat(mortgageData.propertyPrice) - parseFloat(mortgageData.deposit);\n    const r = parseFloat(mortgageData.interestRate) / 100 / 12;\n    const n = parseFloat(mortgageData.term) * 12;\n    const monthlyPayment =\n      (P * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);\n    setMortgageResult(monthlyPayment);\n  };\n\n  const calculateBuyToLet = () => {\n    const loanAmount =\n      parseFloat(buyToLetData.propertyPrice) - parseFloat(buyToLetData.deposit);\n    const monthlyInterest =\n      (loanAmount * (parseFloat(buyToLetData.interestRate) / 100)) / 12;\n    const monthlyRental = parseFloat(buyToLetData.rentalIncome);\n    const monthlyCashflow = monthlyRental - monthlyInterest;\n    setBuyToLetResult(monthlyCashflow);\n  };\n\n  const calculateDevelopment = () => {\n    const totalCosts =\n      parseFloat(developmentData.purchasePrice) +\n      parseFloat(developmentData.renovationCost) +\n      parseFloat(developmentData.otherCosts);\n    const profit = parseFloat(developmentData.expectedSalePrice) - totalCosts;\n    setDevelopmentResult(profit);\n  };\n\n  const calculateRentalYield = () => {\n    const yield_ =\n      (parseFloat(rentalYieldData.annualRent) /\n        parseFloat(rentalYieldData.propertyPrice)) *\n      100;\n    setRentalYieldResult(yield_);\n  };\n\n  const calculateROI = () => {\n    const roi =\n      (parseFloat(roiData.annualReturn) / parseFloat(roiData.totalInvestment)) *\n      100;\n    setRoiResult(roi);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header isAuthenticated={!!user} userProfile={profile || undefined} />\n      <HeroSection\n        title=\"Property Investment Calculators\"\n        subtitle=\"Make informed decisions with our comprehensive suite of property investment calculators\"\n        backgroundImage=\"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3\"\n        showSearch={false}\n        showStats={false}\n        height=\"h-[400px]\"\n      />\n      <main className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-4xl mx-auto space-y-8\">\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold mb-2\">Investment Calculators</h1>\n            <p className=\"text-muted-foreground\">\n              Calculate different aspects of your property investment\n            </p>\n          </div>\n\n          <Tabs defaultValue=\"mortgage\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-5\">\n              <TabsTrigger value=\"mortgage\" className=\"flex items-center gap-2\">\n                <Home className=\"w-4 h-4\" /> Mortgage\n              </TabsTrigger>\n              <TabsTrigger value=\"buytolet\" className=\"flex items-center gap-2\">\n                <Building className=\"w-4 h-4\" /> Buy to Let\n              </TabsTrigger>\n              <TabsTrigger\n                value=\"development\"\n                className=\"flex items-center gap-2\"\n              >\n                <Calculator className=\"w-4 h-4\" /> Development\n              </TabsTrigger>\n              <TabsTrigger\n                value=\"rentalyield\"\n                className=\"flex items-center gap-2\"\n              >\n                <Percent className=\"w-4 h-4\" /> Rental Yield\n              </TabsTrigger>\n              <TabsTrigger value=\"roi\" className=\"flex items-center gap-2\">\n                <TrendingUp className=\"w-4 h-4\" /> ROI\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"mortgage\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Mortgage Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Property Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.propertyPrice}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            propertyPrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Deposit (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.deposit}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            deposit: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Interest Rate (%)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.interestRate}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            interestRate: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Term (Years)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.term}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            term: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateMortgage} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {mortgageResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Monthly Payment: Â£{mortgageResult.toFixed(2)}\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"buytolet\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Buy to Let Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Property Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.propertyPrice}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            propertyPrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Deposit (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.deposit}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            deposit: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Interest Rate (%)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.interestRate}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            interestRate: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Monthly Rental Income (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.rentalIncome}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            rentalIncome: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateBuyToLet} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {buyToLetResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Monthly Cashflow: Â£{buyToLetResult.toFixed(2)}\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"development\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Development Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Purchase Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.purchasePrice}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            purchasePrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Renovation Cost (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.renovationCost}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            renovationCost: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Expected Sale Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.expectedSalePrice}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            expectedSalePrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Other Costs (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.otherCosts}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            otherCosts: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateDevelopment} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {developmentResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Expected Profit: Â£{developmentResult.toFixed(2)}\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"rentalyield\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Rental Yield Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Property Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={rentalYieldData.propertyPrice}\n                        onChange={(e) =>\n                          setRentalYieldData({\n                            ...rentalYieldData,\n                            propertyPrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Annual Rental Income (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={rentalYieldData.annualRent}\n                        onChange={(e) =>\n                          setRentalYieldData({\n                            ...rentalYieldData,\n                            annualRent: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateRentalYield} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {rentalYieldResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Rental Yield: {rentalYieldResult.toFixed(2)}%\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"roi\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">ROI Calculator</h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Total Investment (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={roiData.totalInvestment}\n                        onChange={(e) =>\n                          setRoiData({\n                            ...roiData,\n                            totalInvestment: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Annual Return (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={roiData.annualReturn}\n                        onChange={(e) =>\n                          setRoiData({\n                            ...roiData,\n                            annualReturn: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateROI} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {roiResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        ROI: {roiResult.toFixed(2)}%\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Textarea } from \"./ui/textarea\";\nimport {\n  Mail,\n  Phone,\n  MessageCircle,\n  FileText,\n  HelpCircle,\n  Book,\n} from \"lucide-react\";\nimport { Layout } from \"./Layout\";\nimport HeroSection from \"./HeroSection\";\nimport { PageTransition } from \"./ui/page-transition\";\n\nexport default function HelpSupportPage() {\n  const supportCategories = [\n    {\n      title: \"Getting Started\",\n      icon: <Book className=\"w-5 h-5\" />,\n      description: \"Learn the basics of using our platform\",\n      content: [\n        \"How to search for properties\",\n        \"Understanding market insights\",\n        \"Setting up your account\",\n        \"Subscription plans overview\",\n      ],\n    },\n    {\n      title: \"Account & Billing\",\n      icon: <FileText className=\"w-5 h-5\" />,\n      description: \"Manage your account and subscription\",\n      content: [\n        \"Updating account details\",\n        \"Subscription management\",\n        \"Billing history\",\n        \"Payment methods\",\n      ],\n    },\n    {\n      title: \"Technical Support\",\n      icon: <HelpCircle className=\"w-5 h-5\" />,\n      description: \"Get help with technical issues\",\n      content: [\n        \"Troubleshooting guide\",\n        \"System requirements\",\n        \"Known issues\",\n        \"Browser compatibility\",\n      ],\n    },\n  ];\n\n  const contactMethods = [\n    {\n      icon: <Mail className=\"w-5 h-5\" />,\n      title: \"Email Support\",\n      description: \"Get help via email\",\n      action: \"support@myvge.co.uk\",\n      buttonText: \"Send Email\",\n      onClick: () => (window.location.href = \"mailto:support@myvge.co.uk\"),\n    },\n    {\n      icon: <Phone className=\"w-5 h-5\" />,\n      title: \"Phone Support\",\n      description: \"Speak to our team\",\n      action: \"0800 123 4567\",\n      buttonText: \"Call Now\",\n      onClick: () => (window.location.href = \"tel:08001234567\"),\n    },\n    {\n      icon: <MessageCircle className=\"w-5 h-5\" />,\n      title: \"Live Chat\",\n      description: \"Chat with our support team\",\n      action: \"Available 24/7\",\n      buttonText: \"Start Chat\",\n      onClick: () => {\n        const event = new CustomEvent(\"open-messages\", {\n          detail: { receiverId: \"support\" },\n        });\n        window.dispatchEvent(event);\n      },\n    },\n  ];\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Help & Support Center\"\n          subtitle=\"Get the assistance you need with our comprehensive support resources\"\n          backgroundImage=\"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-7xl mx-auto space-y-12\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {supportCategories.map((category, index) => (\n                <Card key={index} className=\"hover:shadow-lg transition-shadow\">\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    {category.icon}\n                    <div>\n                      <h3 className=\"font-semibold\">{category.title}</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {category.description}\n                      </p>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    <ul className=\"space-y-2\">\n                      {category.content.map((item, i) => (\n                        <li key={i} className=\"text-sm\">\n                          â¢ {item}\n                        </li>\n                      ))}\n                    </ul>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n\n            <div className=\"bg-card shadow rounded-lg p-8\">\n              <div className=\"text-center mb-8\">\n                <h2 className=\"text-2xl font-bold mb-2\">Contact Support</h2>\n                <p className=\"text-muted-foreground\">\n                  Choose your preferred method of contact\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {contactMethods.map((method, index) => (\n                  <Card\n                    key={index}\n                    className=\"hover:shadow-lg transition-shadow\"\n                  >\n                    <CardContent className=\"p-6 text-center\">\n                      <div className=\"mb-4 flex justify-center\">\n                        {method.icon}\n                      </div>\n                      <h3 className=\"font-semibold mb-2\">{method.title}</h3>\n                      <p className=\"text-sm text-muted-foreground mb-2\">\n                        {method.description}\n                      </p>\n                      <p className=\"text-sm font-medium mb-4\">\n                        {method.action}\n                      </p>\n                      <Button onClick={method.onClick} className=\"w-full\">\n                        {method.buttonText}\n                      </Button>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","const GEMINI_API_KEY = import.meta.env.VITE_GEMINI_API_KEY;\n\nexport const popularQuestions = [\n  \"Calculate stamp duty for a Â£400,000 property\",\n  \"What are typical legal fees for property purchase?\",\n  \"Explain all costs involved in buying a property\",\n  \"How much should I budget for property maintenance?\",\n  \"What surveys do I need when buying a property?\",\n  \"Calculate monthly mortgage payments for Â£300,000\",\n];\n\nexport async function getChatResponse(message: string) {\n  try {\n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          contents: [\n            {\n              parts: [\n                {\n                  text: `You are a UK property cost assistant specializing in helping users understand and calculate all costs involved in property transactions. You have expertise in:\n\n1. Stamp Duty Land Tax calculations\n2. Legal fees and conveyancing costs\n3. Survey and valuation fees\n4. Mortgage arrangement fees\n5. Property maintenance costs\n6. Insurance costs\n7. Property management fees\n8. Tax implications\n\nProvide specific numbers and calculations when possible. For professional services, explain what to look for and typical cost ranges. Always break down complex costs into clear categories.\n\nIf asked about stamp duty, always show the calculation breakdown and mention if there are any special rates (e.g., first-time buyers, additional properties).\n\nFor maintenance costs, provide annual percentages of property value and specific examples of common maintenance items.\n\nUser question: ${message}`,\n                },\n              ],\n            },\n          ],\n        }),\n      },\n    );\n\n    const data = await response.json();\n    return data.candidates[0].content.parts[0].text;\n  } catch (error) {\n    console.error(\"Error getting chat response:\", error);\n    return \"I'm sorry, I'm having trouble processing your request right now. Please try again later.\";\n  }\n}\n","import React from \"react\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Card } from \"./ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\nimport {\n  MessageCircle,\n  Send,\n  X,\n  Bot,\n  Users,\n  HeadphonesIcon,\n} from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { getChatResponse, popularQuestions } from \"../lib/chat\";\nimport { useAuth } from \"../lib/auth\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\nimport { supabase } from \"../lib/supabase\";\n\ninterface Message {\n  text: string;\n  isUser: boolean;\n  sender?: {\n    full_name: string;\n    email: string;\n  };\n  timestamp?: string;\n}\n\ninterface Contact {\n  id: string;\n  full_name: string;\n  email: string;\n  last_message?: string;\n  unread_count?: number;\n}\n\nexport function ChatBot() {\n  const { user, profile } = useAuth();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [activeTab, setActiveTab] = React.useState(\"ai\");\n  const [messages, setMessages] = React.useState<Message[]>([]);\n  const [input, setInput] = React.useState(\"\");\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [contacts, setContacts] = React.useState<Contact[]>([]);\n  const [selectedContact, setSelectedContact] = React.useState<Contact | null>(\n    null,\n  );\n  const scrollRef = React.useRef<HTMLDivElement>(null);\n\n  // Load contacts for direct messaging\n  React.useEffect(() => {\n    if (user) {\n      loadContacts();\n\n      // Listen for open-messages event\n      const handleOpenMessages = (e: CustomEvent) => {\n        setIsOpen(true);\n        setActiveTab(\"messages\");\n        const receiverId = e.detail.receiverId;\n        const contact = contacts.find((c) => c.id === receiverId);\n        if (contact) {\n          setSelectedContact(contact);\n        }\n      };\n\n      window.addEventListener(\n        \"open-messages\",\n        handleOpenMessages as EventListener,\n      );\n      return () =>\n        window.removeEventListener(\n          \"open-messages\",\n          handleOpenMessages as EventListener,\n        );\n    }\n  }, [user, contacts]);\n\n  const loadContacts = async () => {\n    try {\n      const { data: messages } = await supabase\n        .from(\"messages\")\n        .select(\n          `\n          *,\n          sender:profiles!messages_sender_id_fkey(id, full_name, email),\n          receiver:profiles!messages_receiver_id_fkey(id, full_name, email)\n        `,\n        )\n        .or(`sender_id.eq.${user?.id},receiver_id.eq.${user?.id}`)\n        .order(\"created_at\", { ascending: false });\n\n      if (!messages) return;\n\n      // Create unique contacts list\n      const uniqueContacts = new Map<string, Contact>();\n      messages.forEach((msg) => {\n        const contact = msg.sender.id === user?.id ? msg.receiver : msg.sender;\n        if (!uniqueContacts.has(contact.id)) {\n          uniqueContacts.set(contact.id, {\n            id: contact.id,\n            full_name: contact.full_name,\n            email: contact.email,\n            last_message: msg.content,\n            unread_count: msg.receiver_id === user?.id && !msg.is_read ? 1 : 0,\n          });\n        }\n      });\n\n      setContacts(Array.from(uniqueContacts.values()));\n    } catch (error) {\n      console.error(\"Error loading contacts:\", error);\n    }\n  };\n\n  const handleSend = async (text: string) => {\n    if (!text.trim()) return;\n\n    if (activeTab === \"ai\") {\n      // AI Assistant\n      setMessages((prev) => [...prev, { text, isUser: true }]);\n      setInput(\"\");\n      setIsLoading(true);\n\n      try {\n        const response = await getChatResponse(text);\n        setMessages((prev) => [...prev, { text: response, isUser: false }]);\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      // Direct Message or Support\n      if (!user || !selectedContact) return;\n\n      try {\n        const { data, error } = await supabase.from(\"messages\").insert([\n          {\n            sender_id: user.id,\n            receiver_id: selectedContact.id,\n            content: text,\n            is_support: activeTab === \"support\",\n          },\n        ]);\n\n        if (error) throw error;\n\n        setMessages((prev) => [\n          ...prev,\n          {\n            text,\n            isUser: true,\n            sender: {\n              full_name: profile?.full_name || \"\",\n              email: profile?.email || \"\",\n            },\n            timestamp: new Date().toISOString(),\n          },\n        ]);\n        setInput(\"\");\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n      }\n    }\n  };\n\n  const scrollToBottom = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  };\n\n  React.useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  React.useEffect(() => {\n    scrollToBottom();\n  }, [isLoading]);\n\n  // Subscribe to new messages\n  React.useEffect(() => {\n    if (!user || !selectedContact) return;\n\n    const subscription = supabase\n      .channel(`messages:${user.id}:${selectedContact.id}`)\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"INSERT\",\n          schema: \"public\",\n          table: \"messages\",\n          filter: `or(and(sender_id.eq.${user.id},receiver_id.eq.${selectedContact.id}),and(sender_id.eq.${selectedContact.id},receiver_id.eq.${user.id}))`,\n        },\n        (payload) => {\n          const newMessage = payload.new;\n          if (newMessage.sender_id !== user.id) {\n            setMessages((prev) => [\n              ...prev,\n              {\n                text: newMessage.content,\n                isUser: false,\n                sender: selectedContact,\n                timestamp: newMessage.created_at,\n              },\n            ]);\n          }\n        },\n      )\n      .subscribe();\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [user, selectedContact]);\n\n  return (\n    <>\n      <Button\n        className=\"fixed bottom-4 right-4 rounded-full w-12 h-12 p-0 shadow-lg\"\n        onClick={() => setIsOpen(true)}\n      >\n        <MessageCircle className=\"w-6 h-6\" />\n      </Button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 20 }}\n            className=\"fixed bottom-20 right-4 w-full sm:w-[380px] md:w-[420px] max-w-[95vw] z-50\"\n          >\n            <Card className=\"overflow-hidden shadow-xl border-primary/20\">\n              <Tabs defaultValue={activeTab} onValueChange={setActiveTab}>\n                <div className=\"p-4 border-b flex items-center justify-between bg-primary/5\">\n                  <TabsList>\n                    <TabsTrigger value=\"ai\" className=\"flex items-center gap-2\">\n                      <Bot className=\"w-4 h-4\" /> AI Assistant\n                    </TabsTrigger>\n                    <TabsTrigger\n                      value=\"messages\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      <Users className=\"w-4 h-4\" /> Messages\n                    </TabsTrigger>\n                    <TabsTrigger\n                      value=\"support\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      <HeadphonesIcon className=\"w-4 h-4\" /> Support\n                    </TabsTrigger>\n                  </TabsList>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    onClick={() => setIsOpen(false)}\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n\n                <TabsContent value=\"ai\" className=\"m-0\">\n                  <div\n                    ref={scrollRef}\n                    className=\"h-96 p-4 space-y-4 overflow-y-auto\"\n                  >\n                    {messages.length === 0 ? (\n                      <div className=\"space-y-4\">\n                        <p className=\"text-sm text-muted-foreground\">\n                          Hello! I'm your property assistant. Ask me anything\n                          about property investment, or try one of these popular\n                          questions:\n                        </p>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {popularQuestions.map((question, index) => (\n                            <Button\n                              key={index}\n                              variant=\"outline\"\n                              size=\"sm\"\n                              className=\"text-xs\"\n                              onClick={() => handleSend(question)}\n                            >\n                              {question}\n                            </Button>\n                          ))}\n                        </div>\n                      </div>\n                    ) : (\n                      messages.map((message, index) => (\n                        <div\n                          key={index}\n                          className={`flex ${message.isUser ? \"justify-end\" : \"justify-start\"}`}\n                        >\n                          <div\n                            className={`max-w-[80%] rounded-lg p-3 ${message.isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n                          >\n                            <p className=\"text-sm\">{message.text}</p>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                    {isLoading && (\n                      <div className=\"flex justify-start\">\n                        <div className=\"max-w-[80%] rounded-lg p-3 bg-muted\">\n                          <p className=\"text-sm\">Typing...</p>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </TabsContent>\n\n                <TabsContent value=\"messages\" className=\"m-0\">\n                  <div\n                    ref={scrollRef}\n                    className=\"h-96 p-4 space-y-4 overflow-y-auto\"\n                  >\n                    {!user ? (\n                      <div className=\"text-center p-4\">\n                        <p className=\"text-sm text-muted-foreground mb-2\">\n                          Please sign in to view messages\n                        </p>\n                      </div>\n                    ) : !selectedContact ? (\n                      <div className=\"space-y-4\">\n                        {contacts.map((contact) => (\n                          <div\n                            key={contact.id}\n                            className=\"flex items-center justify-between p-2 hover:bg-muted rounded-lg cursor-pointer\"\n                            onClick={() => setSelectedContact(contact)}\n                          >\n                            <div className=\"flex items-center gap-2\">\n                              <Avatar className=\"h-8 w-8\">\n                                <AvatarImage\n                                  src={`https://ui-avatars.com/api/?name=${encodeURIComponent(contact.full_name)}&background=random`}\n                                  alt={contact.full_name}\n                                />\n                                <AvatarFallback>\n                                  {contact.full_name\n                                    ?.split(\" \")\n                                    .map((n) => n[0])\n                                    .join(\"\")}\n                                </AvatarFallback>\n                              </Avatar>\n                              <div>\n                                <p className=\"font-medium\">\n                                  {contact.full_name}\n                                </p>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  {contact.last_message}\n                                </p>\n                              </div>\n                            </div>\n                            {contact.unread_count > 0 && (\n                              <span className=\"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full\">\n                                {contact.unread_count}\n                              </span>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"space-y-4\">\n                        {messages.map((message, index) => (\n                          <div\n                            key={index}\n                            className={`flex ${message.isUser ? \"justify-end\" : \"justify-start\"}`}\n                          >\n                            <div\n                              className={`max-w-[80%] rounded-lg p-3 ${message.isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n                            >\n                              <p className=\"text-sm\">{message.text}</p>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  {selectedContact && (\n                    <div className=\"p-4 border-t\">\n                      <div className=\"flex gap-2\">\n                        <Input\n                          value={input}\n                          onChange={(e) => setInput(e.target.value)}\n                          placeholder=\"Type a message...\"\n                          onKeyPress={(e) => {\n                            if (e.key === \"Enter\") {\n                              handleSend(input);\n                            }\n                          }}\n                        />\n                        <Button\n                          onClick={() => handleSend(input)}\n                          disabled={!input.trim()}\n                        >\n                          <Send className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  )}\n                </TabsContent>\n\n                <TabsContent value=\"support\" className=\"m-0\">\n                  <div\n                    ref={scrollRef}\n                    className=\"h-96 p-4 space-y-4 overflow-y-auto\"\n                  >\n                    {messages.length === 0 ? (\n                      <div className=\"space-y-4\">\n                        <p className=\"text-sm text-muted-foreground\">\n                          Welcome to support! How can we help you today?\n                        </p>\n                      </div>\n                    ) : (\n                      messages.map((message, index) => (\n                        <div\n                          key={index}\n                          className={`flex ${message.isUser ? \"justify-end\" : \"justify-start\"}`}\n                        >\n                          <div\n                            className={`max-w-[80%] rounded-lg p-3 ${message.isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n                          >\n                            <p className=\"text-sm\">{message.text}</p>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n\n                  <div className=\"p-4 border-t\">\n                    <div className=\"flex gap-2\">\n                      <Input\n                        value={input}\n                        onChange={(e) => setInput(e.target.value)}\n                        placeholder=\"Type your support question...\"\n                        onKeyPress={(e) => {\n                          if (e.key === \"Enter\") {\n                            handleSend(input);\n                          }\n                        }}\n                      />\n                      <Button\n                        onClick={() => handleSend(input)}\n                        disabled={!input.trim()}\n                      >\n                        <Send className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </TabsContent>\n              </Tabs>\n            </Card>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../lib/supabase\";\n\nexport default function AuthCallback() {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    supabase.auth.onAuthStateChange((event, session) => {\n      console.log(\"Auth state change:\", event, session); // Add this line\n      if (event === \"SIGNED_IN\") {\n        navigate(\"/dashboard\");\n      }\n    });\n\n    // Handle the initial session\n    const handleInitialSession = async () => {\n      const {\n        data: { session },\n      } = await supabase.auth.getSession();\n      console.log(\"Initial session:\", session); // Add this line\n      if (session) {\n        navigate(\"/dashboard\");\n      } else {\n        navigate(\"/\");\n      }\n    };\n\n    handleInitialSession();\n  }, [navigate]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-semibold mb-2\">Authenticating...</h2>\n        <p className=\"text-muted-foreground\">\n          Please wait while we verify your credentials.\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport { PasswordProtect } from \"./components/PasswordProtect\";\nimport { Loading } from \"./components/ui/loading\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport {\n  useLocation,\n  useNavigate,\n  useRoutes,\n  Routes,\n  Route,\n} from \"react-router-dom\";\nimport { ProgressBar } from \"./components/ui/progress-bar\";\nimport { AuthProvider } from \"./lib/auth\";\nimport { Toaster } from \"./components/ui/toaster\";\nimport Home from \"./components/home\";\nimport Dashboard from \"./components/Dashboard\";\nimport PricingPage from \"./components/PricingPage\";\nimport SubscriptionSuccess from \"./components/SubscriptionSuccess\";\nimport SubscriptionCancel from \"./components/SubscriptionCancel\";\nimport AccountSettings from \"./components/AccountSettings\";\nimport { RequireAuth } from \"./components/RequireAuth\";\nimport routes from \"tempo-routes\";\nimport FeaturedProperties from \"./components/SearchResults\";\nimport MarketInsightsPage from \"./components/MarketInsightsPage\";\nimport MarketTrendsPage from \"./components/MarketTrendsPage\";\nimport { ArticlePage } from \"./components/ArticlePage\";\nimport ResearchPage from \"./components/ResearchPage\";\nimport BlogPage from \"./components/BlogPage\";\nimport InvestmentCalculator from \"./components/InvestmentCalculator\";\nimport HelpSupportPage from \"./components/HelpSupportPage\";\nimport { ChatBot } from \"./components/ChatBot\";\nimport AuthCallback from \"./components/AuthCallback\";\n\nfunction AppContent() {\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const handleStart = () => setIsLoading(true);\n    const handleStop = () => setIsLoading(false);\n\n    handleStart();\n    const timer = setTimeout(handleStop, 100);\n\n    return () => clearTimeout(timer);\n  }, [location.pathname]);\n\n  useEffect(() => {\n    document.documentElement.classList.remove(\"dark\");\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {isLoading && <ProgressBar />}\n      <motion.div\n        key={location.pathname}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.2 }}\n      >\n        <Suspense fallback={<Loading />}>\n          <Routes location={location}>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/deals\" element={<FeaturedProperties />} />\n            <Route\n              path=\"/dashboard\"\n              element={\n                <RequireAuth>\n                  <Dashboard />\n                </RequireAuth>\n              }\n            />\n            <Route path=\"/pricing\" element={<PricingPage />} />\n            <Route\n              path=\"/subscription/success\"\n              element={<SubscriptionSuccess />}\n            />\n            <Route\n              path=\"/subscription/cancel\"\n              element={<SubscriptionCancel />}\n            />\n            <Route\n              path=\"/account\"\n              element={\n                <RequireAuth>\n                  <AccountSettings />\n                </RequireAuth>\n              }\n            />\n            <Route path=\"/insights\" element={<MarketInsightsPage />} />\n            <Route path=\"/trends\" element={<AuthProvider><MarketTrendsPage /></AuthProvider>} />\n            <Route path=\"/research\" element={<ResearchPage />} />\n            <Route path=\"/blog\" element={<BlogPage />} />\n            <Route path=\"/article/:title\" element={<ArticlePage />} />\n            <Route path=\"/blog/:slug\" element={<ArticlePage />} />\n            <Route path=\"/calculators\" element={<InvestmentCalculator />} />\n            <Route path=\"/help\" element={<HelpSupportPage />} />\n            <Route path=\"/auth/callback\" element={<AuthCallback />} />\n            {import.meta.env.VITE_TEMPO === \"true\" && (\n              <Route path=\"/tempobook/*\" />\n            )}\n          </Routes>\n        </Suspense>\n      </motion.div>\n      {import.meta.env.VITE_TEMPO === \"true\" && useRoutes(routes)}\n      <Toaster />\n      <ChatBot />\n    </div>\n  );\n}\n\nexport default function App() {\n  const [isAuthenticated, setIsAuthenticated] = React.useState(() => {\n    return localStorage.getItem(\"password-protected\") === \"true\";\n  });\n\n  if (!isAuthenticated) {\n    return <PasswordProtect onSuccess={() => setIsAuthenticated(true)} />;\n  }\n\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App.tsx\";\nimport \"./index.css\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { TempoDevtools } from \"tempo-devtools\";\nimport { AuthProvider } from \"./lib/auth\";\nTempoDevtools.init();\n\nReactDOM.createRoot(document.getElementById(\"root\")!).render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n);\n"],"names":["cn","inputs","twMerge","clsx","Card","forwardRef","className","props","ref","_jsx","div","displayName","CardHeader","CardTitle","h3","CardDescription","p","CardContent","CardFooter","Input","type","input","buttonVariants","cva","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","React","asChild","Comp","Slot","PasswordProtect","onSuccess","password","setPassword","useState","error","setError","handleSubmit","e","preventDefault","setItem","img","src","alt","Lock","h2","form","onSubmit","placeholder","value","onChange","target","ArrowRight","Loading","NProgress","configure","showSpinner","trickleSpeed","minimum","ProgressBar","useEffect","start","done","supabaseUrl","supabaseAnonKey","console","log","supabase","createClient","auth","persistSession","storageKey","storage","window","localStorage","autoRefreshToken","detectSessionInUrl","AuthContext","undefined","AuthProvider","children","user","setUser","profile","setProfile","isLoading","setIsLoading","fetchProfile","userId","data","profileError","from","select","eq","single","refreshedProfile","refreshError","session","getSession","id","subscription","onAuthStateChange","event","unsubscribe","signUp","email","firstName","lastName","options","first_name","last_name","emailRedirectTo","insert","full_name","role","subscription_tier","subscription_status","created_at","Date","toISOString","updated_at","signIn","signInWithPassword","message","includes","Error","signInWithGoogle","signInWithOAuth","provider","redirectTo","signOut","removeItem","location","href","Provider","useAuth","context","useContext","ToastProvider","ToastPrimitives","ToastViewport","toastVariants","Toast","ToastAction","ToastClose","toast-close","Cross2Icon","ToastTitle","ToastDescription","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","Number","MAX_SAFE_INTEGER","toString","toastTimeouts","Map","addToRemoveQueue","toastId","has","timeout","setTimeout","delete","dispatch","set","reducer","state","action","toasts","toast","slice","map","t","forEach","open","filter","listeners","memoryState","listener","update","dismiss","onOpenChange","useToast","setState","push","index","indexOf","splice","Toaster","title","description","MobileNav","isOpen","onClose","AnimatePresence","motion","initial","opacity","animate","exit","transition","duration","y","delay","a","onClick","X","NavigationMenu","_jsxs","NavigationMenuPrimitive","NavigationMenuViewport","NavigationMenuList","NavigationMenuItem","navigationMenuTriggerStyle","NavigationMenuTrigger","ChevronDown","aria-hidden","NavigationMenuContent","NavigationMenuLink","NavigationMenuIndicator","Avatar","AvatarPrimitive","AvatarImage","AvatarFallback","DropdownMenu","DropdownMenuPrimitive","DropdownMenuTrigger","DropdownMenuSubTrigger","inset","ChevronRightIcon","DropdownMenuSubContent","DropdownMenuContent","sideOffset","DropdownMenuItem","DropdownMenuCheckboxItem","checked","span","CheckIcon","DropdownMenuRadioItem","DotFilledIcon","DropdownMenuLabel","DropdownMenuSeparator","Header","isAuthenticated","onSignIn","onSignUp","userProfile","showMobileMenu","setShowMobileMenu","navigate","useNavigate","handleSignOut","ListItem","li","_Fragment","header","ul","Menu","Crown","encodeURIComponent","split","Boolean","n","join","toUpperCase","align","forceMount","pathname","LayoutDashboard","Settings","LogOut","LogIn","UserPlus","nav","h4","HeroSection","onSearch","backgroundImage","subtitle","showSearch","showStats","height","searchTerm","setSearchTerm","style","h1","Search","useBitcoinPrice","btcPrice","setBtcPrice","loading","setLoading","fetchPrice","priceText","fetch","method","headers","body","JSON","stringify","contents","parts","text","json","candidates","content","price","parseFloat","replace","isNaN","interval","setInterval","clearInterval","convertGBPtoBTC","gbpAmount","BitcoinPrice","amount","btcAmount","Bitcoin","toFixed","PROPERTY_FALLBACK_IMAGES","DEAL_FALLBACK_IMAGES","PropertyCard","address","squareFootage","bedrooms","bathrooms","isPremium","isSubscriber","assignedUser","author","status","potential_profit","roi_percentage","images","onMessageAuthor","isImageLoading","setIsImageLoading","fallbackImage","useMemo","fallbackImages","Math","floor","random","length","Array","isArray","onLoad","toLocaleString","MessageCircle","Tabs","TabsPrimitive","TabsList","TabsTrigger","TabsContent","MarketTrends","trends","change","isPositive","articles","excerpt","date","priceData","month","regionalData","region","growth","section","defaultValue","ResponsiveContainer","width","AreaChart","defs","linearGradient","x1","y1","x2","y2","stop","offset","stopColor","stopOpacity","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Area","stroke","fillOpacity","fill","LineChart","Line","trend","PoundSterling","Home","TrendingUp","article","toLocaleDateString","day","year","alertVariants","Alert","AlertTitle","h5","AlertDescription","SubscriptionCTA","onSubscribe","Dialog","DialogPrimitive","DialogPortal","DialogOverlay","DialogContent","DialogHeader","DialogTitle","DialogDescription","labelVariants","Label","LabelPrimitive","SUBSCRIPTION_TIERS","BASIC","name","priceId","features","PRO","PREMIUM","createCheckoutSession","response","sessionId","stripe","loadStripe","define_import_meta_env_default","VITE_STRIPE_PUBLIC_KEY","redirectToCheckout","AuthModal","defaultMode","mode","setMode","isSubmitting","setIsSubmitting","showConfirmation","setShowConfirmation","formData","setFormData","pendingPriceId","getItem","htmlFor","prev","required","disabled","SubscriptionPlans","currentTier","Object","entries","key","tier","feature","Check","toLowerCase","SubscriptionModal","handleSubscribe","CustomEvent","detail","dispatchEvent","Textarea","textarea","profanityList","filterProfanity","filteredText","word","regex","RegExp","repeat","sendMessage","senderId","receiverId","filteredContent","sender_id","receiver_id","getConversation","otherId","or","order","ascending","PropertyMessages","messages","setMessages","newMessage","setNewMessage","messagesEndRef","useRef","loadMessages","channel","on","schema","table","subscribe","scrollToBottom","current","scrollIntoView","behavior","trim","isSender","sender","receiver","toLocaleTimeString","MessagesModal","RandomFact","fact","setFact","then","catch","Lightbulb","Footer","footer","getFullYear","LegalDisclaimer","Info","CarouselContext","createContext","useCarousel","Carousel","orientation","opts","setApi","plugins","carouselRef","api","useEmblaCarousel","axis","canScrollPrev","setCanScrollPrev","canScrollNext","setCanScrollNext","onSelect","scrollPrev","scrollNext","handleKeyDown","off","onKeyDownCapture","aria-roledescription","CarouselContent","CarouselItem","CarouselPrevious","ArrowLeftIcon","CarouselNext","ArrowRightIcon","partners","logo","PartnersCarousel","loop","partner","searchProperties","limit","getSavedProperties","searchResults","setSearchResults","isSearching","setIsSearching","isAuthModalOpen","setIsAuthModalOpen","isSubscriptionModalOpen","setIsSubscriptionModalOpen","authMode","setAuthMode","isMessagesModalOpen","setIsMessagesModalOpen","selectedReceiverId","setSelectedReceiverId","loadFeaturedProperties","mockProperties","handleOpenAuthModal","handleOpenMessages","addEventListener","removeEventListener","handleSearch","term","results","city","postcode","square_footage","is_premium","onSignOut","main","_","i","property","AddPropertyModal","setAssignedUser","users","setUsers","imageUrl","parseInt","property_type","created_by","assigned_user_id","option","Layout","Dashboard","savedProperties","setSavedProperties","addedProperties","setAddedProperties","isAddPropertyModalOpen","setIsAddPropertyModalOpen","portfolioStats","setPortfolioStats","totalProperties","totalValue","averagePrice","totalProfit","monthlyIncome","loadUsers","useCallback","updateUserSubscription","loadProperties","saved","added","Promise","all","reduce","sum","prop","monthly_income","Plus","Building2","Users","confirm","newPassword","prompt","admin","updateUserById","alert","Star","PricingPage","OnboardingModal","step","setStep","profileImage","bannerImage","selectedWidgets","handleComplete","avatar_url","banner_url","dashboard_widgets","onboarding_completed","steps","component","widget","w","s","max","min","SubscriptionSuccess","searchParams","useSearchParams","showOnboarding","setShowOnboarding","get","svg","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","SubscriptionCancel","timer","clearTimeout","AccountSettings","fullName","avatarUrl","currentPassword","confirmPassword","handleUpdateProfile","updates","upsert","handleUpdatePassword","updateUser","RequireAuth","routes","PageTransition","PropertyDetailsModal","predictionData","currentYear","basePrice","deal_price","growthRate","round","pow","tickFormatter","formatter","original_price","getFeaturedDeals","FeaturedProperties","isLoadingProp","properties","setProperties","selectedProperty","setSelectedProperty","handleMessageAuthor","authorId","fetchPropertyNews","url","publishedAt","generateMarketInsights","formattedPrompt","ok","insights","storeMarketInsights","generated_at","getLatestMarketInsights","maybeSingle","MarketInsightsPage","news","setNews","setInsights","newsData","latestInsights","getTime","now","newInsights","AlertTriangle","line","startsWith","Newspaper","MarketTrendsPage","ArticlePage","readTime","Calendar","Clock","paragraph","ResearchReports","isPro","category","BarChart","FileText","ResearchPage","BlogPage","blogPosts","image","post","Tag","InvestmentCalculator","mortgageResult","setMortgageResult","buyToLetResult","setBuyToLetResult","developmentResult","setDevelopmentResult","rentalYieldResult","setRentalYieldResult","roiResult","setRoiResult","mortgageData","setMortgageData","propertyPrice","deposit","interestRate","buyToLetData","setBuyToLetData","rentalIncome","developmentData","setDevelopmentData","purchasePrice","renovationCost","expectedSalePrice","otherCosts","rentalYieldData","setRentalYieldData","annualRent","roiData","setRoiData","totalInvestment","annualReturn","calculateMortgage","P","r","monthlyPayment","calculateBuyToLet","monthlyInterest","monthlyCashflow","calculateDevelopment","totalCosts","profit","calculateRentalYield","yield_","calculateROI","roi","Building","Calculator","Percent","HelpSupportPage","supportCategories","Book","HelpCircle","contactMethods","Mail","buttonText","Phone","item","GEMINI_API_KEY","popularQuestions","getChatResponse","ChatBot","setIsOpen","activeTab","setActiveTab","setInput","contacts","setContacts","selectedContact","setSelectedContact","scrollRef","loadContacts","contact","find","c","uniqueContacts","msg","last_message","unread_count","is_read","values","handleSend","isUser","is_support","timestamp","scrollTop","scrollHeight","payload","new","onValueChange","Bot","HeadphonesIcon","question","onKeyPress","Send","AuthCallback","handleInitialSession","AppContent","useLocation","handleStart","handleStop","documentElement","classList","remove","Suspense","fallback","Routes","Route","element","VITE_TEMPO","useRoutes","App","setIsAuthenticated","TempoDevtools","init","ReactDOM","createRoot","document","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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"}