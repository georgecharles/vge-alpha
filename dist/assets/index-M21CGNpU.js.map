{"version":3,"file":"index-M21CGNpU.js","sources":["../../src/lib/utils.ts","../../src/components/ui/card.tsx","../../src/components/ui/input.tsx","../../src/components/ui/button.tsx","../../src/components/PasswordProtect.tsx","../../src/components/ui/loading.tsx","../../src/components/ui/progress-bar.tsx","../../src/lib/supabase.ts","../../src/lib/auth.tsx","../../src/components/ui/toast.tsx","../../src/components/ui/use-toast.ts","../../src/components/ui/toaster.tsx","../../src/components/MobileNav.jsx","../../src/components/ui/navigation-menu.tsx","../../src/components/ui/avatar.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/Header.tsx","../../src/components/HeroSection.tsx","../../src/lib/properties.ts","../../src/components/PropertyCard.tsx","../../src/components/ui/tabs.tsx","../../src/components/MarketTrends.tsx","../../src/components/ui/alert.tsx","../../src/components/SubscriptionCTA.tsx","../../src/components/ui/dialog.tsx","../../src/lib/stripe.ts","../../src/components/SubscriptionPlans.tsx","../../src/components/SubscriptionModal.tsx","../../src/components/ui/textarea.tsx","../../src/lib/messages.ts","../../src/components/PropertyMessages.tsx","../../src/components/MessagesModal.tsx","../../src/components/RandomFact.tsx","../../src/components/Footer.tsx","../../src/components/LegalDisclaimer.tsx","../../src/components/ui/carousel.tsx","../../src/components/PartnersCarousel.tsx","../../src/components/home.tsx","../../src/components/ui/label.tsx","../../src/components/AddPropertyModal.tsx","../../src/components/Layout.tsx","../../src/lib/market-insights.ts","../../src/components/InteractiveMap.tsx","../../src/components/Dashboard.tsx","../../src/components/PricingPage.tsx","../../src/components/OnboardingModal.jsx","../../src/components/SubscriptionSuccess.tsx","../../src/components/SubscriptionCancel.tsx","../../src/components/AccountSettings.tsx","../../src/components/RequireAuth.tsx","../../src/components/ui/page-transition.tsx","../../src/lib/hooks/useBitcoinPrice.ts","../../src/components/BitcoinPrice.tsx","../../src/components/PropertyDetailsModal.tsx","../../src/components/SearchResults.tsx","../../src/components/MarketInsightsPage.tsx","../../src/components/MarketTrendsPage.tsx","../../src/components/ArticlePage.tsx","../../src/components/ResearchReports.tsx","../../src/components/ResearchPage.tsx","../../src/components/BlogPage.tsx","../../src/components/InvestmentCalculator.tsx","../../src/components/HelpSupportPage.tsx","../../src/lib/chat.ts","../../src/components/ChatBot.tsx","../../src/components/AuthCallback.tsx","../../src/components/PropertyManagementPage.tsx","../../src/components/InvestmentOpportunitiesPage.tsx","../../src/components/AboutUsPage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Input } from \"./ui/input\";\nimport { Button } from \"./ui/button\";\nimport { Lock, ArrowRight } from \"lucide-react\";\n\ninterface PasswordProtectProps {\n  onSuccess: () => void;\n}\n\nexport function PasswordProtect({ onSuccess }: PasswordProtectProps) {\n  const [password, setPassword] = React.useState(\"\");\n  const [error, setError] = React.useState(false);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (password === \"pestOnaPENTERpy123!\") {\n      localStorage.setItem(\"password-protected\", \"true\");\n      onSuccess();\n    } else {\n      setError(true);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen w-full flex flex-col items-center justify-center bg-background p-4 relative overflow-hidden\">\n      {/* Background Pattern */}\n      <div className=\"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(173,216,230,0.1)_25%,rgba(173,216,230,0.1)_50%,transparent_50%,transparent_75%,rgba(173,216,230,0.1)_75%)] bg-[length:20px_20px]\"></div>\n\n      {/* Content */}\n      <div className=\"relative z-10 max-w-lg w-full text-center mb-8\">\n        <img\n          src=\"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png\"\n          alt=\"MyVGE\"\n          className=\"h-16 mx-auto mb-4 invert-[0.4] sepia-[.75] saturate-[.6] hue-rotate-[130deg] brightness-[0.8] contrast-[.8]\"\n        />\n        <p className=\"text-xl text-muted-foreground font-light mb-2\">\n          Coming Soon\n        </p>\n        <p className=\"text-muted-foreground\">\n          An exclusive platform for property investment analysis and portfolio\n          management\n        </p>\n      </div>\n\n      <Card className=\"w-full max-w-md relative z-10 bg-background/80 backdrop-blur-sm border-primary/20\">\n        <CardHeader className=\"text-center space-y-2 pb-4\">\n          <Lock className=\"w-10 h-10 mx-auto text-primary\" />\n          <h2 className=\"text-2xl font-semibold\">Developer Preview</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Access restricted to invited developers and investors\n          </p>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Input\n                type=\"password\"\n                placeholder=\"Enter access code\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                  setError(false);\n                }}\n                className={`bg-background/50 border-primary/20 ${error ? \"border-destructive\" : \"\"}`}\n              />\n              {error && (\n                <p className=\"text-sm text-destructive\">Invalid access code</p>\n              )}\n            </div>\n            <Button type=\"submit\" className=\"w-full group\">\n              Access Platform\n              <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* Footer */}\n      <div className=\"relative z-10 mt-8 text-center text-sm text-muted-foreground\">\n        <p>Â© 2024 MyVGE. All rights reserved.</p>\n        <p className=\"mt-1\">Currently in private alpha testing</p>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\" // Double-check this line!\n\nexport function Loading({ className }: { className?: string }) {\n  return (\n    <div className={cn(\"flex items-center justify-center\", className)}>\n      <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent\" />\n    </div>\n  )\n}\n","import { useEffect } from \"react\";\n// import NProgress from \"nprogress\"; // Remove this line\n// import \"nprogress/nprogress.css\"; // Also remove this line\n\n// NProgress.configure({ // Remove this block\n//   showSpinner: false,\n//   trickleSpeed: 200,\n//   minimum: 0.08,\n// });\n\nexport function ProgressBar() {\n  // useEffect(() => { // Remove this useEffect\n  //   NProgress.start();\n  //   return () => {\n  //     NProgress.done();\n  //   };\n  // }, []);\n\n  return null;\n}\n","import { createClient } from \"@supabase/supabase-js\";\n\n    const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\n    const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\n    console.log(\"Supabase Anon Key:\", supabaseAnonKey); // Add this line\n\n    if (!supabaseUrl || !supabaseAnonKey) {\n      throw new Error(\"Missing Supabase environment variables\");\n    }\n\n    export const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n      auth: {\n        persistSession: true,\n        storageKey: \"my-vge-auth\",\n        storage: window.localStorage,\n        autoRefreshToken: true,\n        detectSessionInUrl: false, // set to false\n      },\n    });\n","import { createContext, useContext, useEffect, useState } from \"react\";\n    import { supabase } from \"./supabase\";\n    import type { Tables } from \"../types/supabase\";\n    import { useNavigate } from \"react-router-dom\";\n    import { useClerk, useUser } from '@clerk/clerk-react';\n\n    type Profile = Tables<\"profiles\">;\n\n    interface AuthContextType {\n      user: any | null; // Clerk's user object\n      profile: Profile | null;\n      isLoading: boolean;\n      signOut: () => Promise<void>;\n      fetchProfile: (userId: string) => Promise<void>; // Add fetchProfile to the context\n    }\n\n    const AuthContext = createContext<AuthContextType | undefined>(undefined);\n\n    export function AuthProvider({ children }: { children: React.ReactNode }) {\n      const [profile, setProfile] = useState<Profile | null>(null);\n      const [isLoading, setIsLoading] = useState(true);\n      const navigate = useNavigate();\n      const { user: clerkUser, isSignedIn, signOut: clerkSignOut, isLoaded } = useClerk();\n      const [user, setUser] = useState(null);\n\n      async function fetchProfile(userId: string) {\n        console.log(\"fetchProfile - START\", userId);\n        try {\n          console.log(\"fetchProfile - querying Supabase\");\n          const { data: profile, error: profileError } = await supabase\n            .from(\"profiles\")\n            .select(\"*\")\n            .eq(\"id\", userId)\n            .single();\n\n          console.log(\"fetchProfile - query result\", profile, profileError);\n\n          if (profileError) {\n            console.error(\"Error fetching profile:\", profileError);\n            setProfile(null);\n            return;\n          }\n\n          console.log(\"Fetched profile:\", profile);\n\n          setProfile(profile);\n        } catch (error) {\n          console.error(\"Error fetching profile:\", error);\n          setProfile(null);\n        } finally {\n          console.log(\"fetchProfile - END\");\n          setIsLoading(false); // Ensure isLoading is set to false after profile fetch attempt\n        }\n      }\n\n      const initAuth = async (setUser: React.Dispatch<React.SetStateAction<any>>, fetchProfile: (userId: string) => Promise<void>) => {\n        setIsLoading(true);\n        try {\n          if (isSignedIn && clerkUser) {\n            setUser(clerkUser);\n            await fetchProfile(clerkUser.id);\n          } else {\n            setUser(null);\n            setProfile(null);\n          }\n        } catch (error) {\n          console.error(\"Error initializing auth:\", error);\n        } finally {\n          setIsLoading(false);\n        }\n      };\n\n      useEffect(() => {\n        console.log(\"useEffect - AuthProvider - START\");\n        initAuth(setUser, fetchProfile);\n\n        return () => {\n          console.log(\"useEffect - AuthProvider - CLEANUP\");\n        };\n      }, [isSignedIn, clerkUser]);\n\n      async function signOut() {\n        console.log(\"signOut - START\");\n        try {\n          await clerkSignOut();\n          setUser(null);\n          setProfile(null);\n          localStorage.removeItem(\"password-protected\");\n          navigate(\"/\"); // Use navigate for redirect\n        } catch (error) {\n          console.error(\"Sign out error:\", error);\n          throw error;\n        } finally {\n          console.log(\"signOut - END\");\n        }\n      }\n\n      const value = {\n        user: clerkUser,\n        profile,\n        isLoading,\n        signOut,\n        fetchProfile,\n      };\n\n      return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n    }\n\n    function useAuth() {\n      const context = useContext(AuthContext);\n      if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n      }\n      return context;\n    }\n\n    export { useAuth };\n","import * as React from \"react\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <Cross2Icon className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold [&+div]:text-xs\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","import {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\nimport { useToast } from \"@/components/ui/use-toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","import React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { cn } from \"../lib/utils\";\n\nexport function MobileNav({ isOpen, onClose, children }) {\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n          className=\"fixed inset-0 z-50 bg-background lg:hidden\"\n        >\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 20 }}\n            transition={{ duration: 0.2, delay: 0.1 }}\n            className={cn(\n              \"fixed inset-0 bg-gradient-to-b from-background/90 via-background/50 to-background/90 backdrop-blur-xl\",\n              \"flex flex-col overflow-y-auto pb-12\",\n            )}\n          >\n            <div className=\"flex h-16 items-center justify-between px-6 pt-4\">\n              <a href=\"/\" className=\"hover:opacity-80 transition-opacity\">\n                <img\n                  src=\"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png\"\n                  alt=\"MyVGE\"\n                  className=\"h-8\"\n                />\n              </a>\n              <Button\n                variant=\"ghost\"\n                className=\"h-auto p-2 hover:bg-transparent\"\n                onClick={onClose}\n              >\n                <X className=\"h-6 w-6\" />\n              </Button>\n            </div>\n            <div className=\"flex-1 px-6 pt-10\">{children}</div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","import * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","import * as React from \"react\"\n    import * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\n    import {\n      CheckIcon,\n      ChevronRightIcon,\n      DotFilledIcon,\n    } from \"@radix-ui/react-icons\"\n\n    import { cn } from \"@/lib/utils\"\n\n    const DropdownMenu = DropdownMenuPrimitive.Root\n\n    const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\n    const DropdownMenuGroup = DropdownMenuPrimitive.Group\n\n    const DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\n    const DropdownMenuSub = DropdownMenuPrimitive.Sub\n\n    const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\n    const DropdownMenuSubTrigger = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n        inset?: boolean\n      }\n    >(({ className, inset, children, ...props }, ref) => (\n      <DropdownMenuPrimitive.SubTrigger\n        ref={ref}\n        className={cn(\n          \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n          inset && \"pl-8\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n      </DropdownMenuPrimitive.SubTrigger>\n    ))\n    DropdownMenuSubTrigger.displayName =\n      DropdownMenuPrimitive.SubTrigger.displayName\n\n    const DropdownMenuSubContent = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n    >(({ className, ...props }, ref) => (\n      <DropdownMenuPrimitive.SubContent\n        ref={ref}\n        className={cn(\n          \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      />\n    ))\n    DropdownMenuSubContent.displayName =\n      DropdownMenuPrimitive.SubContent.displayName\n\n    const DropdownMenuContent = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n    >(({ className, sideOffset = 4, ...props }, ref) => (\n      <DropdownMenuPrimitive.Portal>\n        <DropdownMenuPrimitive.Content\n          ref={ref}\n          sideOffset={sideOffset}\n          className={cn(\n            \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white/80 backdrop-blur-2xl p-1 text-popover-foreground shadow-md\", // Added white gaussian blur here\n            \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n            className\n          )}\n          {...props}\n        />\n      </DropdownMenuPrimitive.Portal>\n    ))\n    DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\n    const DropdownMenuItem = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n        inset?: boolean\n      }\n    >(({ className, inset, ...props }, ref) => (\n      <DropdownMenuPrimitive.Item\n        ref={ref}\n        className={cn(\n          \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n          inset && \"pl-8\",\n          className\n        )}\n        {...props}\n      />\n    ))\n    DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\n    const DropdownMenuCheckboxItem = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n    >(({ className, children, checked, ...props }, ref) => (\n      <DropdownMenuPrimitive.CheckboxItem\n        ref={ref}\n        className={cn(\n          \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n          className\n        )}\n        checked={checked}\n        {...props}\n      >\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n          <DropdownMenuPrimitive.ItemIndicator>\n            <CheckIcon className=\"h-4 w-4\" />\n          </DropdownMenuPrimitive.ItemIndicator>\n        </span>\n        {children}\n      </DropdownMenuPrimitive.CheckboxItem>\n    ))\n    DropdownMenuCheckboxItem.displayName =\n      DropdownMenuPrimitive.CheckboxItem.displayName\n\n    const DropdownMenuRadioItem = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n    >(({ className, children, ...props }, ref) => (\n      <DropdownMenuPrimitive.RadioItem\n        ref={ref}\n        className={cn(\n          \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n          className\n        )}\n        {...props}\n      >\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n          <DropdownMenuPrimitive.ItemIndicator>\n            <DotFilledIcon className=\"h-4 w-4 fill-current\" />\n          </DropdownMenuPrimitive.ItemIndicator>\n        </span>\n        {children}\n      </DropdownMenuPrimitive.RadioItem>\n    ))\n    DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\n    const DropdownMenuLabel = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n        inset?: boolean\n      }\n    >(({ className, inset, ...props }, ref) => (\n      <DropdownMenuPrimitive.Label\n        ref={ref}\n        className={cn(\n          \"px-2 py-1.5 text-sm font-semibold\",\n          inset && \"pl-8\",\n          className\n        )}\n        {...props}\n      />\n    ))\n    DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\n    const DropdownMenuSeparator = React.forwardRef<\n      React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n      React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n    >(({ className, ...props }, ref) => (\n      <DropdownMenuPrimitive.Separator\n        ref={ref}\n        className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n        {...props}\n      />\n    ))\n    DropdownMenuSeparator.displayName =\n      DropdownMenuPrimitive.Separator.displayName\n\n    const DropdownMenuShortcut = ({\n      className,\n      ...props\n    }: React.HTMLAttributes<HTMLSpanElement>) => {\n      return (\n        <span\n          className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n          {...props}\n        />\n      )\n    }\n    DropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\n    export {\n      DropdownMenu,\n      DropdownMenuTrigger,\n      DropdownMenuContent,\n      DropdownMenuItem,\n      DropdownMenuCheckboxItem,\n      DropdownMenuRadioItem,\n      DropdownMenuLabel,\n      DropdownMenuSeparator,\n      DropdownMenuShortcut,\n      DropdownMenuGroup,\n      DropdownMenuPortal,\n      DropdownMenuSub,\n      DropdownMenuSubContent,\n      DropdownMenuSubTrigger,\n      DropdownMenuRadioGroup,\n    }\n","import React from \"react\";\n    import { Button } from \"./ui/button\";\n    import { Menu } from \"lucide-react\";\n    import { MobileNav } from \"./MobileNav\";\n    import {\n      NavigationMenu,\n      NavigationMenuContent,\n      NavigationMenuItem,\n      NavigationMenuLink,\n      NavigationMenuList,\n      NavigationMenuTrigger,\n      navigationMenuTriggerStyle,\n    } from \"./ui/navigation-menu\";\n    import { cn } from \"../lib/utils\";\n    import { useNavigate } from \"react-router-dom\";\n    import { useAuth } from \"../lib/auth\";\n    import {\n      Building2,\n      LogIn,\n      UserPlus,\n      LogOut,\n      Settings,\n      LayoutDashboard,\n      Crown,\n    } from \"lucide-react\";\n    import { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\n    import {\n      DropdownMenu,\n      DropdownMenuContent,\n      DropdownMenuItem,\n      DropdownMenuSeparator,\n      DropdownMenuTrigger,\n    } from \"./ui/dropdown-menu\";\n    import { useLocation } from \"react-router-dom\";\n    import { SignInButton, SignUpButton, useClerk } from \"@clerk/clerk-react\";\n\n    interface HeaderProps {\n      isAuthenticated?: boolean;\n      onSignIn?: () => void;\n      onSignUp?: () => Promise<void>;\n      onSignOut?: () => Promise<void>;\n      userProfile?: {\n        full_name?: string | null;\n        email?: string | null;\n        created_at?: string;\n        id?: string;\n        role?: \"user\" | \"admin\" | \"moderator\" | null;\n        stripe_customer_id?: string | null;\n        subscription_status?: string | null;\n        subscription_tier?: \"free\" | \"basic\" | \"pro\" | \"premium\" | null;\n        updated_at?: string;\n      };\n    }\n\n    const Header = ({\n      isAuthenticated = false,\n      onSignIn,\n      onSignUp,\n      userProfile = {},\n    }: HeaderProps) => {\n      const [showMobileMenu, setShowMobileMenu] = React.useState(false);\n      const navigate = useNavigate();\n      const { user, profile, signOut } = useAuth();\n      const { signOut: clerkSignOut, isSignedIn, user: clerkUser } = useClerk();\n\n      const handleSignOut = async () => {\n        console.log(\"Sign out button clicked\");\n        try {\n          await signOut();\n          navigate(\"/\");\n        } catch (error) {\n          console.error(\"Error signing out:\", error);\n        }\n      };\n\n      const ListItem = React.forwardRef<\n        React.ElementRef<\"a\">,\n        React.ComponentPropsWithoutRef<\"a\"> & {\n          title: string;\n        }\n      >(({ className, title, children, ...props }, ref) => {\n        return (\n          <li>\n            <NavigationMenuLink asChild>\n              <a\n                ref={ref}\n                className={cn(\n                  \"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n                  className,\n                )}\n                {...props}\n              >\n                <div className=\"text-sm font-medium leading-none\">{title}</div>\n                <p className=\"line-clamp-2 text-sm leading-snug text-muted-foreground\">\n                  {children}\n                </p>\n              </a>\n            </NavigationMenuLink>\n          </li>\n        );\n      });\n      ListItem.displayName = \"ListItem\";\n\n      return (\n        <>\n          <header\n            className=\"fixed top-4 left-0 right-0 z-50 px-4 py-2 bg-background/80 backdrop-blur-md shadow-lg rounded-full mx-auto max-w-[1400px]\"\n          >\n            <div className=\"container mx-auto h-14 px-6 flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <a href=\"/\" className=\"hover:opacity-80 transition-opacity\">\n                  <img\n                    src=\"https://i.postimg.cc/GpdY6N74/my-1920-x-1080-px-1.png\"\n                    alt=\"MyVGE\"\n                    className=\"h-8\"\n                  />\n                </a>\n              </div>\n\n              <NavigationMenu className=\"hidden lg:flex\">\n                <NavigationMenuList>\n                  <NavigationMenuItem>\n                    <NavigationMenuTrigger className=\"text-sm font-medium transition-colors hover:text-primary bg-transparent hover:bg-transparent\">\n                      Market\n                    </NavigationMenuTrigger>\n                    <NavigationMenuContent>\n                      <ul className=\"grid w-[400px] gap-3 p-4 rounded-xl\">\n                        <ListItem href=\"/trends\" title=\"Market Trends\">\n                          Stay updated with the latest real estate market\n                          trends.\n                        </ListItem>\n                        <ListItem href=\"/insights\" title=\"Market Insights\">\n                          Deep dive into property market analytics and\n                          forecasts.\n                        </ListItem>\n                        <ListItem href=\"/research\" title=\"Research & Reports\">\n                          Access expert analysis and reports.\n                        </ListItem>\n                      </ul>\n                    </NavigationMenuContent>\n                  </NavigationMenuItem>\n\n                  <NavigationMenuItem>\n                    <NavigationMenuLink\n                      className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                      href=\"/deals\"\n                    >\n                      Deals\n                    </NavigationMenuLink>\n                  </NavigationMenuItem>\n\n                  <NavigationMenuItem>\n                    <NavigationMenuTrigger className=\"text-sm font-medium transition-colors hover:text-primary bg-transparent hover:bg-transparent\">\n                      Services\n                    </NavigationMenuTrigger>\n                    <NavigationMenuContent>\n                      <ul className=\"grid w-[400px] gap-3 p-4 rounded-xl\">\n                        <ListItem\n                          href=\"/property-management\"\n                          title=\"Property Management\"\n                        >\n                          Let us take care of your property.\n                        </ListItem>\n                        <ListItem\n                          href=\"/investment-opportunities\"\n                          title=\"Investment Opportunities\"\n                        >\n                          Discover tailored investment strategies.\n                        </ListItem>\n                        <ListItem href=\"/calculators\" title=\"Calculators\">\n                          Calculate different aspects of your property\n                          investment.\n                        </ListItem>\n                      </ul>\n                    </NavigationMenuContent>\n                  </NavigationMenuItem>\n\n                  <NavigationMenuItem>\n                    <NavigationMenuLink\n                      className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                      href=\"/pricing\"\n                    >\n                      Pricing\n                    </NavigationMenuLink>\n                  </NavigationMenuItem>\n                  <NavigationMenuItem>\n                    <NavigationMenuLink\n                      className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                      href=\"/help\"\n                    >\n                      Help & Support\n                    </NavigationMenuLink>\n                  </NavigationMenuItem>\n                  <NavigationMenuItem>\n                    <NavigationMenuLink\n                      className=\"text-sm font-medium transition-colors hover:text-primary px-4 py-2\"\n                      href=\"/about-us\"\n                    >\n                      About Us\n                    </NavigationMenuLink>\n                  </NavigationMenuItem>\n                </NavigationMenuList>\n              </NavigationMenu>\n\n              <div className=\"flex items-center gap-4\">\n                <Button\n                  variant=\"ghost\"\n                  className=\"lg:hidden p-2\"\n                  onClick={() => setShowMobileMenu(true)}\n                >\n                  <Menu className=\"h-6 w-6\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  className=\"hidden md:flex bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300\"\n                  onClick={() => (window.location.href = \"/pricing\")}\n                >\n                  <Crown className=\"mr-2 h-4 w-4\" />\n                  Upgrade\n                </Button>\n                {isSignedIn ? (\n                  <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                      <div>\n                        <Button\n                          variant=\"ghost\"\n                          className=\"relative h-10 w-10 rounded-full\"\n                        >\n                          <Avatar className=\"h-10 w-10\">\n                            <AvatarImage\n                              src={`https://ui-avatars.com/api/?name=${encodeURIComponent(userProfile?.full_name || \"\")}&background=random`}\n                              alt={userProfile?.full_name || \"User avatar\"}\n                            />\n                            <AvatarFallback className=\"bg-primary/10\">\n                              {userProfile?.full_name\n                                ?.split(\" \")\n                                .filter(Boolean)\n                                .map((n) => n[0])\n                                .slice(0, 2)\n                                .join(\"\")\n                                .toUpperCase() || \"U\"}\n                            </AvatarFallback>\n                          </Avatar>\n                        </Button>\n                      </div>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent\n                      className=\"w-56 bg-white/80 backdrop-blur-md\"\n                      align=\"end\"\n                      forceMount\n                    >\n                      <DropdownMenuItem className=\"flex-col items-start\">\n                        <div className=\"font-medium\">\n                          {userProfile?.full_name}\n                        </div>\n                        <div className=\"text-sm text-muted-foreground\">\n                          {userProfile?.email}\n                        </div>\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                      <DropdownMenuItem\n                        onClick={() =>\n                          window.location.pathname !== \"/dashboard\" &&\n                          navigate(\"/dashboard\")\n                        }\n                      >\n                        <LayoutDashboard className=\"mr-2 h-4 w-4\" />\n                        <span>Dashboard</span>\n                      </DropdownMenuItem>\n                      <DropdownMenuItem onClick={() => navigate(\"/account\")}>\n                        <Settings className=\"mr-2 h-4 w-4\" />\n                        <span>Account Settings</span>\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                      <DropdownMenuItem onClick={handleSignOut}>\n                        <LogOut className=\"mr-2 h-4 w-4\" />\n                        <span>Log Out</span>\n                      </DropdownMenuItem>\n                    </DropdownMenuContent>\n                  </DropdownMenu>\n                ) : (\n                  <div className=\"hidden md:flex items-center gap-4\">\n                    <SignInButton mode=\"modal\">\n                      <Button variant=\"ghost\">\n                        <LogIn className=\"mr-2 h-4 w-4\" />\n                        Sign In\n                      </Button>\n                    </SignInButton>\n                    <SignUpButton mode=\"modal\">\n                      <Button variant=\"default\">\n                        <UserPlus className=\"mr-2 h-4 w-4\" />\n                        Sign Up\n                      </Button>\n                    </SignUpButton>\n                  </div>\n                )}\n              </div>\n            </div>\n          </header>\n\n          <MobileNav\n            isOpen={showMobileMenu}\n            onClose={() => setShowMobileMenu(false)}\n          >\n            <nav className=\"space-y-6\">\n              {/* ... rest of the mobile nav code ... */}\n            </nav>\n          </MobileNav>\n        </>\n      );\n    };\n\n    export default Header;\n","import React from \"react\";\nimport { Input } from \"./ui/input\";\nimport { Button } from \"./ui/button\";\nimport { Search } from \"lucide-react\";\n\ninterface HeroSectionProps {\n  onSearch?: (searchTerm: string) => void;\n  backgroundImage?: string;\n  title?: string;\n  subtitle?: string;\n  showSearch?: boolean;\n  showStats?: boolean;\n  height?: string;\n}\n\nconst HeroSection = ({\n  onSearch = () => {},\n  backgroundImage = \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\",\n  title = \"Find Your Perfect Property\",\n  subtitle = \"Search through millions of properties to find your next home\",\n  showSearch = true,\n  showStats = true,\n  height = \"h-[500px]\",\n}: HeroSectionProps) => {\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSearch(searchTerm);\n  };\n\n  return (\n    <div className={`relative w-full ${height} bg-gray-900 overflow-hidden`}>\n      {/* Background Image with Overlay */}\n      <div\n        className=\"absolute inset-0 bg-cover bg-center scale-105 animate-ken-burns\"\n        style={{ backgroundImage: `url(${backgroundImage})` }}\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-r from-black/60 via-black/30 to-black/60 backdrop-blur-sm\" />\n      </div>\n\n      {/* Content */}\n      <div className=\"relative h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center text-center py-16 pt-24 animate-fade-in-up\">\n        <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6\">\n          {title}\n        </h1>\n        <p className=\"text-lg sm:text-xl text-gray-200 mb-6 sm:mb-8 max-w-3xl mx-auto\">\n          {subtitle}\n        </p>\n\n        {/* Search Form */}\n        {showSearch && (\n          <form\n            onSubmit={handleSubmit}\n            className=\"w-full max-w-2xl animate-fade-in-up\"\n          >\n            <div className=\"relative\">\n              <Input\n                type=\"text\"\n                placeholder=\"Enter an address, neighbourhood, city, or postcode\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full h-12 sm:h-14 pl-5 pr-14 text-base sm:text-lg bg-white text-black border-2 border-transparent focus:border-primary\"\n              />\n              <Button\n                type=\"submit\"\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 hover:bg-transparent\"\n              >\n                <Search className=\"w-6 h-6 text-gray-500 hover:text-primary transition-colors\" />\n              </Button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default HeroSection;\n","import { supabase } from \"./supabase\";\nimport type { Property, SavedProperty } from \"../types/database\";\n\nexport async function getFeaturedProperties() {\n  const { data, error } = await supabase\n    .from(\"properties\")\n    .select(\n      `\n      *,\n      assigned_user:profiles!properties_assigned_user_id_fkey(id, full_name, email),\n      author:profiles!properties_created_by_fkey(id, full_name, email)\n    `,\n    )\n    .order(\"created_at\", { ascending: false })\n    .limit(20);\n\n  if (error) throw error;\n  return (\n    data?.map((property) => ({\n      ...property,\n      images: property.images || [\n        `https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600`,\n      ],\n    })) || []\n  );\n}\n\nexport async function searchProperties(searchTerm: string) {\n  const { data, error } = await supabase\n    .from(\"properties\")\n    .select(\"*\")\n    .or(\n      `address.ilike.%${searchTerm}%,city.ilike.%${searchTerm}%,postcode.ilike.%${searchTerm}%`,\n    )\n    .limit(20);\n\n  if (error) throw error;\n  return data as Property[];\n}\n\nexport async function getProperty(id: string) {\n  const { data, error } = await supabase\n    .from(\"properties\")\n    .select(\"*\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error) throw error;\n  return data as Property;\n}\n\nexport async function saveProperty(\n  propertyId: string,\n  userId: string,\n  notes: string = \"\",\n) {\n  const { data, error } = await supabase\n    .from(\"saved_properties\")\n    .insert([\n      {\n        property_id: propertyId,\n        user_id: userId,\n        notes,\n      },\n    ])\n    .select()\n    .single();\n\n  if (error) throw error;\n  return data as SavedProperty;\n}\n\nexport async function getSavedProperties(userId: string) {\n  const { data, error } = await supabase\n    .from(\"saved_properties\")\n    .select(\n      `\n      *,\n      property:properties(*)\n    `,\n    )\n    .eq(\"user_id\", userId);\n\n  if (error) throw error;\n  return data;\n}\n","import React from \"react\";\n    import { Card, CardContent } from \"./ui/card\";\n    import { Button } from \"./ui/button\";\n    import { MessageCircle, Heart, HeartOff } from \"lucide-react\";\n    import { useAuth } from \"../lib/auth\";\n    import { saveProperty } from \"../lib/properties\";\n    import { useToast } from \"./ui/use-toast\";\n    import { useNavigate } from \"react-router-dom\";\n\n    interface PropertyCardProps {\n      id?: string;\n      address?: string;\n      price?: number;\n      squareFootage?: number;\n      bedrooms?: number;\n      bathrooms?: number;\n      isPremium?: boolean;\n      isSubscriber?: boolean;\n      images?: string[];\n    }\n\n    const PropertyCard = ({\n      id = \"1\",\n      address = \"123 Example Street, City, State 12345\",\n      price = 500000,\n      squareFootage = 0,\n      bedrooms = 0,\n      bathrooms = 0,\n      isPremium = true,\n      isSubscriber = false,\n      images = [],\n    }: PropertyCardProps) => {\n      const { user } = useAuth();\n      const { toast } = useToast();\n      const navigate = useNavigate();\n      const [isLiked, setIsLiked] = React.useState(false); // Example: Initialize with false\n      const [likeCount, setLikeCount] = React.useState(0); // Example: Initialize with 0\n      const [isImageLoading, setIsImageLoading] = React.useState(true);\n\n      const handleLike = async () => {\n        if (!user) {\n          toast({\n            title: \"Please sign in\",\n            description: \"You must be signed in to save properties.\",\n          });\n          return;\n        }\n\n        setIsLiked(!isLiked);\n        setLikeCount(isLiked ? likeCount - 1 : likeCount + 1);\n\n        try {\n          await saveProperty(id, user.id);\n          toast({\n            title: \"Success\",\n            description: \"Property has been saved successfully.\",\n          });\n        } catch (error) {\n          toast({\n            title: \"Error\",\n            description: \"Failed to save property. Please try again.\",\n            variant: \"destructive\",\n          });\n        }\n      };\n\n      return (\n        <Card className=\"overflow-hidden hover:shadow-lg transition-shadow\">\n          <div className=\"relative h-48 bg-muted\">\n            {isImageLoading && (\n              <div className=\"absolute inset-0 animate-pulse bg-muted\" />\n            )}\n            <img\n              src={\n                (images && Array.isArray(images) && images.length > 0 && images[0]) ||\n                \"https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\"\n              }\n              alt=\"Property\"\n              className={`w-full h-full object-cover transition-opacity duration-200 ${isImageLoading ? \"opacity-0\" : \"opacity-100\"}`}\n              onLoad={() => setIsImageLoading(false)}\n            />\n            {isPremium && !isSubscriber && (\n              <div className=\"absolute inset-0 bg-background/80 backdrop-blur-[2px] flex items-center justify-center\">\n                <div className=\"text-center p-6\">\n                  <Lock className=\"w-8 h-8 text-muted-foreground mx-auto mb-2\" />\n                  <p className=\"text-sm text-muted-foreground\">\n                    Subscribe to view premium properties\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <CardContent className=\"p-4\">\n            <h3 className=\"font-semibold mb-1 line-clamp-1\">{address}</h3>\n            <div className=\"flex items-baseline gap-2\">\n              <span className=\"text-2xl font-bold\">Â£{price.toLocaleString()}</span>\n              {/* <BitcoinPrice amount={price} /> */}\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4 mb-4 text-sm\">\n              <div>\n                <span className=\"block text-muted-foreground\">Beds</span>\n                <span className=\"font-medium\">{bedrooms}</span>\n              </div>\n              <div>\n                <span className=\"block text-muted-foreground\">Baths</span>\n                <span className=\"font-medium\">{bathrooms}</span>\n              </div>\n              <div>\n                <span className=\"block text-muted-foreground\">Sq Ft</span>\n                <span className=\"font-medium\">{squareFootage}</span>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                <Button variant=\"ghost\" size=\"icon\" onClick={handleLike}>\n                  {isLiked ? (\n                    <Heart className=\"w-4 h-4 text-red-500\" />\n                  ) : (\n                    <HeartOff className=\"w-4 h-4\" />\n                  )}\n                </Button>\n                <span>{likeCount}</span>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={() => navigate(`/property/${id}`)}>\n                <MessageCircle className=\"w-4 h-4 mr-2\" />\n                View Details\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      );\n    };\n\n    export default PropertyCard;\n","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { ArrowRight, TrendingUp, Home, PoundSterling, Map } from \"lucide-react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n} from \"recharts\";\n\ninterface MarketTrendsProps {\n  trends?: Array<{\n    title: string;\n    value: string;\n    change: string;\n    isPositive: boolean;\n  }>;\n  articles?: Array<{\n    title: string;\n    excerpt: string;\n    date: string;\n  }>;\n}\n\nconst MarketTrends = ({\n  trends = [\n    {\n      title: \"Average Home Price\",\n      value: \"Â£450,000\",\n      change: \"+5.2%\",\n      isPositive: true,\n    },\n    {\n      title: \"Days on Market\",\n      value: \"28\",\n      change: \"-12%\",\n      isPositive: true,\n    },\n    {\n      title: \"Available Listings\",\n      value: \"1,234\",\n      change: \"-3.1%\",\n      isPositive: false,\n    },\n  ],\n  articles = [\n    {\n      title: \"Understanding the Current Real Estate Market\",\n      excerpt:\n        \"Get insights into the latest trends and what they mean for buyers and sellers.\",\n      date: \"2024-03-15\",\n    },\n    {\n      title: \"Top 5 Investment Opportunities in Real Estate\",\n      excerpt:\n        \"Discover the most promising areas for property investment in the current market.\",\n      date: \"2024-03-10\",\n    },\n    {\n      title: \"Real Estate Market Forecast 2024\",\n      excerpt:\n        \"Expert predictions and analysis for the upcoming year in real estate.\",\n      date: \"2024-03-05\",\n    },\n  ],\n}: MarketTrendsProps) => {\n  // Sample data for charts\n  const priceData = [\n    { month: \"Jan\", price: 450000 },\n    { month: \"Feb\", price: 455000 },\n    { month: \"Mar\", price: 458000 },\n    { month: \"Apr\", price: 462000 },\n    { month: \"May\", price: 470000 },\n    { month: \"Jun\", price: 475000 },\n  ];\n\n  const regionalData = [\n    { region: \"London\", price: 500000, growth: 5.2 },\n    { region: \"Manchester\", price: 250000, growth: 7.8 },\n    { region: \"Birmingham\", price: 220000, growth: 6.5 },\n    { region: \"Leeds\", price: 200000, growth: 8.1 },\n    { region: \"Liverpool\", price: 180000, growth: 9.2 },\n  ];\n\n  return (\n    <section className=\"w-full py-8 sm:py-16 bg-background relative overflow-hidden\">\n      <div className=\"container mx-auto px-4 mb-16\">\n        <Card className=\"bg-card border-border\">\n          <CardHeader>\n            <h2 className=\"text-2xl font-semibold\">\n              Real Estate Trends Visualization\n            </h2>\n          </CardHeader>\n          <CardContent>\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-3 mb-8 overflow-x-auto snap-start snap-mandatory\">\n                <TabsTrigger value=\"overview\">Price Evolution</TabsTrigger>\n                <TabsTrigger value=\"regional\">Regional Comparison</TabsTrigger>\n                <TabsTrigger value=\"heatmap\">Growth Heatmap</TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"overview\" className=\"h-[400px]\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <AreaChart data={priceData}>\n                    <defs>\n                      <linearGradient\n                        id=\"colorPrice\"\n                        x1=\"0\"\n                        y1=\"0\"\n                        x2=\"0\"\n                        y2=\"1\"\n                      >\n                        <stop\n                          offset=\"5%\"\n                          stopColor=\"hsl(var(--primary))\"\n                          stopOpacity={0.2}\n                        />\n                        <stop\n                          offset=\"95%\"\n                          stopColor=\"hsl(var(--primary))\"\n                          stopOpacity={0}\n                        />\n                      </linearGradient>\n                    </defs>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"month\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Area\n                      type=\"monotone\"\n                      dataKey=\"price\"\n                      stroke=\"hsl(var(--primary))\"\n                      fillOpacity={1}\n                      fill=\"url(#colorPrice)\"\n                    />\n                  </AreaChart>\n                </ResponsiveContainer>\n              </TabsContent>\n\n              <TabsContent value=\"regional\" className=\"h-[400px]\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <LineChart data={regionalData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"region\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"price\"\n                      stroke=\"hsl(var(--primary))\"\n                    />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"growth\"\n                      stroke=\"hsl(var(--chart-1))\"\n                    />\n                  </LineChart>\n                </ResponsiveContainer>\n              </TabsContent>\n\n              <TabsContent\n                value=\"heatmap\"\n                className=\"h-[400px] flex items-center justify-center\"\n              >\n                <div className=\"text-center space-y-4\">\n                  <Map className=\"w-12 h-12 text-muted-foreground mx-auto\" />\n                  <p className=\"text-muted-foreground\">\n                    Interactive heat map coming soon\n                  </p>\n                </div>\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"container mx-auto px-4 max-w-7xl\">\n        <div className=\"mb-12 text-center\">\n          <h2 className=\"text-3xl font-bold mb-4\">Market Trends & Insights</h2>\n          <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n            Stay informed with the latest real estate market trends and expert\n            insights to make better property decisions.\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n          {trends.map((trend, index) => (\n            <Card\n              key={index}\n              className={`bg-card border-border hover:scale-[1.02] transition-all duration-300 ${index === 0 ? \"bg-gradient-to-r from-emerald-400/10 to-cyan-400/10\" : \"\"}`}\n            >\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-sm font-medium text-foreground/80\">\n                    {trend.title}\n                  </h3>\n                  {index === 0 ? (\n                    <PoundSterling className=\"w-5 h-5 text-emerald-500\" />\n                  ) : index === 1 ? (\n                    <Home className=\"w-5 h-5 text-emerald-500\" />\n                  ) : (\n                    <TrendingUp className=\"w-5 h-5 text-emerald-500\" />\n                  )}\n                </div>\n                <div className=\"flex items-baseline justify-between\">\n                  <span className=\"text-2xl font-bold text-foreground\">\n                    {trend.value}\n                  </span>\n                  <span\n                    className={`flex items-center ${trend.isPositive ? \"text-emerald-500\" : \"text-red-500\"}`}\n                  >\n                    {trend.change}\n                  </span>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {articles.map((article, index) => (\n            <Card\n              key={index}\n              className={`bg-card border-border hover:scale-[1.02] transition-all duration-300 ${index === 0 ? \"bg-gradient-to-r from-emerald-400/10 to-cyan-400/10\" : \"\"}`}\n            >\n              <CardContent className=\"p-6\">\n                <div className=\"mb-4\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    {new Date(article.date).toLocaleDateString(\"en-US\", {\n                      month: \"long\",\n                      day: \"numeric\",\n                      year: \"numeric\",\n                    })}\n                  </span>\n                </div>\n                <h3 className=\"text-xl font-semibold mb-3 text-foreground\">\n                  {article.title}\n                </h3>\n                <p className=\"text-muted-foreground mb-4\">{article.excerpt}</p>\n                <Button\n                  variant=\"ghost\"\n                  className=\"group hover:text-emerald-500\"\n                  onClick={() => {\n                    window.location.href = `/article/${encodeURIComponent(article.title)}`;\n                  }}\n                >\n                  Read More\n                  <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                </Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default MarketTrends;\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","import React from \"react\";\nimport { Alert, AlertDescription, AlertTitle } from \"./ui/alert\";\nimport { Button } from \"./ui/button\";\nimport { Crown, ArrowRight } from \"lucide-react\";\n\ninterface SubscriptionCTAProps {\n  title?: string;\n  description?: string;\n  onSubscribe?: () => void;\n}\n\nexport const SubscriptionCTA = ({\n  title = \"Unlock Premium Features\",\n  description = \"Get access to detailed property analysis, portfolio tracking, and advanced metrics.\",\n  onSubscribe = () => console.log(\"Subscribe clicked\"),\n}: SubscriptionCTAProps) => {\n  return (\n    <div className=\"w-full bg-background p-4 sm:p-6 border-t\">\n      <Alert className=\"max-w-7xl mx-auto flex items-center justify-between bg-gradient-to-r from-emerald-400/10 to-cyan-400/10 border-emerald-500/20\">\n        <div className=\"flex items-start gap-3\">\n          <Crown className=\"h-5 w-5 text-emerald-500 mt-1\" />\n          <div>\n            <AlertTitle className=\"text-lg font-semibold text-foreground\">\n              {title}\n            </AlertTitle>\n            <AlertDescription className=\"text-muted-foreground\">\n              {description}\n            </AlertDescription>\n          </div>\n        </div>\n        <Button\n          onClick={onSubscribe}\n          className=\"bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 hidden sm:flex items-center gap-2\"\n        >\n          Subscribe Now\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          onClick={onSubscribe}\n          className=\"bg-gradient-to-r from-emerald-400 to-cyan-400 text-white hover:from-emerald-500 hover:to-cyan-500 border border-emerald-500/20 shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 sm:hidden\"\n          size=\"sm\"\n        >\n          Subscribe\n        </Button>\n      </Alert>\n    </div>\n  );\n};\n\nexport default SubscriptionCTA;\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import { supabase } from \"./supabase\";\n    import { loadStripe } from \"@stripe/stripe-js\";\n    import { getAuth } from \"firebase/auth\";\n\n    export const SUBSCRIPTION_TIERS = {\n      BASIC: {\n        name: \"Basic\",\n        price: \"Â£9.99\",\n        priceId: \"price_1QnikACOhalwhG2QDocCWbQj\",\n        features: [\n          \"Basic property search\",\n          \"Save up to 5 properties\",\n          \"Basic market trends\",\n          \"Email support\",\n        ],\n      },\n      PRO: {\n        name: \"Pro\",\n        price: \"Â£19.99\",\n        priceId: \"price_1QnikPCOhalwhG2QVYfxwG5D\",\n        features: [\n          \"Advanced property search\",\n          \"Save unlimited properties\",\n          \"Detailed market analysis\",\n          \"Premium property insights\",\n          \"Priority support\",\n        ],\n      },\n      PREMIUM: {\n        name: \"Premium\",\n        price: \"Â£49.99\",\n        priceId: \"price_1QnikjCOhalwhG2QUgRtMAco\",\n        features: [\n          \"All Pro features\",\n          \"AI-powered market predictions\",\n          \"Portfolio analytics\",\n          \"Investment ROI calculator\",\n          \"Dedicated account manager\",\n          \"24/7 phone support\",\n        ],\n      },\n    };\n\n    export async function createCheckoutSession(priceId: string, userId: string) {\n      try {\n        const response = await fetch(\n          \"/.netlify/functions/create-checkout-session\",\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              priceId,\n              userId, // Clerk User ID is passed here\n            }),\n          },\n        );\n\n        const { sessionId } = await response.json();\n        const stripe = await loadStripe(import.meta.env.VITE_STRIPE_PUBLIC_KEY);\n\n        if (stripe) {\n          await stripe.redirectToCheckout({ sessionId });\n        }\n      } catch (error) {\n        console.error(\"Error creating checkout session:\", error);\n        throw error;\n      }\n    }\n\n    export async function updateSubscription(userId: string, tier: string) {\n      const { error } = await supabase\n        .from(\"profiles\")\n        .update({\n          subscription_tier: tier,\n          subscription_status: \"active\",\n          updated_at: new Date().toISOString(),\n        })\n        .eq(\"id\", userId);\n\n      if (error) throw error;\n    }\n","import React from \"react\";\nimport { Card, CardContent, CardFooter, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { Check, Crown } from \"lucide-react\";\nimport { SUBSCRIPTION_TIERS } from \"../lib/stripe\";\nimport { useAuth } from \"../lib/auth\";\n\ninterface SubscriptionPlansProps {\n  onSubscribe: (priceId: string) => void;\n}\n\nexport function SubscriptionPlans({ onSubscribe }: SubscriptionPlansProps) {\n  const { profile } = useAuth();\n  const currentTier = profile?.subscription_tier || \"free\";\n\n  return (\n    <div className=\"py-16 bg-background\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-3xl font-bold mb-4\">Choose Your Plan</h2>\n          <p className=\"text-gray-600 max-w-2xl mx-auto\">\n            Select the perfect plan for your property investment journey\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto\">\n          {Object.entries(SUBSCRIPTION_TIERS).map(([key, tier]) => (\n            <Card\n              key={key}\n              className={`relative ${key === \"PRO\" ? \"border-primary shadow-lg scale-105 bg-gradient-to-r from-emerald-400/10 to-cyan-400/10\" : \"\"}`}\n            >\n              {key === \"PRO\" && (\n                <div className=\"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-emerald-400 to-cyan-400 text-white px-4 py-1 rounded-full text-sm font-medium border border-emerald-500/20 shadow-lg\">\n                  Most Popular\n                </div>\n              )}\n\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-2xl font-bold\">{tier.name}</h3>\n                  {key === \"PREMIUM\" && (\n                    <Crown className=\"h-6 w-6 text-yellow-500\" />\n                  )}\n                </div>\n                <div className=\"mt-4\">\n                  <span className=\"text-4xl font-bold\">{tier.price}</span>\n                  <span className=\"text-gray-600 ml-2\">/month</span>\n                </div>\n              </CardHeader>\n\n              <CardContent>\n                <ul className=\"space-y-3\">\n                  {tier.features.map((feature, index) => (\n                    <li key={index} className=\"flex items-start gap-3\">\n                      <Check className=\"h-5 w-5 text-green-500 mt-0.5\" />\n                      <span>{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n\n              <CardFooter>\n                <Button\n                  className=\"w-full\"\n                  variant={key === \"PRO\" ? \"default\" : \"outline\"}\n                  onClick={() => onSubscribe(tier.priceId)}\n                  disabled={currentTier === key.toLowerCase()}\n                >\n                  {currentTier === key.toLowerCase()\n                    ? \"Current Plan\"\n                    : \"Subscribe\"}\n                </Button>\n              </CardFooter>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { SubscriptionPlans } from \"./SubscriptionPlans\";\nimport { createCheckoutSession } from \"../lib/stripe\";\nimport { useAuth } from \"../lib/auth\";\nimport { useToast } from \"./ui/use-toast\";\n\ninterface SubscriptionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function SubscriptionModal({ isOpen, onClose }: SubscriptionModalProps) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n\n  const handleSubscribe = async (priceId: string) => {\n    if (!user) {\n      // Store the selected price ID in localStorage\n      localStorage.setItem(\"pending_subscription_price_id\", priceId);\n\n      // Trigger sign up modal\n      const event = new CustomEvent(\"open-auth-modal\", {\n        detail: { mode: \"signup\" },\n      });\n      window.dispatchEvent(event);\n      onClose();\n      return;\n    }\n\n    try {\n      await createCheckoutSession(priceId, user.id);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to start subscription process. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[900px]\">\n        <DialogHeader>\n          <DialogTitle>Upgrade Your Plan</DialogTitle>\n          <DialogDescription>\n            Choose the plan that best suits your needs and unlock premium\n            features.\n          </DialogDescription>\n        </DialogHeader>\n\n        <SubscriptionPlans onSubscribe={handleSubscribe} />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import { supabase } from \"./supabase\";\n\nconst profanityList = [\n  \"badword1\",\n  \"badword2\",\n  // Add more profanity words here\n];\n\nfunction filterProfanity(text: string): string {\n  let filteredText = text.toLowerCase();\n  profanityList.forEach((word) => {\n    const regex = new RegExp(word, \"gi\");\n    filteredText = filteredText.replace(regex, \"*\".repeat(word.length));\n  });\n  return filteredText;\n}\n\nexport async function sendMessage(\n  senderId: string,\n  receiverId: string,\n  content: string,\n  isSupport: boolean = false, // Add isSupport parameter\n) {\n  const filteredContent = filterProfanity(content);\n\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .insert([\n      {\n        sender_id: senderId,\n        receiver_id: receiverId,\n        content: filteredContent,\n        is_support: isSupport, // Set is_support value\n      },\n    ])\n    .select(\n      `\n      *,\n      sender:profiles!messages_sender_id_fkey(full_name, email),\n      receiver:profiles!messages_receiver_id_fkey(full_name, email)\n    `,\n    )\n    .single();\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function getConversation(userId: string, otherId: string) {\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .select(\n      `\n      *,\n      sender:profiles!messages_sender_id_fkey(full_name, email),\n      receiver:profiles!messages_receiver_id_fkey(full_name, email)\n    `,\n    )\n    .or(\n      `and(sender_id.eq.${userId},receiver_id.eq.${otherId}),and(sender_id.eq.${otherId},receiver_id.eq.${userId})`,\n    )\n    .order(\"created_at\", { ascending: true });\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function getUserConversations(userId: string) {\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .select(\n      `\n      *,\n      sender:profiles!messages_sender_id_fkey(full_name, email),\n      receiver:profiles!messages_receiver_id_fkey(full_name, email)\n    `,\n    )\n    .or(`sender_id.eq.${userId},receiver_id.eq.${userId}`)\n    .order(\"created_at\", { ascending: false });\n\n  if (error) throw error;\n  return data;\n}\n","import React from \"react\";\nimport { useAuth } from \"../lib/auth\";\nimport { Button } from \"./ui/button\";\nimport { Textarea } from \"./ui/textarea\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\nimport { sendMessage, getConversation } from \"../lib/messages\";\nimport { supabase } from \"../lib/supabase\";\nimport { useToast } from \"./ui/use-toast\";\n\ninterface PropertyMessagesProps {\n  receiverId: string;\n}\n\nexport function PropertyMessages({ receiverId }: PropertyMessagesProps) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [messages, setMessages] = React.useState<any[]>([]);\n  const [newMessage, setNewMessage] = React.useState(\"\");\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n  const messagesEndRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (user) {\n      loadMessages();\n      // Subscribe to realtime updates\n      const subscription = supabase\n        .channel(`messages:${user.id}:${receiverId}`)\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"messages\",\n            filter: `or(and(sender_id.eq.${user.id},receiver_id.eq.${receiverId}),and(sender_id.eq.${receiverId},receiver_id.eq.${user.id}))`,\n          },\n          () => {\n            loadMessages();\n          },\n        )\n        .subscribe();\n\n      return () => {\n        subscription.unsubscribe();\n      };\n    }\n  }, [user, receiverId]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  React.useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const loadMessages = async () => {\n    if (!user) return;\n    try {\n      const data = await getConversation(user.id, receiverId);\n      setMessages(data);\n    } catch (error) {\n      console.error(\"Error loading messages:\", error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !newMessage.trim()) return;\n\n    setIsSubmitting(true);\n    try {\n      await sendMessage(user.id, receiverId, newMessage);\n      setNewMessage(\"\");\n      loadMessages();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to send message\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-[500px]\">\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((message) => {\n          const isSender = message.sender_id === user?.id;\n          return (\n            <div\n              key={message.id}\n              className={`flex gap-2 ${isSender ? \"flex-row-reverse\" : \"\"}`}\n            >\n              <Avatar className=\"h-8 w-8\">\n                <AvatarImage\n                  src={`https://ui-avatars.com/api/?name=${encodeURIComponent(isSender ? message.sender.full_name : message.receiver.full_name)}&background=random`}\n                  alt={\n                    isSender\n                      ? message.sender.full_name\n                      : message.receiver.full_name\n                  }\n                />\n                <AvatarFallback className=\"bg-primary/10\">\n                  {(isSender\n                    ? message.sender.full_name\n                    : message.receiver.full_name\n                  )\n                    ?.split(\" \")\n                    .map((n: string) => n[0])\n                    .join(\"\")}\n                </AvatarFallback>\n              </Avatar>\n              <div\n                className={`max-w-[70%] rounded-lg p-3 ${isSender ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n              >\n                <p>{message.content}</p>\n                <p className=\"text-xs opacity-70 mt-1\">\n                  {new Date(message.created_at).toLocaleTimeString()}\n                </p>\n              </div>\n            </div>\n          );\n        })}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"p-4 border-t\">\n        <div className=\"flex gap-2\">\n          <Textarea\n            placeholder=\"Type a message...\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            className=\"min-h-[80px]\"\n          />\n          <Button type=\"submit\" disabled={isSubmitting || !newMessage.trim()}>\n            Send\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"./ui/dialog\";\nimport { PropertyMessages } from \"./PropertyMessages\";\n\ninterface MessagesModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  receiverId?: string;\n}\n\nexport function MessagesModal({\n  isOpen,\n  onClose,\n  receiverId,\n}: MessagesModalProps) {\n  if (!receiverId) return null;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[500px]\">\n        <DialogHeader>\n          <DialogTitle>Messages</DialogTitle>\n        </DialogHeader>\n        <PropertyMessages receiverId={receiverId} />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { Lightbulb } from \"lucide-react\";\n\nexport function RandomFact() {\n  const [fact, setFact] = React.useState<string>(\"\");\n\n  React.useEffect(() => {\n    fetch(\"https://uselessfacts.jsph.pl/api/v2/facts/random?language=en\")\n      .then((response) => response.json())\n      .then((data) => setFact(data.text))\n      .catch((error) => console.error(\"Error fetching random fact:\", error));\n  }, []);\n\n  if (!fact) return null;\n\n  return (\n    <div className=\"flex items-center gap-2 text-gray-400 text-sm\">\n      <Lightbulb className=\"w-4 h-4\" />\n      <p>{fact}</p>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { RandomFact } from \"./RandomFact\";\n\nexport function Footer() {\n  return (\n    <footer className=\"bg-gray-900 text-white py-8 sm:py-12\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">About Us</h3>\n            <p className=\"text-gray-400\">\n              Your trusted source for property search and market analysis. MyVGE is part of Very Good Marketing Co.\n            </p>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Legal</h3>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li>\n                <a href=\"/terms\" className=\"hover:text-white\">\n                  Terms of Service\n                </a>\n              </li>\n              <li>\n                <a href=\"/privacy\" className=\"hover:text-white\">\n                  Privacy Policy\n                </a>\n              </li>\n              <li>\n                <a href=\"/disclaimer\" className=\"hover:text-white\">\n                  Legal Disclaimer\n                </a>\n              </li>\n              <li>\n                <a href=\"/gdpr\" className=\"hover:text-white\">\n                  GDPR Compliance\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Contact</h3>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li>@myvge.com</li>\n              <li>Lytchett House, 13 Freeland Park, Poole, Dorset, England, BH16 6FA</li>\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Compliance</h3>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li>Company No: 15271126</li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"mt-8 pt-8 border-t border-gray-800 space-y-4\">\n          <RandomFact />\n          <div className=\"text-center text-gray-400 space-y-2\">\n            <p className=\"text-xs\">\n              MyVGE is a trading name of Very Good Marketing Co, registered in England and\n              Wales. Registered office: Lytchett House, 13 Freeland Park, Poole, Dorset, England, BH16 6FA. Company No: 15271126\n            </p>\n            <p className=\"text-xs\">\n              The information on this website is for general information\n              purposes only and does not constitute financial advice.\n            </p>\n            <p>&copy; {new Date().getFullYear()} MyVGE. All rights reserved.</p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport { Alert, AlertDescription } from \"./ui/alert\";\nimport { Info } from \"lucide-react\";\n\nexport function LegalDisclaimer() {\n  return (\n    <Alert className=\"bg-muted/50 border-muted-foreground/20\">\n      <Info className=\"h-4 w-4\" />\n      <AlertDescription className=\"text-xs text-muted-foreground\">\n        The information provided on this website is for general informational\n        purposes only and should not be considered as financial or investment\n        advice. Property investments carry risks and values can go down as well\n        as up. Always seek professional advice before making investment\n        decisions.\n      </AlertDescription>\n    </Alert>\n  );\n}\n","import * as React from \"react\"\nimport { ArrowLeftIcon, ArrowRightIcon } from \"@radix-ui/react-icons\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, type ButtonProps } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeftIcon className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRightIcon className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","import React from \"react\";\nimport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious,\n} from \"./ui/carousel\";\n\nconst partners = [\n  {\n    name: \"Grosvenor Group\",\n    logo: \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Berkeley Group\",\n    logo: \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Ballymore Properties\",\n    logo: \"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Almacantar\",\n    logo: \"https://images.unsplash.com/photo-1434626881859-194d67b2b86f?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Capital & Counties\",\n    logo: \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3\",\n  },\n  {\n    name: \"Great Portland Estates\",\n    logo: \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\",\n  },\n];\n\nexport function PartnersCarousel() {\n  return (\n    <div className=\"w-full bg-muted/30 py-12\">\n      <div className=\"container mx-auto px-4\">\n        <h2 className=\"text-center text-2xl font-semibold mb-8\">\n          Trusted by Industry Leaders\n        </h2>\n        <Carousel\n          opts={{\n            align: \"start\",\n            loop: true,\n          }}\n          className=\"w-full max-w-5xl mx-auto\"\n        >\n          <CarouselContent className=\"-ml-2 md:-ml-4\">\n            {partners.map((partner, index) => (\n              <CarouselItem\n                key={index}\n                className=\"pl-2 md:pl-4 basis-1/2 md:basis-1/3 lg:basis-1/4\"\n              >\n                <div className=\"p-4\">\n                  <div className=\"aspect-square relative rounded-xl overflow-hidden bg-background/50 backdrop-blur-sm border border-border/50 hover:border-primary/50 transition-colors\">\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-background/80 to-background/50\" />\n                    <div className=\"relative h-full flex items-center justify-center p-6\">\n                      <div className=\"text-center\">\n                        <div className=\"w-12 h-12 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center\">\n                          <img\n                            src={partner.logo}\n                            alt={partner.name}\n                            className=\"w-8 h-8 object-contain opacity-50\"\n                          />\n                        </div>\n                        <p className=\"text-sm font-medium text-foreground/80\">\n                          {partner.name}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CarouselItem>\n            ))}\n          </CarouselContent>\n          <CarouselPrevious className=\"-left-12 hover:bg-background/80\" />\n          <CarouselNext className=\"-right-12 hover:bg-background/80\" />\n        </Carousel>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n    import Header from \"./Header\";\n    import HeroSection from \"./HeroSection\";\n    import PropertyCard from \"./PropertyCard\";\n    import MarketTrends from \"./MarketTrends\";\n    import { SubscriptionCTA } from \"./SubscriptionCTA\";\n    // import { AuthModal } from \"./AuthModal\";\n    import { SubscriptionModal } from \"./SubscriptionModal\";\n    import { MessagesModal } from \"./MessagesModal\";\n    import { Footer } from \"./Footer\";\n    import { LegalDisclaimer } from \"./LegalDisclaimer\";\n    import { PartnersCarousel } from \"./PartnersCarousel\";\n    import { useAuth } from \"../lib/auth\";\n    import { searchProperties, getFeaturedProperties } from \"../lib/properties\";\n\n    const Home = () => {\n      const { user, profile, signOut } = useAuth();\n      const [searchResults, setSearchResults] = React.useState([]);\n      const [isSearching, setIsSearching] = React.useState(false);\n      // const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false);\n      const [isSubscriptionModalOpen, setIsSubscriptionModalOpen] =\n        React.useState(false);\n      // const [authMode, setAuthMode] = React.useState(\"signin\");\n      const [isMessagesModalOpen, setIsMessagesModalOpen] = React.useState(false);\n      const [selectedReceiverId, setSelectedReceiverId] = React.useState();\n\n      const loadFeaturedProperties = async () => {\n        setIsSearching(true);\n        try {\n          // Mock featured properties\n          const mockProperties = [\n            {\n              id: \"1\",\n              address: \"123 Mayfair Gardens, London, W1K 1AA\",\n              price: 1250000,\n              squareFootage: 1850,\n              bedrooms: 3,\n              bathrooms: 2,\n              isPremium: true,\n              images: [\n                \"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n              ],\n              author: {\n                id: \"1\",\n                full_name: \"Sarah Johnson\",\n                email: \"sarah@myvge.co.uk\",\n              },\n            },\n            {\n              id: \"2\",\n              address: \"45 Kensington Park Road, London, W11 3BQ\",\n              price: 2450000,\n              squareFootage: 2400,\n              bedrooms: 4,\n              bathrooms: 3,\n              isPremium: true,\n              images: [\n                \"https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n              ],\n              author: {\n                id: \"2\",\n                full_name: \"James Wilson\",\n                email: \"james@myvge.co.uk\",\n              },\n            },\n            {\n              id: \"3\",\n              address: \"88 Notting Hill Gate, London, W11 3HT\",\n              price: 1850000,\n              squareFootage: 1950,\n              bedrooms: 3,\n              bathrooms: 2,\n              isPremium: false,\n              images: [\n                \"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n              ],\n              author: {\n                id: \"3\",\n                full_name: \"Emma Davis\",\n                email: \"emma@myvge.co.uk\",\n              },\n            },\n            {\n              id: \"4\",\n              address: \"15 Chelsea Manor Street, London, SW3 5RP\",\n              price: 3250000,\n              squareFootage: 2800,\n              bedrooms: 5,\n              bathrooms: 4,\n              isPremium: true,\n              images: [\n                \"https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n              ],\n              author: {\n                id: \"4\",\n                full_name: \"Michael Smith\",\n                email: \"michael@myvge.co.uk\",\n              },\n            },\n            {\n              id: \"5\",\n              address: \"92 Eaton Square, London, SW1W 9AN\",\n              price: 4750000,\n              squareFootage: 3200,\n              bedrooms: 6,\n              bathrooms: 5,\n              isPremium: true,\n              images: [\n                \"https://images.unsplash.com/photo-1600585154526-990dced4db0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n              ],\n              author: {\n                id: \"5\",\n                full_name: \"Lisa Brown\",\n                email: \"lisa@myvge.co.uk\",\n              },\n            },\n            {\n              id: \"6\",\n              address: \"33 Belgrave Square, London, SW1X 8PB\",\n              price: 5500000,\n              squareFootage: 3500,\n              bedrooms: 7,\n              bathrooms: 6,\n              isPremium: true,\n              images: [\n                \"https://images.unsplash.com/photo-1600573472592-401b489a3cdc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600\",\n              ],\n              author: {\n                id: \"6\",\n                full_name: \"David Thompson\",\n                email: \"david@myvge.co.uk\",\n              },\n            },\n          ];\n\n          setSearchResults(mockProperties);\n        } catch (error) {\n          console.error(\"Error loading featured properties:\", error);\n        } finally {\n          setIsSearching(false);\n        }\n      };\n\n      React.useEffect(() => {\n        loadFeaturedProperties();\n\n        const handleOpenMessages = (e) => {\n          setSelectedReceiverId(e.detail.receiverId);\n          setIsMessagesModalOpen(true);\n        };\n\n        window.addEventListener(\"open-messages\", handleOpenMessages);\n\n        return () => {\n          window.removeEventListener(\"open-messages\", handleOpenMessages);\n        };\n      }, []);\n\n      const handleSearch = async (term) => {\n        setIsSearching(true);\n        try {\n          const results = await searchProperties(term);\n          setSearchResults(\n            results.map((p) => ({\n              id: p.id,\n              address: `${p.address}, ${p.city}, ${p.postcode}`,\n              price: p.price,\n              squareFootage: p.square_footage,\n              isPremium: p.is_premium,\n            })),\n          );\n        } catch (error) {\n          console.error(\"Error searching properties:\", error);\n        } finally {\n          setIsSearching(false);\n        }\n      };\n\n      return (\n        <div className=\"min-h-screen bg-background\">\n          <Header />\n\n          <main>\n            <HeroSection onSearch={handleSearch} />\n\n            <div className=\"w-full bg-background py-8\">\n              <div className=\"max-w-[1200px] mx-auto px-4 sm:px-8\">\n                <h2 className=\"text-2xl font-bold mb-6\">Featured Properties</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16\">\n                  {isSearching\n                    ? Array(3)\n                        .fill(0)\n                        .map((_, i) => (\n                          <div\n                            key={i}\n                            className=\"w-full h-[420px] bg-muted rounded-lg animate-pulse\"\n                          />\n                        ))\n                    : searchResults.map((property) => (\n                        <PropertyCard\n                          key={property.id}\n                          address={property.address}\n                          price={property.price}\n                          squareFootage={property.squareFootage}\n                          isPremium={property.isPremium}\n                        />\n                      ))}\n                </div>\n              </div>\n            </div>\n\n            <MarketTrends />\n\n            <PartnersCarousel />\n\n            <div className=\"w-full bg-background py-8\">\n              <div className=\"max-w-[1200px] mx-auto px-4 sm:px-8\">\n                <div className=\"mb-8\">\n                  <LegalDisclaimer />\n                </div>\n              </div>\n            </div>\n\n            <SubscriptionCTA\n              onSubscribe={() => setIsSubscriptionModalOpen(true)}\n              title=\"Unlock Premium Property Insights\"\n              description=\"Get access to detailed property analysis, market comparisons, and investment metrics to make informed decisions.\"\n            />\n          </main>\n\n          <Footer />\n\n          <SubscriptionModal\n            isOpen={isSubscriptionModalOpen}\n            onClose={() => setIsSubscriptionModalOpen(false)}\n          />\n\n          <MessagesModal\n            isOpen={isMessagesModalOpen}\n            onClose={() => setIsMessagesModalOpen(false)}\n            receiverId={selectedReceiverId}\n          />\n        </div>\n      );\n    };\n\n    export default Home;\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Textarea } from \"./ui/textarea\";\nimport { useToast } from \"./ui/use-toast\";\nimport { supabase } from \"../lib/supabase\";\nimport { useAuth } from \"../lib/auth\";\n\ninterface AddPropertyModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nexport function AddPropertyModal({\n  isOpen,\n  onClose,\n  onSuccess,\n}: AddPropertyModalProps) {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const { toast } = useToast();\n\n  const { user } = useAuth();\n  const [assignedUser, setAssignedUser] = React.useState(\"\");\n  const [users, setUsers] = React.useState<\n    Array<{ id: string; email: string; full_name: string }>\n  >([]);\n\n  React.useEffect(() => {\n    // Fetch users for assignment\n    const fetchUsers = async () => {\n      const { data, error } = await supabase\n        .from(\"profiles\")\n        .select(\"id, email, full_name\");\n      if (!error && data) {\n        setUsers(data);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  const [formData, setFormData] = React.useState({\n    address: \"\",\n    city: \"\",\n    postcode: \"\",\n    price: \"\",\n    bedrooms: \"\",\n    bathrooms: \"\",\n    squareFootage: \"\",\n    description: \"\",\n    imageUrl: \"\",\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const { error } = await supabase.from(\"properties\").insert([\n        {\n          address: formData.address,\n          city: formData.city,\n          postcode: formData.postcode,\n          price: parseFloat(formData.price),\n          bedrooms: parseInt(formData.bedrooms),\n          bathrooms: parseInt(formData.bathrooms),\n          square_footage: parseInt(formData.squareFootage),\n          description: formData.description,\n          images: [formData.imageUrl],\n          property_type: \"house\" as const,\n          created_by: user?.id,\n          assigned_user_id: assignedUser || null,\n        },\n      ]);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Success\",\n        description: \"Property has been added successfully.\",\n      });\n      onSuccess();\n      onClose();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to add property. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[600px]\">\n        <DialogHeader>\n          <DialogTitle>Add New Property</DialogTitle>\n          <DialogDescription>\n            Add a new property to the featured properties list.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4 pt-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"address\">Address</Label>\n              <Input\n                id=\"address\"\n                value={formData.address}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, address: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"city\">City</Label>\n              <Input\n                id=\"city\"\n                value={formData.city}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, city: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"postcode\">Postcode</Label>\n              <Input\n                id=\"postcode\"\n                value={formData.postcode}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, postcode: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"price\">Price (Â£)</Label>\n              <Input\n                id=\"price\"\n                type=\"number\"\n                value={formData.price}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, price: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"bedrooms\">Bedrooms</Label>\n              <Input\n                id=\"bedrooms\"\n                type=\"number\"\n                value={formData.bedrooms}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, bedrooms: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"bathrooms\">Bathrooms</Label>\n              <Input\n                id=\"bathrooms\"\n                type=\"number\"\n                value={formData.bathrooms}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    bathrooms: e.target.value,\n                  }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"squareFootage\">Square Footage</Label>\n              <Input\n                id=\"squareFootage\"\n                type=\"number\"\n                value={formData.squareFootage}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    squareFootage: e.target.value,\n                  }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"imageUrl\">Image URL</Label>\n              <Input\n                id=\"imageUrl\"\n                type=\"url\"\n                value={formData.imageUrl}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, imageUrl: e.target.value }))\n                }\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"assignedUser\">Assign to User</Label>\n              <select\n                id=\"assignedUser\"\n                value={assignedUser}\n                onChange={(e) => setAssignedUser(e.target.value)}\n                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              >\n                <option value=\"\">Select a user</option>\n                {users.map((user) => (\n                  <option key={user.id} value={user.id}>\n                    {user.full_name} ({user.email})\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description</Label>\n            <Textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) =>\n                setFormData((prev) => ({\n                  ...prev,\n                  description: e.target.value,\n                }))\n              }\n              required\n            />\n          </div>\n\n          <div className=\"flex justify-end space-x-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading ? \"Adding...\" : \"Add Property\"}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\n    import { Footer } from \"./Footer\";\n    import Header from \"./Header\";\n    // import { AuthModal } from \"./AuthModal\"; // Remove this line\n    import { useAuth } from \"../lib/auth\";\n\n    interface LayoutProps {\n      children: React.ReactNode;\n    }\n\n    export function Layout({ children }: LayoutProps) {\n      const { user, profile, signOut } = useAuth();\n      // const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false); // Remove this line\n      // const [authMode, setAuthMode] = React.useState<\"signin\" | \"signup\">(\"signin\"); // Remove this line\n\n      return (\n        <div className=\"min-h-screen bg-background\">\n          <Header\n            isAuthenticated={!!user}\n            userProfile={profile || undefined}\n          />\n\n          {children}\n\n          <Footer />\n        </div>\n      );\n    }\n","import { supabase } from \"./supabase\";\n\n    export async function fetchPropertyNews() {\n      return [\n        {\n          title: \"UK Housing Market Shows Signs of Recovery\",\n          description:\n            \"Recent data indicates a steady increase in property transactions...\",\n          url: \"#\",\n          publishedAt: new Date().toISOString(),\n        },\n        {\n          title: \"Interest Rates Impact on Property Market\",\n          description:\n            \"Bank of England's latest decision affects mortgage rates...\",\n          url: \"#\",\n          publishedAt: new Date().toISOString(),\n        },\n        {\n          title: \"Regional Property Markets Outperform London\",\n          description: \"Northern cities show strong growth in property values...\",\n          url: \"#\",\n          publishedAt: new Date().toISOString(),\n        },\n      ];\n    }\n\n    export async function generateMarketInsights(prompt: string) {\n      try {\n        const formattedPrompt = `${prompt}\n\n    Provide a detailed analysis using EXACTLY this format (do not include numbers or asterisks at the start of sections):\n\n    ## Latest Tax Law Changes\n    - The current stamp duty rates and thresholds\n    - Recent changes to capital gains tax\n    - Upcoming tax proposals\n\n    ## Landlord Regulations\n    - Latest HMO licensing requirements\n    - Recent changes to tenant rights\n    - Current safety regulations\n\n    ## Government Policies\n    - New housing policies\n    - Regional development initiatives\n    - Planning permission changes\n\n    ## Market Impact Analysis\n    - Effect on property values\n    - Changes to rental yields\n    - Investment recommendations\n\n    Use ONLY ## for section headers and - for bullet points. Do not use any other formatting, numbers, or special characters. Each bullet point should be a complete sentence with specific dates and numbers where possible.`;\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: formattedPrompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API\");\n        }\n\n        // Clean up the response to ensure proper formatting\n        let insights = data.candidates[0].content.parts[0].text;\n        insights = insights\n          .replace(/\\*\\*/g, \"\") // Remove any asterisks - No longer needed as we are asking for markdown\n          .replace(/\\*\\s/g, \"- \") // Replace any remaining asterisk bullets with dashes - No longer needed as we are asking for markdown\n          .replace(/\\d+\\.\\s/g, \"- \") // Replace numbered lists with bullet points - No longer needed as we are asking for markdown\n          .replace(/^[0-9]\\./gm, \"-\") // Replace numbers at start of lines with dashes - No longer needed as we are asking for markdown\n          .replace(/\\n\\n+/g, \"\\n\\n\") // Normalize line spacing\n          .replace(/\\n\\s*\\n/g, \"\\n\\n\") // Fix multiple blank lines\n          .trim();\n\n        return insights;\n      } catch (error) {\n        console.error(\"Error generating insights:\", error);\n        throw error;\n      }\n    }\n\n    export async function storeMarketInsights(insights: string) {\n      const { error } = await supabase.from(\"market_insights\").insert([\n        {\n          content: insights,\n          generated_at: new Date().toISOString(),\n        },\n      ]);\n\n      if (error) throw error;\n    }\n\n    export async function getLatestMarketInsights() {\n      try {\n        const { data, error } = await supabase\n          .from(\"market_insights\")\n          .select(\"*\")\n          .order(\"generated_at\", { ascending: false })\n          .limit(1)\n          .maybeSingle();\n\n        if (error) throw error;\n        return data;\n      } catch (error) {\n        console.error(\"Error fetching market insights:\", error);\n        return null;\n      }\n    }\n\n    export async function generatePriceForecast(area: string) { // Existing function\n      try {\n        const prompt = `Predict the 1-year property price forecast for ${area}, UK.\n        Consider historical price data, current market trends, interest rate forecasts, and economic indicators.\n        Provide a concise summary using Markdown headings for key sections and bullet points for details.\n\n        Example format:\n\n        ## Price Forecast Summary\n        - Predicted Change: [Percentage]%\n        - Key Factors:\n          - [Factor 1]\n          - [Factor 2]\n          - [Factor 3]\n        `;\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for forecast\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating price forecast:\", error);\n        return \"Failed to generate price forecast. Please try again later.\";\n      }\n    }\n\n    export async function generateInvestmentHotspots(area: string) { // Existing function\n      try {\n        const prompt = `Identify top 3 emerging property investment hotspots in the ${area}, UK, for 2024-2025.\n        Analyze demographic trends, economic growth indicators, infrastructure developments, and average property price growth over the last 3 years.\n        Provide a concise summary for each hotspot using Markdown headings for hotspot names and bullet points for analysis.\n\n        Example format:\n\n        ## Hotspot 1: [Hotspot Name]\n        - [Factor 1]\n        - [Factor 2]\n        - [Factor 3]\n\n        ## Hotspot 2: [Hotspot Name]\n        - ...\n\n        ## Hotspot 3: [Hotspot Name]\n        - ...\n        `;\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for hotspots\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating investment hotspots:\", error);\n        return \"Failed to generate investment hotspots. Please try again later.\";\n      }\n    }\n\n    export async function generateTrendIdentification(area: string) { // Existing function\n      try {\n        const prompt = `Identify 3 key emerging trends in the UK real estate market for 2024-2025.\n        Focus on shifts in demand for property types (e.g., detached houses, apartments, bungalows) and identify any emerging high-growth neighborhoods across the UK.\n        Analyze factors such as changing buyer preferences, lifestyle shifts, remote work impact, and regional economic forecasts.\n        Provide a concise summary for each trend using Markdown headings for trend names and bullet points for details.\n\n        Example format:\n\n        ## Trend 1: [Trend Name]\n        - [Factor 1]\n        - [Factor 2]\n        - [Factor 3]\n\n        ## Trend 2: [Trend Name]\n        - ...\n\n        ## Trend 3: [Trend Name]\n        - ...\n        `;\n\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for trend identification\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating trend identification:\", error);\n        return \"Failed to generate trend identification. Please try again later.\";\n      }\n    }\n\n    export async function generateEconomicIndicatorAnalysis(area: string) { // New function\n      try {\n        const prompt = `Analyze the current UK economic indicators and their potential impact on the UK real estate market for 2024-2025.\n        Focus on:\n        1. Interest Rates: Current levels and predicted changes, impact on mortgage affordability and buyer demand.\n        2. Employment Rates: Current employment trends, job growth/decline in key sectors, and impact on housing demand.\n        3. GDP Growth: Current GDP growth rate, forecasts for the next year, and correlation with property market health.\n\n        Provide a concise analysis summarizing the overall UK property market health based on these economic indicators using Markdown headings for sections and bullet points for details where appropriate.\n\n        Example format:\n\n        ## Economic Summary\n        [Overall summary paragraph]\n\n        ## Interest Rates Impact\n        - [Bullet point about interest rate levels]\n        - [Bullet point about predicted changes]\n        - [Bullet point about impact on affordability]\n\n        ## Employment Rates Impact\n        - ...\n\n        ## GDP Growth Impact\n        - ...\n        `;\n\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for economic indicator analysis\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating economic indicator analysis:\", error);\n        return \"Failed to generate economic indicator analysis. Please try again later.\";\n      }\n    }\n\n    export async function generateCashFlowAnalysis(propertyDetails: any) {\n      try {\n        const prompt = `Analyze the cash flow potential of a property with the following details:\n        ${JSON.stringify(propertyDetails)}\n        Provide a concise cash flow analysis, including key metrics like gross rental yield, net operating income, and monthly cash flow.`;\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for cash flow analysis\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating cash flow analysis:\", error);\n        return \"Failed to generate cash flow analysis. Please try again later.\";\n      }\n    }\n\n    export async function generateCapRateAnalysis(propertyDetails: any) {\n      try {\n        const prompt = `Analyze the cap rate for a property with the following details:\n        ${JSON.stringify(propertyDetails)}\n        Provide a concise cap rate analysis, explaining the calculated cap rate and its implications for investment.`;\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for cap rate analysis\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating cap rate analysis:\", error);\n        return \"Failed to generate cap rate analysis. Please try again later.\";\n      }\n    }\n\n    export async function generateROIForecasting(propertyDetails: any) {\n      try {\n        const prompt = `Provide a 5-year ROI forecast for a property with the following details:\n        ${JSON.stringify(propertyDetails)}\n        Include projections for property appreciation, rental income growth, and potential expenses.\n        Summarize the 5-year ROI forecast, highlighting key factors and potential returns.`;\n\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: prompt,\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n          throw new Error(\"Invalid response format from Gemini API for ROI forecasting\");\n        }\n\n        return data.candidates[0].content.parts[0].text;\n      } catch (error) {\n        console.error(\"Error generating ROI forecasting:\", error);\n        return \"Failed to generate ROI forecasting. Please try again later.\";\n      }\n    }\n","import React from 'react';\n    import { MapContainer, TileLayer, useMap } from 'react-leaflet';\n    import 'leaflet/dist/leaflet.css';\n    import L from 'leaflet';\n\n    // Fix for Leaflet marker icon issue in Vite/Webpack\n    import markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\n    import markerIcon from 'leaflet/dist/images/marker-icon.png';\n    import markerShadow from 'leaflet/dist/images/marker-shadow.png';\n\n    delete L.Icon.Default.prototype._getIconUrl;\n\n    L.Icon.Default.mergeOptions({\n      iconRetinaUrl: markerIcon2x.src,\n      iconUrl: markerIcon.src,\n      shadowUrl: markerShadow.src\n    });\n\n    const position = [51.505, -0.09] // Example: London coordinates\n\n    const InteractiveMap = () => {\n      return (\n        <MapContainer center={position} zoom={13} style={{ height: '400px', width: '100%' }}>\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n        </MapContainer>\n      );\n    };\n\n    export default InteractiveMap;\n","import React from \"react\";\n    import { useAuth } from \"../lib/auth\";\n    import { useNavigate } from \"react-router-dom\";\n    import { Button } from \"./ui/button\";\n    import { Card, CardContent, CardHeader } from \"./ui/card\";\n    import {\n      Building2,\n      Star,\n      Plus,\n      TrendingUp,\n      PoundSterling,\n      Users,\n      Crown,\n      Bitcoin,\n      MapIcon\n    } from \"lucide-react\";\n    import { getSavedProperties } from \"../lib/properties\";\n    import { AddPropertyModal } from \"./AddPropertyModal\";\n    import PropertyCard from \"./PropertyCard\";\n    import { supabase } from \"../lib/supabase\";\n    import { Layout } from \"./Layout\";\n    import { BitcoinPrice } from \"./BitcoinPrice\";\n    import {\n      generateCashFlowAnalysis,\n      generateCapRateAnalysis,\n      generateROIForecasting,\n    } from \"../lib/market-insights\"; // Import AI functions\n    import InteractiveMap from \"./InteractiveMap\"; // Import InteractiveMap\n\n    export default function Dashboard() {\n      const { user, profile } = useAuth();\n      const navigate = useNavigate();\n      const [savedProperties, setSavedProperties] = React.useState<any[]>([]);\n      const [addedProperties, setAddedProperties] = React.useState<any[]>([]);\n      const [users, setUsers] = React.useState<any[]>([]);\n      const [isAddPropertyModalOpen, setIsAddPropertyModalOpen] =\n        React.useState(false);\n      const [portfolioStats, setPortfolioStats] = React.useState({\n        totalProperties: 0,\n        totalValue: 0,\n        averagePrice: 0,\n        totalProfit: 0,\n        monthlyIncome: 0,\n      });\n\n      // States for Investment Analysis Dashboard\n      const [cashFlowAnalysis, setCashFlowAnalysis] = React.useState<string | null>(null);\n      const [capRateAnalysis, setCapRateAnalysis] = React.useState<string | null>(null);\n      const [roiForecasting, setRoiForecasting] = React.useState<string | null>(null);\n      const [analysisLoading, setAnalysisLoading] = React.useState(false);\n      const [analysisError, setAnalysisError] = React.useState<string | null>(null);\n\n\n      const loadUsers = React.useCallback(async () => {\n        if (!user || profile?.role !== \"admin\") return;\n        try {\n          const { data, error } = await supabase\n            .from(\"profiles\")\n            .select(\"*\")\n            .order(\"created_at\", { ascending: false });\n\n          if (error) throw error;\n          setUsers(data || []);\n        } catch (error) {\n          console.error(\"Error loading users:\", error);\n        }\n      }, [user, profile]);\n\n      const updateUserSubscription = async (userId: string, tier: string) => {\n        try {\n          const { error } = await supabase\n            .from(\"profiles\")\n            .update({\n              subscription_tier: tier,\n              subscription_status: \"active\",\n              updated_at: new Date().toISOString(),\n            })\n            .eq(\"id\", userId);\n\n          if (error) throw error;\n          loadUsers();\n        } catch (error) {\n          console.error(\"Error updating subscription:\", error);\n        }\n      };\n\n      const loadProperties = React.useCallback(async () => {\n        if (!user) return;\n        try {\n          const [saved, { data: added }] = await Promise.all([\n            getSavedProperties(user.id),\n            supabase\n              .from(\"properties\")\n              .select(\n                `*,\n                assigned_user:profiles!properties_assigned_user_id_fkey(full_name, email),\n                author:profiles!properties_created_by_fkey(full_name, email)`,\n              )\n              .eq(\"created_by\", user.id),\n          ]);\n\n          setAddedProperties(added || []);\n          setSavedProperties(saved);\n\n          // Calculate portfolio stats\n          const totalProperties = (added || []).length + saved.length;\n          const totalValue = [...(added || []), ...saved].reduce(\n            (sum, prop) => sum + (prop.price || 0),\n            0,\n          );\n          const averagePrice = totalValue / (totalProperties || 1);\n          const totalProfit = [...(added || []), ...saved].reduce(\n            (sum, prop) => sum + (prop.potential_profit || 0),\n            0,\n          );\n          const monthlyIncome = [...(added || []), ...saved].reduce(\n            (sum, prop) => sum + (prop.monthly_income || 0),\n            0,\n          );\n\n          setPortfolioStats({\n            totalProperties,\n            totalValue,\n            averagePrice,\n            totalProfit,\n            monthlyIncome,\n          });\n        } catch (error) {\n          console.error(\"Error loading properties:\", error);\n        }\n      }, [user]);\n\n      React.useEffect(() => {\n        if (!user) {\n          navigate(\"/\");\n          return;\n        }\n        loadProperties();\n        loadUsers();\n      }, [user, navigate, loadProperties, loadUsers]);\n\n      const handleInvestmentAnalysis = async (property: any) => {\n        setAnalysisLoading(true);\n        setAnalysisError(null);\n        setCashFlowAnalysis(null);\n        setCapRateAnalysis(null);\n        setRoiForecasting(null);\n\n        try {\n          const cashFlowData = await generateCashFlowAnalysis(property);\n          setCashFlowAnalysis(cashFlowData);\n\n          const capRateData = await generateCapRateAnalysis(property);\n          setCapRateAnalysis(capRateData);\n\n          const roiData = await generateROIForecasting(property);\n          setRoiForecasting(roiData);\n        } catch (error: any) {\n          console.error(\"Error generating investment analysis:\", error);\n          setAnalysisError(\"Failed to generate investment analysis. Please try again.\");\n          setCashFlowAnalysis(null);\n          setCapRateAnalysis(null);\n          setRoiForecasting(null);\n        } finally {\n          setAnalysisLoading(false);\n        }\n      };\n\n\n      return (\n        <Layout>\n          <main className=\"container mx-auto px-4 py-8 pt-24\">\n            <div className=\"max-w-7xl mx-auto space-y-8\">\n              {/* ... Dashboard header and stats cards ... */}\n\n              <Card> {/* Interactive Maps Card */}\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold flex items-center gap-2\">\n                    <MapIcon className=\"w-5 h-5\" /> Interactive Maps\n                  </h2>\n                  <CardDescription>\n                    Explore property surroundings and neighborhoods.\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <InteractiveMap />\n                </CardContent>\n              </Card>\n\n\n              <Card> {/* Investment Analysis Dashboard Card */}\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">Investment Analysis Dashboard</h2>\n                  <CardDescription>\n                    AI-powered metrics to evaluate property investments.\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-6\">\n                  {analysisError && (\n                    <p className=\"text-destructive text-sm\">{analysisError}</p>\n                  )}\n\n                  <div className=\"space-y-4\">\n                    <Button onClick={() => handleInvestmentAnalysis({ /* Pass property details here, e.g., selected property or form data */ })} disabled={analysisLoading} className=\"w-full\">\n                      {analysisLoading ? \"Generating Analysis...\" : \"Generate Analysis for Selected Property\"}\n                    </Button>\n                    {cashFlowAnalysis && (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        <h3>Cash Flow Analysis</h3>\n                        {cashFlowAnalysis.split(\"\\n\").map((paragraph, index) => (\n                          <p key={index}>{paragraph}</p>\n                        ))}\n                      </div>\n                    )}\n\n                    {capRateAnalysis && (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        <h3>Cap Rate Analysis</h3>\n                        {capRateAnalysis.split(\"\\n\").map((paragraph, index) => (\n                          <p key={index}>{paragraph}</p>\n                        ))}\n                      </div>\n                    )}\n\n                    {roiForecasting && (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        <h3>ROI Forecasting (5-Year)</h3>\n                        {roiForecasting.split(\"\\n\").map((paragraph, index) => (\n                          <p key={index}>{paragraph}</p>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                {/* ... Saved and Added Properties sections ... */}\n              </div>\n            </div>\n          </main>\n\n          <AddPropertyModal\n            isOpen={isAddPropertyModalOpen}\n            onClose={() => setIsAddPropertyModalOpen(false)}\n            onSuccess={loadProperties}\n          />\n        </Layout>\n      );\n    }\n","import React from \"react\";\n    import Header from \"./Header\";\n    import HeroSection from \"./HeroSection\";\n    import { SubscriptionPlans } from \"./SubscriptionPlans\";\n    import { createCheckoutSession } from \"../lib/stripe\";\n    import { useAuth } from \"../lib/auth\";\n    import { useToast } from \"./ui/use-toast\";\n    import { LegalDisclaimer } from \"./LegalDisclaimer\";\n    import { Footer } from \"./Footer\";\n    // import { AuthModal } from \"./AuthModal\";\n\n    export default function PricingPage() {\n      const { user, profile, signOut } = useAuth();\n      const { toast } = useToast();\n      // const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false);\n      // const [authMode, setAuthMode] = React.useState<\"signin\" | \"signup\">(\"signin\");\n\n      const handleSubscribe = async (priceId: string) => {\n        if (!user) {\n          // Store the selected price ID in localStorage\n          localStorage.setItem(\"pending_subscription_price_id\", priceId);\n\n          // Trigger sign up modal\n          // setAuthMode(\"signup\");\n          // setIsAuthModalOpen(true);\n          return;\n        }\n\n        try {\n          await createCheckoutSession(priceId, user.id);\n        } catch (error) {\n          toast({\n            title: \"Error\",\n            description: \"Failed to start subscription process. Please try again.\",\n            variant: \"destructive\",\n          });\n        }\n      };\n\n      return (\n        <div className=\"min-h-screen bg-background\">\n          <Header\n            isAuthenticated={!!user}\n            userProfile={profile || undefined}\n          />\n          <HeroSection\n            title=\"Choose Your Perfect Plan\"\n            subtitle=\"Select the perfect subscription plan to unlock premium features and detailed property insights\"\n            backgroundImage=\"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3\"\n            showSearch={false}\n            showStats={false}\n            height=\"h-[400px]\"\n          />\n          <main>\n            <SubscriptionPlans onSubscribe={handleSubscribe} />\n            <div className=\"container mx-auto px-4 py-12\">\n              <div className=\"max-w-4xl mx-auto prose dark:prose-invert mb-16\">\n                <h2 className=\"text-3xl font-bold mb-6\">\n                  Investment Plans for Every Property Investor\n                </h2>\n                <p>\n                  Choose from our range of subscription plans designed to meet the\n                  needs of property investors at every level. From market analysis\n                  to detailed property insights, our plans provide the tools you\n                  need to make informed investment decisions.\n                </p>\n\n                <h3 className=\"text-2xl font-semibold mt-8 mb-4\">Plan Benefits</h3>\n                <ul>\n                  <li>\n                    Access to comprehensive property market data and analytics\n                  </li>\n                  <li>Real-time market insights and trend analysis</li>\n                  <li>Advanced property search and filtering capabilities</li>\n                  <li>Investment calculators and ROI projections</li>\n                  <li>Portfolio tracking and management tools</li>\n                </ul>\n\n                <h3 className=\"text-2xl font-semibold mt-8 mb-4\">Why Subscribe?</h3>\n                <p>\n                  Our subscription plans give you access to premium features and\n                  insights that help you stay ahead in the property market. From\n                  basic market analysis to advanced AI-powered predictions, we\n                  provide the tools you need to make successful property\n                  investments.\n                </p>\n\n                <h3 className=\"text-2xl font-semibold mt-8 mb-4\">\n                  Money-Back Guarantee\n                </h3>\n                <p>\n                  We're confident in the value our platform provides. If you're not\n                  satisfied with your subscription within the first 30 days, we'll\n                  provide a full refund, no questions asked.\n                </p>\n              </div>\n              <LegalDisclaimer />\n            </div>\n          </main>\n          <Footer />\n        </div>\n      );\n    }\n","import React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { useToast } from \"./ui/use-toast\";\nimport { supabase } from \"../lib/supabase\";\nimport { useAuth } from \"../lib/auth\";\n\nexport function OnboardingModal(props) {\n  const [step, setStep] = React.useState(0);\n  const [loading, setLoading] = React.useState(false);\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [formData, setFormData] = React.useState({\n    profileImage: \"\",\n    bannerImage: \"\",\n    selectedWidgets: [],\n  });\n\n  const handleComplete = async () => {\n    if (!user) return;\n    setLoading(true);\n\n    try {\n      const { error } = await supabase\n        .from(\"profiles\")\n        .update({\n          avatar_url:\n            formData.profileImage ||\n            `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.email}`,\n          banner_url:\n            formData.bannerImage ||\n            \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab\",\n          dashboard_widgets: formData.selectedWidgets,\n          onboarding_completed: true,\n        })\n        .eq(\"id\", user.id);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Setup Complete!\",\n        description: \"Your profile has been updated successfully.\",\n      });\n      props.onClose();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update profile. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const steps = [\n    {\n      title: \"Profile Image\",\n      description: \"Add a profile image to personalize your account\",\n      component: (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Profile Image URL</Label>\n            <Input\n              placeholder=\"Enter image URL or leave blank for default avatar\"\n              value={formData.profileImage}\n              onChange={(e) =>\n                setFormData((prev) => ({\n                  ...prev,\n                  profileImage: e.target.value,\n                }))\n              }\n            />\n          </div>\n          {formData.profileImage && (\n            <img\n              src={formData.profileImage}\n              alt=\"Profile Preview\"\n              className=\"w-24 h-24 rounded-full object-cover mx-auto\"\n            />\n          )}\n        </div>\n      ),\n    },\n    {\n      title: \"Dashboard Banner\",\n      description: \"Choose a banner image for your dashboard\",\n      component: (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Banner Image URL</Label>\n            <Input\n              placeholder=\"Enter banner image URL or leave blank for default\"\n              value={formData.bannerImage}\n              onChange={(e) =>\n                setFormData((prev) => ({\n                  ...prev,\n                  bannerImage: e.target.value,\n                }))\n              }\n            />\n          </div>\n          {formData.bannerImage && (\n            <img\n              src={formData.bannerImage}\n              alt=\"Banner Preview\"\n              className=\"w-full h-32 object-cover rounded-md\"\n            />\n          )}\n        </div>\n      ),\n    },\n    {\n      title: \"Dashboard Widgets\",\n      description: \"Select the widgets you want to see on your dashboard\",\n      component: (\n        <div className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            {[\n              \"market_trends\",\n              \"property_news\",\n              \"saved_properties\",\n              \"price_alerts\",\n              \"market_insights\",\n              \"investment_calculator\",\n            ].map((widget) => (\n              <Button\n                key={widget}\n                variant={\n                  formData.selectedWidgets.includes(widget)\n                    ? \"default\"\n                    : \"outline\"\n                }\n                onClick={() =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    selectedWidgets: prev.selectedWidgets.includes(widget)\n                      ? prev.selectedWidgets.filter((w) => w !== widget)\n                      : [...prev.selectedWidgets, widget],\n                  }))\n                }\n                className=\"h-auto py-4 px-6 text-left flex flex-col items-start space-y-2\"\n              >\n                <span className=\"font-medium capitalize\">\n                  {widget.replace(\"_\", \" \")}\n                </span>\n              </Button>\n            ))}\n          </div>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Dialog open={props.isOpen} onOpenChange={props.onClose}>\n      <DialogContent className=\"sm:max-w-[600px]\">\n        <DialogHeader>\n          <DialogTitle>{steps[step].title}</DialogTitle>\n          <DialogDescription>{steps[step].description}</DialogDescription>\n        </DialogHeader>\n\n        <div className=\"py-6\">{steps[step].component}</div>\n\n        <div className=\"flex justify-between\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setStep((s) => Math.max(0, s - 1))}\n            disabled={step === 0}\n          >\n            Previous\n          </Button>\n          <Button\n            onClick={() => {\n              if (step === steps.length - 1) {\n                handleComplete();\n              } else {\n                setStep((s) => Math.min(steps.length - 1, s + 1));\n              }\n            }}\n            disabled={loading}\n          >\n            {step === steps.length - 1 ? \"Complete Setup\" : \"Next\"}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useToast } from \"./ui/use-toast\";\nimport { useAuth } from \"../lib/auth\";\nimport { OnboardingModal } from \"./OnboardingModal\";\n\nexport default function SubscriptionSuccess() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { toast } = useToast();\n  const { user } = useAuth();\n  const [showOnboarding, setShowOnboarding] = useState(true);\n\n  useEffect(() => {\n    const sessionId = searchParams.get(\"session_id\");\n    if (sessionId) {\n      toast({\n        title: \"Subscription Successful!\",\n        description:\n          \"Thank you for subscribing. Your premium features are now available.\",\n      });\n    }\n\n    // Only redirect if onboarding is skipped or completed\n    if (!showOnboarding) {\n      navigate(\"/dashboard\");\n    }\n  }, [showOnboarding, navigate, searchParams, toast]);\n\n  return (\n    <>\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"max-w-md w-full mx-auto p-8\">\n          <div className=\"bg-white shadow-lg rounded-lg p-6 text-center\">\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg\n                className=\"w-8 h-8 text-green-500\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M5 13l4 4L19 7\"\n                />\n              </svg>\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Subscription Successful!\n            </h2>\n            <p className=\"text-gray-600 mb-4\">\n              Thank you for subscribing. Your premium features are now\n              available.\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Setting up your preferences...\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <OnboardingModal\n        isOpen={showOnboarding}\n        onClose={() => {\n          setShowOnboarding(false);\n          navigate(\"/dashboard\");\n        }}\n      />\n    </>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useToast } from \"./ui/use-toast\";\n\nexport default function SubscriptionCancel() {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    toast({\n      title: \"Subscription Cancelled\",\n      description:\n        \"Your subscription process was cancelled. Please try again if this was a mistake.\",\n      variant: \"destructive\",\n    });\n\n    // Redirect to home after a short delay\n    const timer = setTimeout(() => {\n      navigate(\"/\");\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full mx-auto p-8\">\n        <div className=\"bg-white shadow-lg rounded-lg p-6 text-center\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <svg\n              className=\"w-8 h-8 text-red-500\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            Subscription Cancelled\n          </h2>\n          <p className=\"text-gray-600 mb-4\">\n            Your subscription process was cancelled. Please try again if this\n            was a mistake.\n          </p>\n          <p className=\"text-sm text-gray-500\">\n            Redirecting you to the homepage...\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useAuth } from \"../lib/auth\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { useToast } from \"./ui/use-toast\";\nimport { supabase } from \"../lib/supabase\";\nimport { Layout } from \"./Layout\";\n\nexport default function AccountSettings() {\n  const { user, profile } = useAuth();\n  const { toast } = useToast();\n  const [loading, setLoading] = React.useState(false);\n  const [formData, setFormData] = React.useState({\n    fullName: profile?.full_name || \"\",\n    avatarUrl: \"\",\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    setLoading(true);\n    try {\n      const updates = {\n        id: user.id,\n        full_name: formData.fullName,\n        avatar_url:\n          formData.avatarUrl ||\n          `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.email}`,\n        updated_at: new Date().toISOString(),\n      };\n\n      const { error } = await supabase.from(\"profiles\").upsert(updates);\n      if (error) throw error;\n\n      toast({\n        title: \"Success\",\n        description: \"Your profile has been updated.\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update profile.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdatePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    if (formData.newPassword !== formData.confirmPassword) {\n      toast({\n        title: \"Error\",\n        description: \"New passwords do not match.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { error } = await supabase.auth.updateUser({\n        password: formData.newPassword,\n      });\n\n      if (error) throw error;\n\n      toast({\n        title: \"Success\",\n        description: \"Your password has been updated.\",\n      });\n\n      setFormData((prev) => ({\n        ...prev,\n        currentPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\",\n      }));\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update password.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!user || !profile) return null;\n\n  return (\n    <Layout>\n      <main className=\"container mx-auto px-4 py-8 pt-24\">\n        <div className=\"max-w-2xl mx-auto space-y-8\">\n          <div className=\"space-y-2\">\n            <h1 className=\"text-2xl font-bold\">Account Settings</h1>\n            <p className=\"text-muted-foreground\">\n              Update your profile and account preferences.\n            </p>\n          </div>\n\n          <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fullName\">Full Name</Label>\n              <Input\n                id=\"fullName\"\n                value={formData.fullName}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, fullName: e.target.value }))\n                }\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"avatarUrl\">Avatar URL</Label>\n              <Input\n                id=\"avatarUrl\"\n                type=\"url\"\n                value={formData.avatarUrl}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    avatarUrl: e.target.value,\n                  }))\n                }\n                placeholder=\"Leave blank for default avatar\"\n              />\n            </div>\n\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? \"Updating...\" : \"Update Profile\"}\n            </Button>\n          </form>\n\n          <div className=\"border-t pt-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">Change Password</h2>\n            <form onSubmit={handleUpdatePassword} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"newPassword\">New Password</Label>\n                <Input\n                  id=\"newPassword\"\n                  type=\"password\"\n                  value={formData.newPassword}\n                  onChange={(e) =>\n                    setFormData((prev) => ({\n                      ...prev,\n                      newPassword: e.target.value,\n                    }))\n                  }\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"confirmPassword\">Confirm New Password</Label>\n                <Input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  value={formData.confirmPassword}\n                  onChange={(e) =>\n                    setFormData((prev) => ({\n                      ...prev,\n                      confirmPassword: e.target.value,\n                    }))\n                  }\n                />\n              </div>\n\n              <Button type=\"submit\" disabled={loading}>\n                {loading ? \"Updating...\" : \"Update Password\"}\n              </Button>\n            </form>\n          </div>\n        </div>\n      </main>\n    </Layout>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../lib/auth\";\n\nexport function RequireAuth({ children }: { children: React.ReactNode }) {\n  const { user, profile, isLoading, fetchProfile } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      if (!isLoading && !user) {\n        navigate(\"/\");\n        return;\n      }\n\n      if (user && !profile) {\n        // Fetch profile if user is authenticated but profile is missing\n        await fetchProfile(user.id);\n      }\n    };\n\n    checkAuth();\n  }, [user, profile, isLoading, navigate, fetchProfile]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        Loading...\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n","import { motion } from \"framer-motion\";\nimport React from \"react\";\n\ninterface PageTransitionProps {\n  children: React.ReactNode;\n}\n\nexport function PageTransition({ children }: PageTransitionProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: 20 }}\n      transition={{ duration: 0.3 }}\n    >\n      {children}\n    </motion.div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nexport function useBitcoinPrice() {\n  const [btcPrice, setBtcPrice] = useState<number | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchPrice = async () => {\n      try {\n        const response = await fetch(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${import.meta.env.VITE_GEMINI_API_KEY}`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              contents: [\n                {\n                  parts: [\n                    {\n                      text: \"What is the current Bitcoin price in GBP? Return ONLY the number, no text or currency symbols.\",\n                    },\n                  ],\n                },\n              ],\n            }),\n          },\n        );\n\n        const data = await response.json();\n        const priceText = data.candidates[0].content.parts[0].text;\n        const price = parseFloat(priceText.replace(/[^0-9.]/g, \"\"));\n\n        if (!isNaN(price)) {\n          setBtcPrice(price);\n          setLoading(false);\n        }\n      } catch (error) {\n        console.error(\"Error fetching Bitcoin price:\", error);\n      }\n    };\n\n    fetchPrice();\n    const interval = setInterval(fetchPrice, 60000); // Update every minute\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const convertGBPtoBTC = (gbpAmount: number) => {\n    if (!btcPrice) return null;\n    return gbpAmount / btcPrice;\n  };\n\n  return { btcPrice, loading, convertGBPtoBTC };\n}\n","import React from \"react\";\nimport { useBitcoinPrice } from \"../lib/hooks/useBitcoinPrice\";\nimport { Bitcoin } from \"lucide-react\";\n\ninterface BitcoinPriceProps {\n  amount: number;\n}\n\nexport function BitcoinPrice({ amount }: BitcoinPriceProps) {\n  const { btcPrice, loading, convertGBPtoBTC } = useBitcoinPrice();\n  const btcAmount = convertGBPtoBTC(amount);\n\n  if (loading) return <span className=\"text-muted-foreground\">Loading...</span>;\n  if (!btcAmount) return null;\n\n  return (\n    <span className=\"inline-flex items-center gap-1\">\n      <Bitcoin className=\"h-4 w-4 text-[#F7931A]\" />\n      {btcAmount.toFixed(2)}\n    </span>\n  );\n}\n","import React from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"./ui/dialog\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { MessageCircle, TrendingUp, Home, PoundSterling } from \"lucide-react\";\nimport { BitcoinPrice } from \"./BitcoinPrice\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n} from \"recharts\";\n\ninterface PropertyDetailsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  property: any;\n  onMessageAuthor?: (authorId: string) => void;\n}\n\nexport function PropertyDetailsModal({\n  isOpen,\n  onClose,\n  property,\n  onMessageAuthor,\n}: PropertyDetailsModalProps) {\n  // Generate 10-year prediction data\n  const predictionData = React.useMemo(() => {\n    const currentYear = new Date().getFullYear();\n    const basePrice = property.price || property.deal_price || 500000;\n    const growthRate = 0.05; // 5% annual growth\n\n    return Array.from({ length: 11 }, (_, i) => ({\n      year: currentYear + i,\n      value: Math.round(basePrice * Math.pow(1 + growthRate, i)),\n    }));\n  }, [property]);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl\">\n            {property.title || property.address}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div className=\"aspect-video rounded-lg overflow-hidden mb-4\">\n              <img\n                src={\n                  property.images?.[0] ||\n                  \"https://images.unsplash.com/photo-1560518883-ce09059eeffa\"\n                }\n                alt={property.title || \"Property\"}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm text-muted-foreground\">Price</span>\n                    <PoundSterling className=\"w-4 h-4 text-primary\" />\n                  </div>\n                  <div className=\"text-2xl font-bold\">\n                    Â£\n                    {(\n                      property.price ||\n                      property.deal_price ||\n                      0\n                    ).toLocaleString()}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground mt-1\">\n                    <BitcoinPrice\n                      amount={property.price || property.deal_price || 0}\n                    />\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm text-muted-foreground\">\n                      Details\n                    </span>\n                    <Home className=\"w-4 h-4 text-primary\" />\n                  </div>\n                  <div className=\"space-y-1\">\n                    {property.bedrooms && (\n                      <div className=\"text-sm\">\n                        {property.bedrooms} Bedrooms\n                      </div>\n                    )}\n                    {property.bathrooms && (\n                      <div className=\"text-sm\">\n                        {property.bathrooms} Bathrooms\n                      </div>\n                    )}\n                    {property.square_footage && (\n                      <div className=\"text-sm\">\n                        {property.square_footage} sq ft\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {property.description && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-semibold mb-2\">Description</h3>\n                <p className=\"text-muted-foreground\">{property.description}</p>\n              </div>\n            )}\n\n            {onMessageAuthor && property.author && (\n              <Button\n                className=\"w-full\"\n                onClick={() => onMessageAuthor(property.author.id)}\n              >\n                <MessageCircle className=\"w-4 h-4 mr-2\" />\n                Contact Agent\n              </Button>\n            )}\n          </div>\n\n          <div>\n            <Card className=\"mb-6\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <TrendingUp className=\"w-5 h-5 text-primary\" />\n                  <h3 className=\"text-lg font-semibold\">10 Year Prediction</h3>\n                </div>\n                <div className=\"h-[300px]\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <AreaChart data={predictionData}>\n                      <defs>\n                        <linearGradient\n                          id=\"colorValue\"\n                          x1=\"0\"\n                          y1=\"0\"\n                          x2=\"0\"\n                          y2=\"1\"\n                        >\n                          <stop\n                            offset=\"5%\"\n                            stopColor=\"hsl(var(--primary))\"\n                            stopOpacity={0.2}\n                          />\n                          <stop\n                            offset=\"95%\"\n                            stopColor=\"hsl(var(--primary))\"\n                            stopOpacity={0}\n                          />\n                        </linearGradient>\n                      </defs>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis dataKey=\"year\" />\n                      <YAxis\n                        tickFormatter={(value) =>\n                          `Â£${(value / 1000).toFixed(0)}k`\n                        }\n                      />\n                      <Tooltip\n                        formatter={(value) => `Â£${value.toLocaleString()}`}\n                      />\n                      <Area\n                        type=\"monotone\"\n                        dataKey=\"value\"\n                        stroke=\"hsl(var(--primary))\"\n                        fillOpacity={1}\n                        fill=\"url(#colorValue)\"\n                      />\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              </CardContent>\n            </Card>\n\n            {property.type === \"deal\" && (\n              <Card>\n                <CardContent className=\"p-4\">\n                  <h3 className=\"text-lg font-semibold mb-4\">\n                    Investment Details\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {property.original_price && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">\n                          Original Price\n                        </span>\n                        <span>Â£{property.original_price.toLocaleString()}</span>\n                      </div>\n                    )}\n                    {property.potential_profit && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">\n                          Potential Profit\n                        </span>\n                        <span className=\"text-emerald-500\">\n                          Â£{property.potential_profit.toLocaleString()}\n                        </span>\n                      </div>\n                    )}\n                    {property.roi_percentage && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">ROI</span>\n                        <span className=\"text-emerald-500\">\n                          {property.roi_percentage}%\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport PropertyCard from \"./PropertyCard\";\nimport { Layout } from \"./Layout\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { supabase } from \"../lib/supabase\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport { PropertyDetailsModal } from \"./PropertyDetailsModal\";\n\ninterface FeaturedPropertiesProps {\n  results?: any[];\n  isSubscriber?: boolean;\n  isLoading?: boolean;\n}\n\nexport async function getFeaturedDeals(): Promise<Property[]> {\n  const { data, error } = await supabase\n    .from(\"deals\", { schema: 'public' })\n    .select(\n      `\n      *,\n      assigned_user:profiles!deals_assigned_user_id_fkey(id, full_name, email),\n      author:profiles!deals_created_by_fkey(id, full_name, email)\n    `,\n    )\n    .order(\"created_at\", { ascending: false })\n    .limit(20);\n\n  if (error) {\n    console.error(\"Error fetching featured deals:\", error);\n    throw error;\n  }\n\n  return data as Property[];\n}\n\nconst FeaturedProperties = ({\n  results,\n  isSubscriber = false,\n  isLoading: isLoadingProp = false, // rename prop to avoid conflict\n}: FeaturedPropertiesProps = {}) => {\n  const { user, profile } = useAuth();\n  const [properties, setProperties] = React.useState<any[]>([]);\n  const [selectedProperty, setSelectedProperty] = React.useState<any>(null);\n  const [isLoading, setIsLoading] = React.useState(isLoadingProp); // use local state\n\n  const handleMessageAuthor = (authorId: string) => {\n    // Open the chat with the selected author\n    const event = new CustomEvent(\"open-messages\", {\n      detail: { receiverId: authorId },\n    });\n    window.dispatchEvent(event);\n  };\n\n  React.useEffect(() => {\n    const loadDeals = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getFeaturedDeals();\n        setProperties(data);\n      } catch (error) {\n        console.error(\"Error loading featured deals:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadDeals();\n  }, []);\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Investment Deals\"\n          subtitle=\"Discover exclusive property investment opportunities\"\n          backgroundImage=\"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\"\n          showSearch={true}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <div className=\"w-full min-h-[600px] bg-background p-4 sm:p-8\">\n          <div className=\"max-w-7xl mx-auto\">\n            <h2 className=\"text-2xl font-bold mb-6\">Available Deals</h2>\n            {isLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse\">\n                {[1, 2, 3].map((i) => (\n                  <div\n                    key={i}\n                    className=\"w-full h-[420px] bg-muted rounded-lg\"\n                  />\n                ))}\n              </div>\n            ) : properties.length === 0 ? (\n              <div className=\"text-center\">\n                <h2 className=\"text-xl font-semibold text-foreground\">\n                  No Available Deals\n                </h2>\n                <p className=\"mt-2 text-muted-foreground\">\n                  Check back later for new investment opportunities\n                </p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n                {properties.map((property) => (\n                  <PropertyCard\n                    key={property.id}\n                    id={property.id}\n                    address={property.property?.address || property.title}\n                    price={property.deal_price || property.property?.price}\n                    original_price={property.original_price}\n                    squareFootage={property.property?.square_footage}\n                    bedrooms={property.property?.bedrooms}\n                    bathrooms={property.property?.bathrooms}\n                    isPremium={property.is_premium}\n                    isSubscriber={profile?.subscription_tier !== \"free\"}\n                    author={property.author}\n                    type=\"deal\"\n                    status={property.status}\n                    potential_profit={property.potential_profit}\n                    roi_percentage={property.roi_percentage}\n                    images={[\n                      property.images && typeof property.images === \"string\"\n                        ? property.images\n                        : Array.isArray(property.images) &&\n                            property.images.length > 0\n                          ? property.images[0]\n                          : `https://source.unsplash.com/random/800x600?semi,detached&sig=${property.id}`,\n                    ]}\n                    onMessageAuthor={handleMessageAuthor}\n                    onClick={() => setSelectedProperty(property)}\n                  />\n                ))}\n              </div>\n            )}\n\n            {selectedProperty && (\n              <PropertyDetailsModal\n                isOpen={!!selectedProperty}\n                onClose={() => setSelectedProperty(null)}\n                property={selectedProperty}\n                onMessageAuthor={handleMessageAuthor}\n              />\n            )}\n          </div>\n        </div>\n      </Layout>\n    </PageTransition>\n  );\n};\n\nexport default FeaturedProperties;\n","import React from \"react\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport {\n  Newspaper,\n  LineChart,\n  Building2,\n  Globe2,\n  AlertTriangle,\n} from \"lucide-react\";\nimport { Layout } from \"./Layout\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport {\n  fetchPropertyNews,\n  generateMarketInsights,\n  getLatestMarketInsights,\n  storeMarketInsights,\n} from \"../lib/market-insights\";\n\nexport default function MarketInsightsPage() {\n  const { user: _, profile: __ } = useAuth();\n  const [news, setNews] = React.useState<any[]>([]);\n  const [insights, setInsights] = React.useState<string>(\"\");\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    const loadData = async () => {\n      try {\n        const prompt = `Analyze the current UK property regulatory landscape and provide insights on:\n\n1. Latest Tax Law Changes\n- Recent changes to property-related taxes\n- Impact on investors and landlords\n- Upcoming tax proposals\n\n2. Landlord Regulations\n- Current licensing requirements\n- Tenant rights updates\n- Property safety regulations\n\n3. Government Policies\n- Recent policy changes affecting property\n- Proposed legislation\n- Regional variations\n\n4. Market Impact Analysis\n- How these changes affect property values\n- Impact on rental yields\n- Investment strategy adjustments\n\nProvide specific dates, numbers, and practical implications where possible.`;\n\n        const [newsData, latestInsights] = await Promise.all([\n          fetchPropertyNews(),\n          getLatestMarketInsights(),\n        ]);\n\n        setNews(newsData.slice(0, 8));\n\n        try {\n          if (\n            latestInsights &&\n            new Date(latestInsights.generated_at).getTime() >\n              Date.now() - 24 * 60 * 60 * 1000\n          ) {\n            setInsights(latestInsights.content);\n          } else {\n            const newInsights = await generateMarketInsights(prompt);\n            setInsights(newInsights);\n            await storeMarketInsights(newInsights);\n          }\n        } catch (error) {\n          console.error(\"Error generating market insights:\", error);\n          setInsights(\n            \"Unable to load market insights at this time. Please try again later.\",\n          );\n        }\n      } catch (error) {\n        console.error(\"Error loading market data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Regulatory Updates & Market Insights\"\n          subtitle=\"Stay informed about the latest property regulations and policy changes\"\n          backgroundImage=\"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n              <div className=\"lg:col-span-2\">\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    <AlertTriangle className=\"w-5 h-5 text-red-500\" />\n                    <div className=\"flex items-center gap-2\">\n                      <h2 className=\"text-2xl font-semibold\">\n                        Regulatory Updates\n                      </h2>\n                      <span className=\"relative flex h-3 w-3\">\n                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n                        <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\n                      </span>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    {loading ? (\n                      <div className=\"animate-pulse space-y-4\">\n                        <div className=\"h-4 bg-muted rounded w-3/4\" />\n                        <div className=\"h-4 bg-muted rounded w-1/2\" />\n                        <div className=\"h-4 bg-muted rounded w-5/6\" />\n                      </div>\n                    ) : (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        {insights.split(\"\\n\").map((line, index) => {\n                          if (line.startsWith(\"## \")) {\n                            return (\n                              <h2\n                                key={index}\n                                className=\"text-xl font-semibold mt-6 mb-3\"\n                              >\n                                {line.replace(\"## \", \"\")}\n                              </h2>\n                            );\n                          } else if (line.startsWith(\"### \")) {\n                            return (\n                              <h3\n                                key={index}\n                                className=\"text-lg font-medium mt-4 mb-2\"\n                              >\n                                {line.replace(\"### \", \"\")}\n                              </h3>\n                            );\n                          } else if (line.startsWith(\"- \")) {\n                            return (\n                              <li key={index} className=\"ml-4\">\n                                {line.replace(\"- \", \"\")}\n                              </li>\n                            );\n                          } else if (line.trim() !== \"\") {\n                            return (\n                              <p key={index} className=\"mb-3\">\n                                {line}\n                              </p>\n                            );\n                          }\n                          return null;\n                        })}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    <Newspaper className=\"w-5 h-5\" />\n                    <h2 className=\"text-xl font-semibold\">Latest Updates</h2>\n                  </CardHeader>\n                  <CardContent>\n                    {loading ? (\n                      <div className=\"animate-pulse space-y-4\">\n                        {[1, 2, 3].map((i) => (\n                          <div key={i} className=\"space-y-2\">\n                            <div className=\"h-4 bg-muted rounded w-3/4\" />\n                            <div className=\"h-3 bg-muted rounded w-1/2\" />\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"space-y-6\">\n                        {news.map((article, index) => (\n                          <div\n                            key={index}\n                            className=\"border-b last:border-0 pb-4 last:pb-0\"\n                          >\n                            <h3 className=\"font-medium mb-1 line-clamp-2\">\n                              {article.title}\n                            </h3>\n                            <p className=\"text-sm text-muted-foreground mb-2\">\n                              {article.description}\n                            </p>\n                            <div className=\"flex justify-between items-center text-xs text-muted-foreground\">\n                              <span>\n                                {new Date(\n                                  article.publishedAt,\n                                ).toLocaleDateString()}\n                              </span>\n                              <Button\n                                variant=\"ghost\"\n                                className=\"group hover:text-primary\"\n                              >\n                                Read More\n                              </Button>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\n    import HeroSection from \"./HeroSection\";\n    import { useAuth } from \"../lib/auth\";\n    import MarketTrends from \"./MarketTrends\";\n    import { Layout } from \"./Layout\";\n    import { PageTransition } from \"./ui/page-transition\";\n    import { Card, CardContent, CardHeader } from \"./ui/card\";\n    import { generatePriceForecast } from \"../lib/market-insights\"; // Import function\n    import { Button } from \"./ui/button\";\n    import { ArrowRight } from \"lucide-react\";\n\n    export default function MarketTrendsPage() {\n      const { user: _, profile: __ } = useAuth();\n      const [loading, setLoading] = React.useState(true);\n      const [forecast, setForecast] = React.useState<string | null>(null); // State for forecast\n      const [forecastLoading, setForecastLoading] = React.useState(false); // Loading state for forecast\n      const [forecastError, setForecastError] = React.useState<string | null>(null); // Error state for forecast\n\n      const trends = [\n        {\n          title: \"Average Home Price\",\n          value: \"Â£450,000\",\n          change: \"+5.2%\",\n          isPositive: true,\n        },\n        {\n          title: \"Days on Market\",\n          value: \"28\",\n          change: \"-12%\",\n          isPositive: true,\n        },\n        {\n          title: \"Available Listings\",\n          value: \"1,234\",\n          change: \"-3.1%\",\n          isPositive: false,\n        },\n        {\n          title: \"Mortgage Rates\",\n          value: \"4.5%\",\n          change: \"+0.25%\",\n          isPositive: false,\n        },\n        {\n          title: \"Price per Sq Ft\",\n          value: \"Â£375\",\n          change: \"+2.8%\",\n          isPositive: true,\n        },\n        {\n          title: \"New Listings\",\n          value: \"458\",\n          change: \"+15%\",\n          isPositive: true,\n        },\n      ];\n\n      const articles = [\n        {\n          title: \"Understanding the Current Real Estate Market\",\n          excerpt:\n            \"Get insights into the latest trends and what they mean for buyers and sellers.\",\n          date: \"2024-03-15\",\n        },\n        {\n          title: \"Top 5 Investment Opportunities in Real Estate\",\n          excerpt:\n            \"Discover the most promising areas for property investment in the current market.\",\n          date: \"2024-03-10\",\n        },\n        {\n          title: \"Real Estate Market Forecast 2024\",\n          excerpt:\n            \"Expert predictions and analysis for the upcoming year in real estate.\",\n          date: \"2024-03-05\",\n        },\n      ];\n\n      React.useEffect(() => {\n        // Simulate loading\n        setTimeout(() => setLoading(false), 1000);\n      }, []);\n\n      const handleGenerateForecast = async () => { // Function to generate forecast\n        setForecastLoading(true);\n        setForecastError(null);\n        try {\n          const area = \"London\"; // Example area, can be dynamic\n          const forecastData = await generatePriceForecast(area);\n          setForecast(forecastData);\n        } catch (error: any) {\n          console.error(\"Error generating forecast:\", error);\n          setForecastError(\"Failed to generate forecast. Please try again.\");\n          setForecast(null);\n        } finally {\n          setForecastLoading(false);\n        }\n      };\n\n      return (\n        <PageTransition>\n          <Layout>\n            <HeroSection\n              title=\"Market Trends & Statistics\"\n              subtitle=\"Track key market indicators and stay ahead of property market movements\"\n              backgroundImage=\"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3\"\n              showSearch={false}\n              showStats={false}\n              height=\"h-[400px]\"\n            />\n            <main className=\"container mx-auto px-4 py-8\">\n              <div className=\"max-w-7xl mx-auto space-y-8\">\n                <MarketTrends trends={trends} articles={articles} />\n\n                <Card> {/* Forecast Card */}\n                  <CardHeader>\n                    <h2 className=\"text-2xl font-semibold\">Predictive Price Forecasting</h2>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Get AI-powered property price predictions.\n                    </p>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <Button onClick={handleGenerateForecast} disabled={forecastLoading} className=\"w-full\">\n                      {forecastLoading ? \"Generating Forecast...\" : \"Generate Forecast for London\"}\n                    </Button>\n\n                    {forecastError && (\n                      <p className=\"text-destructive text-sm\">{forecastError}</p>\n                    )}\n\n                    {forecast && !forecastLoading && (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        {forecast.split(\"\\n\").map((paragraph, index) => (\n                          <p key={index}>{paragraph}</p>\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n            </main>\n          </Layout>\n        </PageTransition>\n      );\n    }\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { useAuth } from \"../lib/auth\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Calendar, Clock } from \"lucide-react\";\n\ninterface ArticlePageProps {\n  title: string;\n  content: string;\n  date: string;\n  readTime?: string;\n}\n\nexport function ArticlePage({\n  title = \"Understanding the Current Real Estate Market\",\n  content = \"Default content\",\n  date = new Date().toISOString(),\n  readTime = \"5 min read\",\n}: ArticlePageProps) {\n  const { user, profile } = useAuth();\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header isAuthenticated={!!user} userProfile={profile || undefined} />\n      <main className=\"container mx-auto px-4 py-8 pt-24\">\n        <div className=\"max-w-4xl mx-auto\">\n          <Card>\n            <CardContent className=\"p-8\">\n              <h1 className=\"text-3xl font-bold mb-4\">{title}</h1>\n\n              <div className=\"flex items-center gap-4 text-muted-foreground mb-8\">\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"w-4 h-4\" />\n                  <span>{new Date(date).toLocaleDateString()}</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"w-4 h-4\" />\n                  <span>{readTime}</span>\n                </div>\n              </div>\n\n              <div className=\"prose dark:prose-invert max-w-none\">\n                {content.split(\"\\n\\n\").map((paragraph, index) => (\n                  <p key={index} className=\"mb-4\">\n                    {paragraph}\n                  </p>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { ArrowRight, FileText, TrendingUp, BarChart, Lock } from \"lucide-react\";\n\ninterface ResearchReportsProps {\n  isPro?: boolean;\n}\n\nexport function ResearchReports({ isPro = false }: ResearchReportsProps) {\n  const articles = [\n    {\n      title: \"UK Property Market Analysis Q1 2024\",\n      excerpt:\n        \"Comprehensive analysis of the UK property market performance in Q1 2024, including price trends, regional variations, and future projections.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-20\",\n      readTime: \"10 min read\",\n    },\n    {\n      title: \"Investment Opportunities in Northern Cities\",\n      excerpt:\n        \"Detailed research on emerging property investment opportunities in northern UK cities, with focus on yield potential and growth areas.\",\n      category: \"Investment Research\",\n      date: \"2024-03-18\",\n      readTime: \"8 min read\",\n    },\n    {\n      title: \"Impact of Interest Rates on Property Market\",\n      excerpt:\n        \"Analysis of how recent interest rate changes are affecting the property market, mortgage rates, and buyer behavior.\",\n      category: \"Economic Analysis\",\n      date: \"2024-03-15\",\n      readTime: \"12 min read\",\n    },\n    {\n      title: \"Rental Market Trends 2024\",\n      excerpt:\n        \"Latest trends in the UK rental market, including demand patterns, yield analysis, and regulatory changes.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-12\",\n      readTime: \"7 min read\",\n    },\n    {\n      title: \"Sustainable Property Investment Guide\",\n      excerpt:\n        \"Comprehensive guide to sustainable property investment, including EPC regulations, green mortgages, and future-proofing investments.\",\n      category: \"Investment Research\",\n      date: \"2024-03-10\",\n      readTime: \"15 min read\",\n    },\n    {\n      title: \"Regional Property Price Forecast\",\n      excerpt:\n        \"Detailed forecast of property prices across UK regions, with analysis of key growth drivers and market indicators.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-08\",\n      readTime: \"9 min read\",\n    },\n  ];\n\n  return (\n    <div className=\"py-8\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {articles.map((article, index) => (\n          <Card\n            key={index}\n            className=\"hover:shadow-lg transition-shadow relative overflow-hidden\"\n          >\n            <CardHeader className=\"flex flex-row items-center gap-2 pb-2\">\n              {article.category === \"Market Analysis\" ? (\n                <TrendingUp className=\"w-5 h-5 text-blue-500\" />\n              ) : article.category === \"Investment Research\" ? (\n                <BarChart className=\"w-5 h-5 text-green-500\" />\n              ) : (\n                <FileText className=\"w-5 h-5 text-purple-500\" />\n              )}\n              <span className=\"text-sm text-muted-foreground\">\n                {article.category}\n              </span>\n            </CardHeader>\n            <CardContent className=\"relative\">\n              <div className={!isPro ? \"blur-sm\" : \"\"}>\n                <h3 className=\"text-xl font-semibold mb-2\">{article.title}</h3>\n                <p className=\"text-muted-foreground mb-4\">{article.excerpt}</p>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm text-muted-foreground\">\n                    {new Date(article.date).toLocaleDateString()} Â·{\" \"}\n                    {article.readTime}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    className=\"group hover:text-primary\"\n                    onClick={() => {\n                      window.location.href = `/article/${encodeURIComponent(article.title)}`;\n                    }}\n                  >\n                    Read More\n                    <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                  </Button>\n                </div>\n              </div>\n              {!isPro && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-background/50 backdrop-blur-[2px]\">\n                  <div className=\"text-center p-6\">\n                    <Lock className=\"w-8 h-8 text-muted-foreground mx-auto mb-2\" />\n                    <p className=\"text-sm text-muted-foreground\">\n                      Upgrade to Pro to access research reports\n                    </p>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { ResearchReports } from \"./ResearchReports\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport { Button } from \"./ui/button\";\nimport { SubscriptionModal } from \"./SubscriptionModal\";\n\nexport default function ResearchPage() {\n  const { user, profile } = useAuth();\n  const [isSubscriptionModalOpen, setIsSubscriptionModalOpen] =\n    React.useState(false);\n\n  const isPro =\n    profile?.subscription_tier === \"pro\" ||\n    profile?.subscription_tier === \"premium\";\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-background\">\n        <Header isAuthenticated={!!user} userProfile={profile || undefined} />\n        <HeroSection\n          title=\"Research & Reports\"\n          subtitle=\"Expert analysis and insights to inform your property investment decisions\"\n          backgroundImage=\"https://images.unsplash.com/photo-1434626881859-194d67b2b86f?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-4xl font-bold mb-4\">Latest Research</h1>\n              <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n                Stay informed with our comprehensive research reports and expert\n                analysis\n              </p>\n            </div>\n            {isPro ? (\n              <ResearchReports isPro={isPro} />\n            ) : (\n              <div className=\"text-center py-12\">\n                <h2 className=\"text-2xl font-semibold mb-4\">\n                  Pro Plan Required\n                </h2>\n                <p className=\"text-muted-foreground mb-6\">\n                  Access to research reports is available exclusively to Pro and\n                  Premium subscribers.\n                </p>\n                <Button onClick={() => setIsSubscriptionModalOpen(true)}>\n                  Upgrade to Pro\n                </Button>\n              </div>\n            )}\n          </div>\n        </main>\n\n        <SubscriptionModal\n          isOpen={isSubscriptionModalOpen}\n          onClose={() => setIsSubscriptionModalOpen(false)}\n        />\n      </div>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\nimport { Layout } from \"./Layout\";\nimport HeroSection from \"./HeroSection\";\nimport { useAuth } from \"../lib/auth\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { ArrowRight, Calendar, Clock, Tag } from \"lucide-react\";\nimport { PageTransition } from \"./ui/page-transition\";\n\nexport default function BlogPage() {\n  const { user: _, profile: __ } = useAuth();\n\n  const blogPosts = [\n    {\n      title: \"Understanding Property Market Cycles\",\n      excerpt:\n        \"A comprehensive guide to property market cycles and how to identify market phases for optimal investment timing.\",\n      category: \"Market Analysis\",\n      date: \"2024-03-20\",\n      readTime: \"8 min read\",\n      image:\n        \"https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-4.0.3\",\n    },\n    {\n      title: \"Buy-to-Let Investment Strategy Guide\",\n      excerpt:\n        \"Expert insights into creating a successful buy-to-let investment strategy in today's market conditions.\",\n      category: \"Investment\",\n      date: \"2024-03-18\",\n      readTime: \"10 min read\",\n      image:\n        \"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3\",\n    },\n    {\n      title: \"Property Tax Changes in 2024\",\n      excerpt:\n        \"Stay updated with the latest property tax regulations and how they affect property investors and homeowners.\",\n      category: \"Legal\",\n      date: \"2024-03-15\",\n      readTime: \"6 min read\",\n      image:\n        \"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3\",\n    },\n  ];\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Property Investment Blog\"\n          subtitle=\"Expert insights and analysis on the UK property market\"\n          backgroundImage=\"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8 pt-24 sm:pt-8\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {blogPosts.map((post, index) => (\n                <Card\n                  key={index}\n                  className=\"flex flex-col h-full hover:shadow-lg transition-shadow\"\n                >\n                  <div className=\"relative h-48 w-full overflow-hidden rounded-t-lg\">\n                    <img\n                      src={post.image}\n                      alt={post.title}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    <Tag className=\"w-4 h-4\" />\n                    <span className=\"text-sm text-muted-foreground\">\n                      {post.category}\n                    </span>\n                  </CardHeader>\n                  <CardContent className=\"flex-1 flex flex-col\">\n                    <h3 className=\"text-xl font-semibold mb-2\">{post.title}</h3>\n                    <p className=\"text-muted-foreground mb-4 flex-1\">\n                      {post.excerpt}\n                    </p>\n                    <div className=\"flex items-center justify-between mt-4\">\n                      <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                        <div className=\"flex items-center gap-1\">\n                          <Calendar className=\"w-4 h-4\" />\n                          <span>\n                            {new Date(post.date).toLocaleDateString()}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Clock className=\"w-4 h-4\" />\n                          <span>{post.readTime}</span>\n                        </div>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        className=\"group hover:text-primary\"\n                        onClick={() => {\n                          window.location.href = `/blog/${post.title.toLowerCase().replace(/ /g, \"-\")}`;\n                        }}\n                      >\n                        Read More\n                        <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Button } from \"./ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\nimport { Calculator, Home, Building, Percent, TrendingUp } from \"lucide-react\";\nimport { useAuth } from \"../lib/auth\";\nimport { Footer } from \"./Footer\";\n\nexport default function InvestmentCalculator() {\n  const { user, profile } = useAuth();\n  const [mortgageResult, setMortgageResult] = React.useState<number | null>(\n    null,\n  );\n  const [buyToLetResult, setBuyToLetResult] = React.useState<number | null>(\n    null,\n  );\n  const [developmentResult, setDevelopmentResult] = React.useState<\n    number | null\n  >(null);\n  const [rentalYieldResult, setRentalYieldResult] = React.useState<\n    number | null\n  >(null);\n  const [roiResult, setRoiResult] = React.useState<number | null>(null);\n\n  const [mortgageData, setMortgageData] = React.useState({\n    propertyPrice: \"\",\n    deposit: \"\",\n    interestRate: \"\",\n    term: \"\",\n  });\n\n  const [buyToLetData, setBuyToLetData] = React.useState({\n    propertyPrice: \"\",\n    deposit: \"\",\n    interestRate: \"\",\n    rentalIncome: \"\",\n  });\n\n  const [developmentData, setDevelopmentData] = React.useState({\n    purchasePrice: \"\",\n    renovationCost: \"\",\n    expectedSalePrice: \"\",\n    otherCosts: \"\",\n  });\n\n  const [rentalYieldData, setRentalYieldData] = React.useState({\n    propertyPrice: \"\",\n    annualRent: \"\",\n  });\n\n  const [roiData, setRoiData] = React.useState({\n    totalInvestment: \"\",\n    annualReturn: \"\",\n  });\n\n  const calculateMortgage = () => {\n    const P =\n      parseFloat(mortgageData.propertyPrice) - parseFloat(mortgageData.deposit);\n    const r = parseFloat(mortgageData.interestRate) / 100 / 12;\n    const n = parseFloat(mortgageData.term) * 12;\n    const monthlyPayment =\n      (P * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);\n    setMortgageResult(monthlyPayment);\n  };\n\n  const calculateBuyToLet = () => {\n    const loanAmount =\n      parseFloat(buyToLetData.propertyPrice) - parseFloat(buyToLetData.deposit);\n    const monthlyInterest =\n      (loanAmount * (parseFloat(buyToLetData.interestRate) / 100)) / 12;\n    const monthlyRental = parseFloat(buyToLetData.rentalIncome);\n    const monthlyCashflow = monthlyRental - monthlyInterest;\n    setBuyToLetResult(monthlyCashflow);\n  };\n\n  const calculateDevelopment = () => {\n    const totalCosts =\n      parseFloat(developmentData.purchasePrice) +\n      parseFloat(developmentData.renovationCost) +\n      parseFloat(developmentData.otherCosts);\n    const profit = parseFloat(developmentData.expectedSalePrice) - totalCosts;\n    setDevelopmentResult(profit);\n  };\n\n  const calculateRentalYield = () => {\n    const yield_ =\n      (parseFloat(rentalYieldData.annualRent) /\n        parseFloat(rentalYieldData.propertyPrice)) *\n      100;\n    setRentalYieldResult(yield_);\n  };\n\n  const calculateROI = () => {\n    const roi =\n      (parseFloat(roiData.annualReturn) / parseFloat(roiData.totalInvestment)) *\n      100;\n    setRoiResult(roi);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header isAuthenticated={!!user} userProfile={profile || undefined} />\n      <HeroSection\n        title=\"Property Investment Calculators\"\n        subtitle=\"Make informed decisions with our comprehensive suite of property investment calculators\"\n        backgroundImage=\"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3\"\n        showSearch={false}\n        showStats={false}\n        height=\"h-[400px]\"\n      />\n      <main className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-4xl mx-auto space-y-8\">\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold mb-2\">Investment Calculators</h1>\n            <p className=\"text-muted-foreground\">\n              Calculate different aspects of your property investment\n            </p>\n          </div>\n\n          <Tabs defaultValue=\"mortgage\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-5\">\n              <TabsTrigger value=\"mortgage\" className=\"flex items-center gap-2\">\n                <Home className=\"w-4 h-4\" /> Mortgage\n              </TabsTrigger>\n              <TabsTrigger value=\"buytolet\" className=\"flex items-center gap-2\">\n                <Building className=\"w-4 h-4\" /> Buy to Let\n              </TabsTrigger>\n              <TabsTrigger\n                value=\"development\"\n                className=\"flex items-center gap-2\"\n              >\n                <Calculator className=\"w-4 h-4\" /> Development\n              </TabsTrigger>\n              <TabsTrigger\n                value=\"rentalyield\"\n                className=\"flex items-center gap-2\"\n              >\n                <Percent className=\"w-4 h-4\" /> Rental Yield\n              </TabsTrigger>\n              <TabsTrigger value=\"roi\" className=\"flex items-center gap-2\">\n                <TrendingUp className=\"w-4 h-4\" /> ROI\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"mortgage\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Mortgage Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Property Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.propertyPrice}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            propertyPrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Deposit (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.deposit}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            deposit: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Interest Rate (%)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.interestRate}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            interestRate: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Term (Years)</Label>\n                      <Input\n                        type=\"number\"\n                        value={mortgageData.term}\n                        onChange={(e) =>\n                          setMortgageData({\n                            ...mortgageData,\n                            term: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateMortgage} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {mortgageResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Monthly Payment: Â£{mortgageResult.toFixed(2)}\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"buytolet\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Buy to Let Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Property Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.propertyPrice}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            propertyPrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Deposit (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.deposit}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            deposit: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Interest Rate (%)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.interestRate}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            interestRate: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Monthly Rental Income (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={buyToLetData.rentalIncome}\n                        onChange={(e) =>\n                          setBuyToLetData({\n                            ...buyToLetData,\n                            rentalIncome: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateBuyToLet} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {buyToLetResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Monthly Cashflow: Â£{buyToLetResult.toFixed(2)}\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"development\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Development Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Purchase Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.purchasePrice}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            purchasePrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Renovation Cost (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.renovationCost}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            renovationCost: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Expected Sale Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.expectedSalePrice}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            expectedSalePrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Other Costs (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={developmentData.otherCosts}\n                        onChange={(e) =>\n                          setDevelopmentData({\n                            ...developmentData,\n                            otherCosts: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateDevelopment} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {developmentResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Expected Profit: Â£{developmentResult.toFixed(2)}\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"rentalyield\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">\n                    Rental Yield Calculator\n                  </h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Property Price (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={rentalYieldData.propertyPrice}\n                        onChange={(e) =>\n                          setRentalYieldData({\n                            ...rentalYieldData,\n                            propertyPrice: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Annual Rental Income (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={rentalYieldData.annualRent}\n                        onChange={(e) =>\n                          setRentalYieldData({\n                            ...rentalYieldData,\n                            annualRent: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateRentalYield} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {rentalYieldResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        Rental Yield: {rentalYieldResult.toFixed(2)}%\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"roi\">\n              <Card>\n                <CardHeader>\n                  <h2 className=\"text-2xl font-semibold\">ROI Calculator</h2>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Total Investment (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={roiData.totalInvestment}\n                        onChange={(e) =>\n                          setRoiData({\n                            ...roiData,\n                            totalInvestment: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Annual Return (Â£)</Label>\n                      <Input\n                        type=\"number\"\n                        value={roiData.annualReturn}\n                        onChange={(e) =>\n                          setRoiData({\n                            ...roiData,\n                            annualReturn: e.target.value,\n                          })\n                        }\n                      />\n                    </div>\n                  </div>\n                  <Button onClick={calculateROI} className=\"w-full\">\n                    Calculate\n                  </Button>\n                  {roiResult !== null && (\n                    <div className=\"mt-4 p-4 bg-primary/10 rounded-lg\">\n                      <p className=\"text-lg font-semibold\">\n                        ROI: {roiResult.toFixed(2)}%\n                      </p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Textarea } from \"./ui/textarea\";\nimport {\n  Mail,\n  Phone,\n  MessageCircle,\n  FileText,\n  HelpCircle,\n  Book,\n} from \"lucide-react\";\nimport { Layout } from \"./Layout\";\nimport HeroSection from \"./HeroSection\";\nimport { PageTransition } from \"./ui/page-transition\";\n\nexport default function HelpSupportPage() {\n  const supportCategories = [\n    {\n      title: \"Getting Started\",\n      icon: <Book className=\"w-5 h-5\" />,\n      description: \"Learn the basics of using our platform\",\n      content: [\n        \"How to search for properties\",\n        \"Understanding market insights\",\n        \"Setting up your account\",\n        \"Subscription plans overview\",\n      ],\n    },\n    {\n      title: \"Account & Billing\",\n      icon: <FileText className=\"w-5 h-5\" />,\n      description: \"Manage your account and subscription\",\n      content: [\n        \"Updating account details\",\n        \"Subscription management\",\n        \"Billing history\",\n        \"Payment methods\",\n      ],\n    },\n    {\n      title: \"Technical Support\",\n      icon: <HelpCircle className=\"w-5 h-5\" />,\n      description: \"Get help with technical issues\",\n      content: [\n        \"Troubleshooting guide\",\n        \"System requirements\",\n        \"Known issues\",\n        \"Browser compatibility\",\n      ],\n    },\n  ];\n\n  const contactMethods = [\n    {\n      icon: <Mail className=\"w-5 h-5\" />,\n      title: \"Email Support\",\n      description: \"Get help via email\",\n      action: \"support@myvge.co.uk\",\n      buttonText: \"Send Email\",\n      onClick: () => (window.location.href = \"mailto:support@myvge.co.uk\"),\n    },\n    {\n      icon: <Phone className=\"w-5 h-5\" />,\n      title: \"Phone Support\",\n      description: \"Speak to our team\",\n      action: \"0800 123 4567\",\n      buttonText: \"Call Now\",\n      onClick: () => (window.location.href = \"tel:08001234567\"),\n    },\n    {\n      icon: <MessageCircle className=\"w-5 h-5\" />,\n      title: \"Live Chat\",\n      description: \"Chat with our support team\",\n      action: \"Available 24/7\",\n      buttonText: \"Start Chat\",\n      onClick: () => {\n        const event = new CustomEvent(\"open-messages\", {\n          detail: { receiverId: \"support\" },\n        });\n        window.dispatchEvent(event);\n      },\n    },\n  ];\n\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Help & Support Center\"\n          subtitle=\"Get the assistance you need with our comprehensive support resources\"\n          backgroundImage=\"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8\">\n          <div className=\"max-w-7xl mx-auto space-y-12\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {supportCategories.map((category, index) => (\n                <Card key={index} className=\"hover:shadow-lg transition-shadow\">\n                  <CardHeader className=\"flex flex-row items-center gap-2\">\n                    {category.icon}\n                    <div>\n                      <h3 className=\"font-semibold\">{category.title}</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {category.description}\n                      </p>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    <ul className=\"space-y-2\">\n                      {category.content.map((item, i) => (\n                        <li key={i} className=\"text-sm\">\n                          â¢ {item}\n                        </li>\n                      ))}\n                    </ul>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n\n            <div className=\"bg-card shadow rounded-lg p-8\">\n              <div className=\"text-center mb-8\">\n                <h2 className=\"text-2xl font-bold mb-2\">Contact Support</h2>\n                <p className=\"text-muted-foreground\">\n                  Choose your preferred method of contact\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {contactMethods.map((method, index) => (\n                  <Card\n                    key={index}\n                    className=\"hover:shadow-lg transition-shadow\"\n                  >\n                    <CardContent className=\"p-6 text-center\">\n                      <div className=\"mb-4 flex justify-center\">\n                        {method.icon}\n                      </div>\n                      <h3 className=\"font-semibold mb-2\">{method.title}</h3>\n                      <p className=\"text-sm text-muted-foreground mb-2\">\n                        {method.description}\n                      </p>\n                      <p className=\"text-sm font-medium mb-4\">\n                        {method.action}\n                      </p>\n                      <Button onClick={method.onClick} className=\"w-full\">\n                        {method.buttonText}\n                      </Button>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </div>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","const GEMINI_API_KEY = import.meta.env.VITE_GEMINI_API_KEY;\n\nexport const popularQuestions = [\n  \"Calculate stamp duty for a Â£400,000 property\",\n  \"What are typical legal fees for property purchase?\",\n  \"Explain all costs involved in buying a property\",\n  \"How much should I budget for property maintenance?\",\n  \"What surveys do I need when buying a property?\",\n  \"Calculate monthly mortgage payments for Â£300,000\",\n];\n\nexport async function getChatResponse(message: string) {\n  try {\n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          contents: [\n            {\n              parts: [\n                {\n                  text: `You are a UK property cost assistant specializing in helping users understand and calculate all costs involved in property transactions. You have expertise in:\n\n1. Stamp Duty Land Tax calculations\n2. Legal fees and conveyancing costs\n3. Survey and valuation fees\n4. Mortgage arrangement fees\n5. Property maintenance costs\n6. Insurance costs\n7. Property management fees\n8. Tax implications\n\nProvide specific numbers and calculations when possible. For professional services, explain what to look for and typical cost ranges. Always break down complex costs into clear categories.\n\nIf asked about stamp duty, always show the calculation breakdown and mention if there are any special rates (e.g., first-time buyers, additional properties).\n\nFor maintenance costs, provide annual percentages of property value and specific examples of common maintenance items.\n\nUser question: ${message}`,\n                },\n              ],\n            },\n          ],\n        }),\n      },\n    );\n\n    const data = await response.json();\n    return data.candidates[0].content.parts[0].text;\n  } catch (error) {\n    console.error(\"Error getting chat response:\", error);\n    return \"I'm sorry, I'm having trouble processing your request right now. Please try again later.\";\n  }\n}\n","import React from \"react\";\n    import { Button } from \"./ui/button\";\n    import { Input } from \"./ui/input\";\n    import { Card } from \"./ui/card\";\n    import { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\n    import {\n      MessageCircle,\n      Send,\n      X,\n      Bot,\n      Users,\n      HeadphonesIcon,\n    } from \"lucide-react\";\n    import { motion, AnimatePresence } from \"framer-motion\";\n    import { getChatResponse, popularQuestions } from \"../lib/chat\";\n    import { useAuth } from \"../lib/auth\";\n    import { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\n    import { supabase } from \"../lib/supabase\";\n\n    interface Message {\n      text: string;\n      isUser: boolean;\n      sender?: {\n        full_name: string;\n        email: string;\n      };\n      timestamp?: string;\n    }\n\n    interface Contact {\n      id: string;\n      full_name: string;\n      email: string;\n      last_message?: string;\n      unread_count?: number;\n    }\n\n    export function ChatBot() {\n      const { user, profile } = useAuth();\n      const [isOpen, setIsOpen] = React.useState(false);\n      const [activeTab, setActiveTab] = React.useState(\"ai\");\n      const [messages, setMessages] = React.useState<Message[]>([]);\n      const [input, setInput] = React.useState(\"\");\n      const [isLoading, setIsLoading] = React.useState(false);\n      const [contacts, setContacts] = React.useState<Contact[]>([]);\n      const [selectedContact, setSelectedContact] = React.useState<Contact | null>(\n        null,\n      );\n      const scrollRef = React.useRef<HTMLDivElement>(null);\n\n      // Load contacts for direct messaging\n      React.useEffect(() => {\n        if (user) {\n          loadContacts();\n\n          // Listen for open-messages event\n          const handleOpenMessages = (e: CustomEvent) => {\n            setIsOpen(true);\n            setActiveTab(\"messages\");\n            const receiverId = e.detail.receiverId;\n            const contact = contacts.find((c) => c.id === receiverId);\n            if (contact) {\n              setSelectedContact(contact);\n            }\n          };\n\n          window.addEventListener(\n            \"open-messages\",\n            handleOpenMessages as EventListener,\n          );\n          return () =>\n            window.removeEventListener(\n              \"open-messages\",\n              handleOpenMessages as EventListener,\n            );\n        }\n      }, [user, contacts]);\n\n      const loadContacts = async () => {\n        try {\n          const { data: messages } = await supabase\n            .from(\"messages\")\n            .select(\n              `\n              *,\n              sender:profiles!messages_sender_id_fkey(id, full_name, email),\n              receiver:profiles!messages_receiver_id_fkey(id, full_name, email)\n            `,\n            )\n            .or(`sender_id.eq.${user?.id},receiver_id.eq.${user?.id}`)\n            .order(\"created_at\", { ascending: false });\n\n          if (!messages) return;\n\n          // Create unique contacts list\n          const uniqueContacts = new Map<string, Contact>();\n          messages.forEach((msg) => {\n            const contact = msg.sender.id === user?.id ? msg.receiver : msg.sender;\n            if (!uniqueContacts.has(contact.id)) {\n              uniqueContacts.set(contact.id, {\n                id: contact.id,\n                full_name: contact.full_name,\n                email: contact.email,\n                last_message: msg.content,\n                unread_count: msg.receiver_id === user?.id && !msg.is_read ? 1 : 0,\n              });\n            }\n          });\n\n          setContacts(Array.from(uniqueContacts.values()));\n        } catch (error) {\n          console.error(\"Error loading contacts:\", error);\n        }\n      };\n\n      const handleSend = async (text: string) => {\n        console.log(\"handleSend called with text:\", text);\n        if (!text.trim()) return;\n\n        if (activeTab === \"ai\") {\n          // AI Assistant\n          setMessages((prev) => [...prev, { text, isUser: true }]);\n          setInput(\"\");\n          setIsLoading(true);\n\n          try {\n            const response = await getChatResponse(text);\n            setMessages((prev) => [...prev, { text: response, isUser: false }]);\n\n            // Store AI response in Supabase (sender_id will be null for AI)\n            const { error: aiError } = await supabase.from(\"messages\").insert([\n              {\n                sender_id: user?.id,\n                receiver_id: user?.id, // or a specific support user ID\n                content: text,\n                is_support: false,\n              },\n              {\n                sender_id: null, // AI has no sender ID\n                receiver_id: user?.id,\n                content: response,\n                is_support: false,\n              },\n            ]);\n\n            if (aiError) {\n              console.error(\"Supabase insert error (AI):\", aiError);\n            }\n          } catch (error) {\n            console.error(\"Error sending message:\", error);\n          } finally {\n            setIsLoading(false);\n          }\n        } else {\n          // Direct Message or Support\n          if (!user || !selectedContact) return;\n\n          try {\n            console.log(\"Sending message to Supabase:\", { // Add this line\n              sender_id: user.id,\n              receiver_id: selectedContact.id,\n              content: text,\n              is_support: activeTab === \"support\",\n            });\n            const { data, error } = await supabase.from(\"messages\").insert([\n              {\n                sender_id: user.id,\n                receiver_id: selectedContact.id,\n                content: text,\n                is_support: activeTab === \"support\",\n              },\n            ]);\n\n            if (error) {\n              console.error(\"Supabase insert error:\", error); // Add this line\n              throw error;\n            }\n\n            console.log(\"Supabase insert success:\", data); // Add this line\n\n            setMessages((prev) => [\n              ...prev,\n              {\n                text,\n                isUser: true,\n                sender: {\n                  full_name: profile?.full_name || \"\",\n                  email: profile?.email || \"\",\n                },\n                timestamp: new Date().toISOString(),\n              },\n            ]);\n            setInput(\"\");\n          } catch (error) {\n            console.error(\"Error sending message:\", error);\n          }\n        }\n      };\n\n      const scrollToBottom = () => {\n        if (scrollRef.current) {\n          scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n      };\n\n      React.useEffect(() => {\n        scrollToBottom();\n      }, [messages]);\n\n      React.useEffect(() => {\n        scrollToBottom();\n      }, [isLoading]);\n\n      // Subscribe to new messages\n      React.useEffect(() => {\n        if (!user || !selectedContact) return;\n\n        const subscription = supabase\n          .channel(`messages:${user.id}:${selectedContact.id}`)\n          .on(\n            \"postgres_changes\",\n            {\n              event: \"INSERT\",\n              schema: \"public\",\n              table: \"messages\",\n              filter: `or(and(sender_id.eq.${user.id},receiver_id.eq.${selectedContact.id}),and(sender_id.eq.${selectedContact.id},receiver_id.eq.${user.id}))`,\n            },\n            (payload) => {\n              console.log(\"Realtime message received:\", payload); // Add this line\n              const newMessage = payload.new;\n              if (newMessage.sender_id !== user.id) {\n                setMessages((prev) => [\n                  ...prev,\n                  {\n                    text: newMessage.content,\n                    isUser: false,\n                    sender: selectedContact,\n                    timestamp: newMessage.created_at,\n                  },\n                ]);\n              }\n            },\n          )\n          .subscribe();\n\n        return () => {\n          subscription.unsubscribe();\n        };\n      }, [user, selectedContact]);\n\n      return (\n        <>\n          <Button\n            className=\"fixed bottom-4 right-4 rounded-full w-12 h-12 p-0 shadow-lg\"\n            onClick={() => setIsOpen(true)}\n          >\n            <MessageCircle className=\"w-6 h-6\" />\n          </Button>\n\n          <AnimatePresence>\n            {isOpen && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: 20 }}\n                className=\"fixed bottom-20 right-4 w-full sm:w-[380px] md:w-[420px] max-w-[95vw] z-50\"\n              >\n                <Card className=\"overflow-hidden shadow-xl border-primary/20 bg-card\"> {/* Added bg-card here */}\n                  <Tabs defaultValue={activeTab} onValueChange={setActiveTab}>\n                    <div className=\"p-4 border-b flex items-center justify-between bg-primary/5\">\n                      <TabsList>\n                        <TabsTrigger value=\"ai\" className=\"flex items-center gap-2\">\n                          <Bot className=\"w-4 h-4\" /> AI Assistant\n                        </TabsTrigger>\n                        <TabsTrigger\n                          value=\"messages\"\n                          className=\"flex items-center gap-2\"\n                        >\n                          <Users className=\"w-4 h-4\" /> Messages\n                        </TabsTrigger>\n                        <TabsTrigger\n                          value=\"support\"\n                          className=\"flex items-center gap-2\"\n                        >\n                          <HeadphonesIcon className=\"w-4 h-4\" /> Support\n                        </TabsTrigger>\n                      </TabsList>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-8 w-8\"\n                        onClick={() => setIsOpen(false)}\n                      >\n                        <X className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n\n                    <TabsContent value=\"ai\" className=\"m-0\">\n                      <div\n                        ref={scrollRef}\n                        className=\"h-96 p-4 space-y-4 overflow-y-auto\"\n                      >\n                        {messages.length === 0 ? (\n                          <div className=\"space-y-4\">\n                            <p className=\"text-sm text-muted-foreground\">\n                              Hello! I'm your property assistant. Ask me anything\n                              about property investment, or try one of these popular\n                              questions:\n                            </p>\n                            <div className=\"flex flex-wrap gap-2\">\n                              {popularQuestions.map((question, index) => (\n                                <Button\n                                  key={index}\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  className=\"text-xs\"\n                                  onClick={() => handleSend(question)}\n                                >\n                                  {question}\n                                </Button>\n                              ))}\n                            </div>\n                          </div>\n                        ) : (\n                          messages.map((message, index) => (\n                            <div\n                              key={index}\n                              className={`flex ${message.isUser ? \"justify-end\" : \"justify-start\"}`}\n                            >\n                              <div\n                                className={`max-w-[80%] rounded-lg p-3 ${message.isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n                              >\n                                <p className=\"text-sm\">{message.text}</p>\n                              </div>\n                            </div>\n                          ))\n                        )}\n                        {isLoading && (\n                          <div className=\"flex justify-start\">\n                            <div className=\"max-w-[80%] rounded-lg p-3 bg-muted\">\n                              <p className=\"text-sm\">Typing...</p>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </TabsContent>\n\n                    <TabsContent value=\"messages\" className=\"m-0\">\n                      <div\n                        ref={scrollRef}\n                        className=\"h-96 p-4 space-y-4 overflow-y-auto\"\n                      >\n                        {!user ? (\n                          <div className=\"text-center p-4\">\n                            <p className=\"text-sm text-muted-foreground mb-2\">\n                              Please sign in to view messages\n                            </p>\n                          </div>\n                        ) : !selectedContact ? (\n                          <div className=\"space-y-4\">\n                            {contacts.map((contact) => (\n                              <div\n                                key={contact.id}\n                                className=\"flex items-center justify-between p-2 hover:bg-muted rounded-lg cursor-pointer\"\n                                onClick={() => setSelectedContact(contact)}\n                              >\n                                <div className=\"flex items-center gap-2\">\n                                  <Avatar className=\"h-8 w-8\">\n                                    <AvatarImage\n                                      src={`https://ui-avatars.com/api/?name=${encodeURIComponent(contact.full_name)}&background=random`}\n                                      alt={contact.full_name}\n                                    />\n                                    <AvatarFallback>\n                                      {contact.full_name\n                                        ?.split(\" \")\n                                        .map((n) => n[0])\n                                        .join(\"\")}\n                                    </AvatarFallback>\n                                  </Avatar>\n                                  <div>\n                                    <p className=\"font-medium\">\n                                      {contact.full_name}\n                                    </p>\n                                    <p className=\"text-sm text-muted-foreground\">\n                                      {contact.last_message}\n                                    </p>\n                                  </div>\n                                </div>\n                                {contact.unread_count > 0 && (\n                                  <span className=\"bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full\">\n                                    {contact.unread_count}\n                                  </span>\n                                )}\n                              </div>\n                            ))}\n                          </div>\n                        ) : (\n                          <div className=\"space-y-4\">\n                            {messages.map((message, index) => (\n                              <div\n                                key={index}\n                                className={`flex ${message.isUser ? \"justify-end\" : \"justify-start\"}`}\n                              >\n                                <div\n                                  className={`max-w-[80%] rounded-lg p-3 ${message.isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n                                >\n                                  <p className=\"text-sm\">{message.text}</p>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n\n                      {selectedContact && (\n                        <div className=\"p-4 border-t\">\n                          <div className=\"flex gap-2\">\n                            <Input\n                              value={input}\n                              onChange={(e) => setInput(e.target.value)}\n                              placeholder=\"Type a message...\"\n                              onKeyPress={(e) => {\n                                if (e.key === \"Enter\") {\n                                  handleSend(input);\n                                }\n                              }}\n                            />\n                            <Button\n                              onClick={() => handleSend(input)}\n                              disabled={!input.trim()}\n                            >\n                              <Send className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      )}\n                    </TabsContent>\n\n                    <TabsContent value=\"support\" className=\"m-0\">\n                      <div\n                        ref={scrollRef}\n                        className=\"h-96 p-4 space-y-4 overflow-y-auto\"\n                      >\n                        {messages.length === 0 ? (\n                          <div className=\"space-y-4\">\n                            <p className=\"text-sm text-muted-foreground\">\n                              Welcome to support! How can we help you today?\n                            </p>\n                          </div>\n                        ) : (\n                          messages.map((message, index) => (\n                            <div\n                              key={index}\n                              className={`flex ${message.isUser ? \"justify-end\" : \"justify-start\"}`}\n                            >\n                              <div\n                                className={`max-w-[80%] rounded-lg p-3 ${message.isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"}`}\n                              >\n                                <p className=\"text-sm\">{message.text}</p>\n                              </div>\n                            </div>\n                          ))\n                        )}\n                      </div>\n\n                      <div className=\"p-4 border-t\">\n                        <div className=\"flex gap-2\">\n                          <Input\n                            value={input}\n                            onChange={(e) => setInput(e.target.value)}\n                            placeholder=\"Type your support question...\"\n                            onKeyPress={(e) => {\n                              if (e.key === \"Enter\") {\n                                handleSend(input);\n                              }\n                            }}\n                          />\n                          <Button\n                            onClick={() => handleSend(input)}\n                            disabled={!input.trim()}\n                          >\n                            <Send className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </TabsContent>\n                  </Tabs>\n                </Card>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </>\n      );\n    }\n","import { useEffect } from \"react\";\n    import { useNavigate } from \"react-router-dom\";\n    import { supabase } from \"../lib/supabase\";\n    import { useClerk, useUser } from \"@clerk/clerk-react\";\n    import { useAuth } from \"../lib/auth\"; // Import useAuth\n\n    export default function AuthCallback() {\n      const navigate = useNavigate();\n      const { user: clerkUser, isLoaded } = useClerk();\n      const { fetchProfile } = useAuth(); // Use fetchProfile from context\n\n\n      useEffect(() => {\n        const handleAuth = async () => {\n          if (isLoaded && clerkUser) {\n            try {\n              // Check if profile exists -  No longer creating here, just fetching\n              const { data: existingProfile } = await supabase\n                .from(\"profiles\")\n                .select(\"*\")\n                .eq(\"id\", clerkUser.id)\n                .single();\n\n              if (existingProfile) {\n                // Profile exists, fetch it into auth context\n                await fetchProfile(clerkUser.id);\n              } else {\n                // Create profile if it doesn't exist - This should ideally be handled by a webhook\n                const { error: profileError } = await supabase\n                  .from(\"profiles\")\n                  .insert({\n                    id: clerkUser.id,\n                    email: clerkUser.emailAddresses[0].emailAddress,\n                    full_name: `${clerkUser.firstName} ${clerkUser.lastName}`,\n                    role: \"user\",\n                    subscription_tier: \"free\",\n                    subscription_status: \"active\",\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString(),\n                  });\n\n                if (profileError) {\n                  console.error(\"Profile creation error:\", profileError);\n                  // Handle error appropriately - maybe redirect to an error page\n                  return;\n                }\n                 // After creating profile, fetch it into auth context\n                await fetchProfile(clerkUser.id);\n              }\n\n              navigate(\"/dashboard\");\n            } catch (error) {\n              console.error(\"Error in AuthCallback:\", error);\n            }\n          } else if (isLoaded) {\n            navigate(\"/\");\n          }\n        };\n\n        handleAuth();\n      }, [clerkUser, navigate, isLoaded, fetchProfile]); // Added fetchProfile to dependencies\n\n      return (\n        <div className=\"min-h-screen flex items-center justify-center\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-semibold mb-2\">Authenticating...</h2>\n            <p className=\"text-muted-foreground\">\n              Please wait while we verify your credentials.\n            </p>\n          </div>\n        </div>\n      );\n    }\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { Layout } from \"./Layout\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport { Button } from \"./ui/button\";\n\nconst managementServices = [\n  {\n    title: \"Tenant Screening\",\n    description: \"Comprehensive tenant screening to ensure reliable renters.\",\n  },\n  {\n    title: \"Rent Collection\",\n    description: \"Hassle-free rent collection with automated reminders.\",\n  },\n  {\n    title: \"Property Maintenance\",\n    description: \"Regular maintenance and prompt repairs to keep your property in top condition.\",\n  },\n  {\n    title: \"Financial Reporting\",\n    description: \"Detailed financial reports to track your investment performance.\",\n  },\n];\n\nexport default function PropertyManagementPage() {\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"Property Management Services\"\n          subtitle=\"Let us take care of your property, so you can focus on what matters most.\"\n          backgroundImage=\"https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8 pt-24\">\n          <div className=\"max-w-4xl mx-auto space-y-8\">\n            <div className=\"text-center\">\n              <h1 className=\"text-3xl font-bold mb-2\">\n                Comprehensive Property Management\n              </h1>\n              <p className=\"text-muted-foreground\">\n                We offer a full range of property management services to\n                maximize your investment returns.\n              </p>\n            </div>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Our Services</h2>\n              <ul className=\"list-disc list-inside\">\n                {managementServices.map((service, index) => (\n                  <li key={index}>\n                    <strong>{service.title}</strong>: {service.description}\n                  </li>\n                ))}\n              </ul>\n            </section>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Why Choose Us?</h2>\n              <p>\n                With years of experience in the property market, we understand\n                the unique challenges and opportunities that property owners\n                face. Our dedicated team is committed to providing exceptional\n                service and maximizing your rental income.\n              </p>\n            </section>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Get in Touch</h2>\n              <p>\n                We'd love to hear from you! Contact us to learn more about our\n                services or to discuss your investment needs.\n              </p>\n              <Button>Contact Us</Button>\n            </section>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React from \"react\";\n    import Header from \"./Header\";\n    import HeroSection from \"./HeroSection\";\n    import { Layout } from \"./Layout\";\n    import { PageTransition } from \"./ui/page-transition\";\n    import { Button } from \"./ui/button\";\n    import { Card, CardContent, CardHeader } from \"./ui/card\";\n    import { generateInvestmentHotspots } from \"../lib/market-insights\";\n\n    const investmentOpportunities = [\n      {\n        title: \"High-Yield Student Housing\",\n        description: \"Invest in modern student accommodations with guaranteed rental income.\",\n      },\n      {\n        title: \"Commercial Property Development\",\n        description: \"Participate in the development of prime commercial properties in growing urban areas.\",\n      },\n      {\n        title: \"Sustainable Housing Projects\",\n        description: \"Invest in eco-friendly housing projects with long-term growth potential.\",\n      },\n    ];\n\n    export default function InvestmentOpportunitiesPage() {\n      const [hotspots, setHotspots] = React.useState<string | null>(null); // State for hotspots\n      const [hotspotsLoading, setHotspotsLoading] = React.useState(false); // Loading state for hotspots\n      const [hotspotsError, setHotspotsError] = React.useState<string | null>(null); // Error state for hotspots\n\n\n      const handleGenerateHotspots = async () => { // New function to generate hotspots\n        setHotspotsLoading(true);\n        setHotspotsError(null);\n        try {\n          const area = \"UK\"; // Define area for hotspot identification\n          const hotspotsData = await generateInvestmentHotspots(area);\n          setHotspots(hotspotsData);\n        } catch (error: any) {\n          console.error(\"Error generating investment hotspots:\", error);\n          setHotspotsError(\"Failed to generate hotspots. Please try again.\");\n          setHotspots(null);\n        } finally {\n          setHotspotsLoading(false);\n        }\n      };\n\n\n      return (\n        <PageTransition>\n          <Layout>\n            <HeroSection\n              title=\"Explore Investment Opportunities\"\n              subtitle=\"Discover a wide range of property investment opportunities tailored to your needs.\"\n              backgroundImage=\"https://images.unsplash.com/photo-1505843516597-5c0a43e6ca02?ixlib=rb-4.0.3\"\n              showSearch={false}\n              showStats={false}\n              height=\"h-[400px]\"\n            />\n            <main className=\"container mx-auto px-4 py-8 pt-24\">\n              <div className=\"max-w-4xl mx-auto space-y-8\">\n                <div className=\"text-center\">\n                  <h1 className=\"text-3xl font-bold mb-2\">\n                    Unlock Your Investment Potential\n                  </h1>\n                  <p className=\"text-muted-foreground\">\n                    Find the perfect property investment opportunity with our expert\n                    guidance.\n                  </p>\n                </div>\n\n                <section className=\"space-y-4\">\n                  <h2 className=\"text-2xl font-semibold\">Featured Opportunities</h2>\n                  <ul className=\"list-disc list-inside\">\n                    {investmentOpportunities.map((opportunity, index) => (\n                      <li key={index}>\n                        <strong>{opportunity.title}</strong>: {opportunity.description}\n                      </li>\n                    ))}\n                  </ul>\n                </section>\n\n                <Card> {/* Investment Hotspots Card */}\n                  <CardHeader>\n                    <h2 className=\"text-2xl font-semibold\">Investment Hotspot Identification</h2>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Discover emerging high-growth neighborhoods in the UK.\n                    </p>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <Button onClick={handleGenerateHotspots} disabled={hotspotsLoading} className=\"w-full\">\n                      {hotspotsLoading ? \"Identifying Hotspots...\" : \"Identify UK Investment Hotspots\"}\n                    </Button>\n\n                    {hotspotsError && (\n                      <p className=\"text-destructive text-sm\">{hotspotsError}</p>\n                    )}\n\n                    {hotspots && !hotspotsLoading && (\n                      <div className=\"prose dark:prose-invert max-w-none\">\n                        {hotspots.split(\"\\n\").map((paragraph, index) => (\n                          <p key={index}>{paragraph}</p>\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n\n                <section className=\"space-y-4\">\n                  <h2 className=\"text-2xl font-semibold\">Investment Strategies</h2>\n                  <p>\n                    We offer a variety of investment strategies to suit your\n                    individual goals and risk tolerance. Whether you're looking for\n                    long-term capital appreciation or steady rental income, we have\n                    the expertise to help you succeed.\n                  </p>\n                </section>\n\n                <section className=\"space-y-4\">\n                  <h2 className=\"text-2xl font-semibold\">Get Started Today</h2>\n                  <p>\n                    Browse our current investment opportunities and contact us to\n                    discuss your investment goals.\n                  </p>\n                  <Button>Explore Opportunities</Button>\n                </section>\n              </div>\n            </main>\n          </Layout>\n        </PageTransition>\n      );\n    }\n","import React from \"react\";\nimport Header from \"./Header\";\nimport HeroSection from \"./HeroSection\";\nimport { Layout } from \"./Layout\";\nimport { PageTransition } from \"./ui/page-transition\";\nimport { Button } from \"./ui/button\";\n\nexport default function AboutUsPage() {\n  return (\n    <PageTransition>\n      <Layout>\n        <HeroSection\n          title=\"About MyVGE\"\n          subtitle=\"Learn more about our mission and our team\"\n          backgroundImage=\"https://images.unsplash.com/photo-1507585495646-50c2b6dbd483?ixlib=rb-4.0.3\"\n          showSearch={false}\n          showStats={false}\n          height=\"h-[400px]\"\n        />\n        <main className=\"container mx-auto px-4 py-8 pt-24\">\n          <div className=\"max-w-4xl mx-auto space-y-8\">\n            <div className=\"text-center\">\n              <h1 className=\"text-3xl font-bold mb-2\">Our Story</h1>\n              <p className=\"text-muted-foreground\">\n                MyVGE is dedicated to providing property investors with the\n                tools and insights they need to succeed.\n              </p>\n            </div>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Our Mission</h2>\n              <p>\n                To empower property investors with comprehensive data, expert\n                analysis, and innovative tools to make informed decisions and\n                achieve their financial goals. We are committed to ethical\n                practices, diversity, and transparency in all our operations.\n              </p>\n            </section>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Our Values</h2>\n              <ul className=\"list-disc list-inside\">\n                <li>\n                  **Ethical Practices:** We adhere to the highest ethical\n                  standards in all our dealings, ensuring fairness and\n                  integrity.\n                </li>\n                <li>\n                  **Diversity:** We embrace diversity and inclusion, fostering\n                  a welcoming environment for all.\n                </li>\n                <li>\n                  **Transparency:** We are committed to open and honest\n                  communication, providing clear and accurate information to our\n                  users.\n                </li>\n              </ul>\n            </section>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Our Team</h2>\n              <p>\n                Our team consists of experienced property professionals, data\n                scientists, and technology experts who are passionate about\n                helping investors navigate the complexities of the real estate\n                market. We are a diverse group of individuals with a shared\n                commitment to excellence.\n              </p>\n            </section>\n\n            <section className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold\">Contact Us</h2>\n              <p>\n                We'd love to hear from you! Contact us to learn more about our\n                services or to discuss your investment needs.\n              </p>\n              <Button>Contact Us</Button>\n            </section>\n          </div>\n        </main>\n      </Layout>\n    </PageTransition>\n  );\n}\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport { PasswordProtect } from \"./components/PasswordProtect\";\nimport { Loading } from \"./components/ui/loading\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport {\n  useLocation,\n  useNavigate,\n  useRoutes,\n  Routes,\n  Route,\n} from \"react-router-dom\";\nimport { ProgressBar } from \"./components/ui/progress-bar\";\nimport { AuthProvider } from \"./lib/auth\";\nimport { Toaster } from \"./components/ui/toaster\";\nimport Home from \"./components/home\";\nimport Dashboard from \"./components/Dashboard\";\nimport PricingPage from \"./components/PricingPage\";\nimport SubscriptionSuccess from \"./components/SubscriptionSuccess\";\nimport SubscriptionCancel from \"./components/SubscriptionCancel\";\nimport AccountSettings from \"./components/AccountSettings\";\nimport { RequireAuth } from \"./components/RequireAuth\";\nimport routes from \"./tempo-routes\";\nimport FeaturedProperties from \"./components/SearchResults\";\nimport MarketInsightsPage from \"./components/MarketInsightsPage\";\nimport MarketTrendsPage from \"./components/MarketTrendsPage\";\nimport { ArticlePage } from \"./components/ArticlePage\";\nimport ResearchPage from \"./components/ResearchPage\";\nimport BlogPage from \"./components/BlogPage\";\nimport InvestmentCalculator from \"./components/InvestmentCalculator\";\nimport HelpSupportPage from \"./components/HelpSupportPage\";\nimport { ChatBot } from \"./components/ChatBot\";\nimport AuthCallback from \"./components/AuthCallback\";\nimport PropertyManagementPage from \"./components/PropertyManagementPage\";\nimport InvestmentOpportunitiesPage from \"./components/InvestmentOpportunitiesPage\";\nimport AboutUsPage from \"./components/AboutUsPage\";\n\nfunction AppContent() {\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const handleStart = () => setIsLoading(true);\n    const handleStop = () => setIsLoading(false);\n\n    handleStart();\n    const timer = setTimeout(handleStop, 100);\n\n    return () => clearTimeout(timer);\n  }, [location.pathname]);\n\n  useEffect(() => {\n    document.documentElement.classList.remove(\"dark\");\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {isLoading && <ProgressBar />}\n      <motion.div\n        key={location.pathname}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.2 }}\n      >\n        <Suspense fallback={<Loading />}>\n          <Routes location={location}>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/deals\" element={<FeaturedProperties />} />\n            <Route\n              path=\"/dashboard\"\n              element={\n                <RequireAuth>\n                  <Dashboard />\n                </RequireAuth>\n              }\n            />\n            <Route path=\"/pricing\" element={<PricingPage />} />\n            <Route\n              path=\"/subscription/success\"\n              element={<SubscriptionSuccess />}\n            />\n            <Route\n              path=\"/subscription/cancel\"\n              element={<SubscriptionCancel />}\n            />\n            <Route\n              path=\"/account\"\n              element={\n                <RequireAuth>\n                  <AccountSettings />\n                </RequireAuth>\n              }\n            />\n            <Route path=\"/insights\" element={<MarketInsightsPage />} />\n            <Route\n              path=\"/trends\"\n              element={<MarketTrendsPage />}\n            />\n            <Route path=\"/research\" element={<ResearchPage />} />\n            <Route path=\"/blog\" element={<BlogPage />} />\n            <Route path=\"/article/:title\" element={<ArticlePage />} />\n            <Route path=\"/blog/:slug\" element={<ArticlePage />} />\n            <Route path=\"/calculators\" element={<InvestmentCalculator />} />\n            <Route path=\"/help\" element={<HelpSupportPage />} />\n            <Route path=\"/auth/callback\" element={<AuthCallback />} />\n            <Route path=\"/property-management\" element={<PropertyManagementPage />} />\n            <Route path=\"/investment-opportunities\" element={<InvestmentOpportunitiesPage />} />\n            <Route path=\"/about-us\" element={<AboutUsPage />} />\n            {import.meta.env.VITE_TEMPO === \"true\" && (\n              <Route path=\"/tempobook/*\" />\n            )}\n          </Routes>\n        </Suspense>\n      </motion.div>\n      {import.meta.env.VITE_TEMPO === \"true\" && useRoutes(routes)}\n      <Toaster />\n      <ChatBot />\n    </div>\n  );\n}\n\nexport default function App() {\n  const [isAuthenticated, setIsAuthenticated] = React.useState(() => {\n    return localStorage.getItem(\"password-protected\") === \"true\";\n  });\n\n  if (!isAuthenticated) {\n    return <PasswordProtect onSuccess={() => setIsAuthenticated(true)} />;\n  }\n\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n","import React from \"react\";\n    import ReactDOM from \"react-dom/client\";\n    import App from \"./App.tsx\";\n    import \"./index.css\";\n    import { BrowserRouter } from \"react-router-dom\";\n\n    import { TempoDevtools } from \"tempo-devtools\";\n    import { AuthProvider } from \"./lib/auth\";\n    import posthog from 'posthog-js'\n    import { ClerkProvider } from \"@clerk/clerk-react\";\n\n    TempoDevtools.init();\n\n    posthog.init('phc_Pg1VGdZoazG7KyDNxnUXNZZz6zPVrGNSRtFlDnlZCcA',\n        {\n            api_host: 'https://eu.i.posthog.com',\n            person_profiles: 'identified_only' // or 'always' to create profiles for anonymous users as well\n        }\n    )\n\n    const clerkPubKey = import.meta.env.VITE_CLERK_PUBLISHABLE_KEY;\n\n    if (!clerkPubKey) {\n      throw new Error(\"VITE_CLERK_PUBLISHABLE_KEY is not defined\");\n    }\n\n    ReactDOM.createRoot(document.getElementById(\"root\")!).render(\n      <React.StrictMode>\n        <ClerkProvider publishableKey={clerkPubKey}>\n          <BrowserRouter>\n            <AuthProvider>\n              <App />\n            </AuthProvider>\n          </BrowserRouter>\n        </ClerkProvider>\n      </React.StrictMode>,\n    );\n"],"names":["cn","inputs","twMerge","clsx","Card","React.forwardRef","className","props","ref","jsx","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","Input","type","buttonVariants","cva","Button","variant","size","asChild","Comp","Slot","PasswordProtect","onSuccess","password","setPassword","React","error","setError","handleSubmit","e","jsxs","Lock","ArrowRight","Loading","ProgressBar","supabaseUrl","supabaseAnonKey","supabase","createClient","AuthContext","createContext","AuthProvider","children","profile","setProfile","useState","isLoading","setIsLoading","navigate","useNavigate","clerkUser","isSignedIn","clerkSignOut","isLoaded","useClerk","user","setUser","fetchProfile","userId","profileError","initAuth","useEffect","signOut","value","useAuth","context","useContext","ToastProvider","ToastPrimitives.Provider","ToastViewport","ToastPrimitives.Viewport","toastVariants","Toast","ToastPrimitives.Root","ToastAction","ToastPrimitives.Action","ToastClose","ToastPrimitives.Close","Cross2Icon","ToastTitle","ToastPrimitives.Title","ToastDescription","ToastPrimitives.Description","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","timeout","dispatch","reducer","state","action","t","toast","listeners","memoryState","listener","id","update","dismiss","open","useToast","setState","React.useState","React.useEffect","index","Toaster","toasts","title","description","MobileNav","isOpen","onClose","AnimatePresence","motion","X","NavigationMenu","NavigationMenuPrimitive.Root","NavigationMenuViewport","NavigationMenuList","NavigationMenuPrimitive.List","NavigationMenuItem","NavigationMenuPrimitive.Item","navigationMenuTriggerStyle","NavigationMenuTrigger","NavigationMenuPrimitive.Trigger","ChevronDown","NavigationMenuContent","NavigationMenuPrimitive.Content","NavigationMenuLink","NavigationMenuPrimitive.Link","NavigationMenuPrimitive.Viewport","NavigationMenuIndicator","NavigationMenuPrimitive.Indicator","Avatar","AvatarPrimitive.Root","AvatarImage","AvatarPrimitive.Image","AvatarFallback","AvatarPrimitive.Fallback","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","DropdownMenuPrimitive.SubTrigger","ChevronRightIcon","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","CheckIcon","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","DotFilledIcon","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","Header","isAuthenticated","onSignIn","onSignUp","userProfile","showMobileMenu","setShowMobileMenu","handleSignOut","ListItem","Fragment","Menu","Crown","_a","n","LayoutDashboard","Settings","LogOut","SignInButton","LogIn","SignUpButton","UserPlus","HeroSection","onSearch","backgroundImage","subtitle","showSearch","showStats","height","searchTerm","setSearchTerm","Search","searchProperties","data","saveProperty","propertyId","notes","getSavedProperties","PropertyCard","address","price","squareFootage","bedrooms","bathrooms","isPremium","isSubscriber","images","isLiked","setIsLiked","likeCount","setLikeCount","isImageLoading","setIsImageLoading","handleLike","Heart","HeartOff","MessageCircle","Tabs","TabsPrimitive.Root","TabsList","TabsPrimitive.List","TabsTrigger","TabsPrimitive.Trigger","TabsContent","TabsPrimitive.Content","MarketTrends","trends","articles","priceData","regionalData","ResponsiveContainer","AreaChart","CartesianGrid","XAxis","YAxis","Tooltip","Area","LineChart","Line","Map","trend","PoundSterling","Home","TrendingUp","article","alertVariants","Alert","AlertTitle","AlertDescription","SubscriptionCTA","onSubscribe","Dialog","DialogPrimitive.Root","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","DialogPrimitive.Close","DialogHeader","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","SUBSCRIPTION_TIERS","createCheckoutSession","priceId","response","sessionId","stripe","loadStripe","SubscriptionPlans","currentTier","key","tier","feature","Check","SubscriptionModal","handleSubscribe","event","Textarea","profanityList","filterProfanity","text","filteredText","word","regex","sendMessage","senderId","receiverId","content","isSupport","filteredContent","getConversation","otherId","PropertyMessages","messages","setMessages","newMessage","setNewMessage","isSubmitting","setIsSubmitting","messagesEndRef","loadMessages","subscription","scrollToBottom","message","isSender","MessagesModal","RandomFact","fact","setFact","Lightbulb","Footer","LegalDisclaimer","Info","CarouselContext","React.createContext","useCarousel","React.useContext","Carousel","orientation","opts","setApi","plugins","carouselRef","api","useEmblaCarousel","canScrollPrev","setCanScrollPrev","canScrollNext","setCanScrollNext","onSelect","React.useCallback","scrollPrev","scrollNext","handleKeyDown","CarouselContent","CarouselItem","CarouselPrevious","ArrowLeftIcon","CarouselNext","ArrowRightIcon","partners","PartnersCarousel","partner","searchResults","setSearchResults","isSearching","setIsSearching","isSubscriptionModalOpen","setIsSubscriptionModalOpen","isMessagesModalOpen","setIsMessagesModalOpen","selectedReceiverId","setSelectedReceiverId","loadFeaturedProperties","handleOpenMessages","handleSearch","term","results","p","_","i","property","labelVariants","Label","LabelPrimitive.Root","AddPropertyModal","assignedUser","setAssignedUser","users","setUsers","formData","setFormData","prev","Layout","fetchPropertyNews","generateMarketInsights","prompt","formattedPrompt","_e","_d","_c","_b","insights","storeMarketInsights","getLatestMarketInsights","generatePriceForecast","area","generateInvestmentHotspots","generateCashFlowAnalysis","propertyDetails","generateCapRateAnalysis","generateROIForecasting","L","markerIcon2x","markerIcon","markerShadow","position","InteractiveMap","MapContainer","TileLayer","Dashboard","savedProperties","setSavedProperties","addedProperties","setAddedProperties","isAddPropertyModalOpen","setIsAddPropertyModalOpen","portfolioStats","setPortfolioStats","cashFlowAnalysis","setCashFlowAnalysis","capRateAnalysis","setCapRateAnalysis","roiForecasting","setRoiForecasting","analysisLoading","setAnalysisLoading","analysisError","setAnalysisError","loadUsers","loadProperties","saved","added","totalProperties","totalValue","sum","prop","averagePrice","totalProfit","monthlyIncome","handleInvestmentAnalysis","cashFlowData","capRateData","roiData","MapIcon","paragraph","PricingPage","OnboardingModal","step","setStep","loading","setLoading","handleComplete","steps","widget","w","s","SubscriptionSuccess","searchParams","useSearchParams","showOnboarding","setShowOnboarding","SubscriptionCancel","timer","AccountSettings","handleUpdateProfile","updates","handleUpdatePassword","RequireAuth","PageTransition","useBitcoinPrice","btcPrice","setBtcPrice","fetchPrice","priceText","interval","gbpAmount","BitcoinPrice","amount","convertGBPtoBTC","btcAmount","Bitcoin","PropertyDetailsModal","onMessageAuthor","predictionData","currentYear","basePrice","growthRate","getFeaturedDeals","FeaturedProperties","isLoadingProp","properties","setProperties","selectedProperty","setSelectedProperty","handleMessageAuthor","authorId","MarketInsightsPage","__","news","setNews","setInsights","newsData","latestInsights","newInsights","AlertTriangle","line","Newspaper","MarketTrendsPage","forecast","setForecast","forecastLoading","setForecastLoading","forecastError","setForecastError","handleGenerateForecast","forecastData","ArticlePage","date","readTime","Calendar","Clock","ResearchReports","isPro","BarChart","FileText","ResearchPage","BlogPage","blogPosts","post","Tag","InvestmentCalculator","mortgageResult","setMortgageResult","buyToLetResult","setBuyToLetResult","developmentResult","setDevelopmentResult","rentalYieldResult","setRentalYieldResult","roiResult","setRoiResult","mortgageData","setMortgageData","buyToLetData","setBuyToLetData","developmentData","setDevelopmentData","rentalYieldData","setRentalYieldData","setRoiData","calculateMortgage","P","r","monthlyPayment","calculateBuyToLet","monthlyInterest","monthlyCashflow","calculateDevelopment","totalCosts","profit","calculateRentalYield","yield_","calculateROI","roi","Building","Calculator","Percent","HelpSupportPage","supportCategories","Book","HelpCircle","contactMethods","Mail","Phone","category","item","method","GEMINI_API_KEY","popularQuestions","getChatResponse","ChatBot","setIsOpen","activeTab","setActiveTab","input","setInput","contacts","setContacts","selectedContact","setSelectedContact","scrollRef","loadContacts","contact","c","uniqueContacts","msg","handleSend","aiError","payload","Bot","Users","HeadphonesIcon","question","Send","AuthCallback","existingProfile","managementServices","PropertyManagementPage","service","investmentOpportunities","InvestmentOpportunitiesPage","hotspots","setHotspots","hotspotsLoading","setHotspotsLoading","hotspotsError","setHotspotsError","handleGenerateHotspots","hotspotsData","opportunity","AboutUsPage","AppContent","location","useLocation","handleStart","handleStop","Suspense","Routes","Route","App","setIsAuthenticated","TempoDevtools","posthog","clerkPubKey","ReactDOM","ClerkProvider","BrowserRouter"],"mappings":"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"}